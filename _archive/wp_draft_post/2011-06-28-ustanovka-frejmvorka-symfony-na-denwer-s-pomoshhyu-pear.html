---
layout: post
status: publish
published: true
title: Установка фреймворка Symfony 1.4 на Denwer с помощью Pear
author:
  display_name: SlowProg
  login: seoadmin
  email: paperplanesu@rambler.ru
  url: http://paperplane.su
author_login: seoadmin
author_email: paperplanesu@rambler.ru
author_url: http://paperplane.su
wordpress_id: 114
wordpress_url: http://paperplane.su/?p=114
date: '2011-06-28 13:40:21 +0400'
date_gmt: '2011-06-28 13:40:21 +0400'
categories:
- Symfony 1.4
tags:
- установка
- Symfony
- Denwer
- Pear
- фреймворк
comments:
- id: 6
  author: felix90
  author_email: my@felix90.ru
  author_url: http://felix90.ru
  date: '2011-06-29 05:07:36 +0400'
  date_gmt: '2011-06-29 05:07:36 +0400'
  content: Я когда-то тоже денвер юзал и точно помню, что во время установки симфони
    никаких проблем не возникало. А вообще, все эти денверы, ксапмы и прочее - ересь.
    Рекомендую использовать связку VMware + linux. Лучшего полигона для тестирования
    php не найти)
- id: 7
  author: seoadmin
  author_email: gilberthosting@gmail.com
  author_url: ''
  date: '2011-06-29 06:05:24 +0400'
  date_gmt: '2011-06-29 06:05:24 +0400'
  content: А вот у меня возникли проблемы. И как я читал в сети у некоторых тоже возникали.
    Но в принципе я согласен, что на денвер ставить это извращение, но многие с этого
    начинают. что поделать!
- id: 45361
  author: Alexandr
  author_email: proveider@list.ru
  author_url: ''
  date: '2012-04-25 12:39:13 +0400'
  date_gmt: '2012-04-25 08:39:13 +0400'
  content: "Добрый день.. вопрос по статье.. \r\nЧерез командную строку заходим в
    директорию тестового проекта и запускаем команду:\r\n1\r\nsymfony generate:project
    test_projects\r\nОна создаст Symfony-проект, под этим подразумевается создание
    стандартной структуры каталогов и файлов, необходимых для проекта\r\nТеперь создадим
    фронтэнд-приложение при помощи команды:\r\n1\r\nsymfony generate:app --escaping-strategy=on
    --csrf-secret=Unique$ecret frontend\r\nЭта команда создаёт стандартную файловую
    структуру для приложения, которое отображает часть сайта видимую посетителю\r\n\r\nкак
    это возможно осуществить.. винда ругается на отсутствие команды symfony."
- id: 45362
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-04-25 13:08:20 +0400'
  date_gmt: '2012-04-25 09:08:20 +0400'
  content: "Скорее всего у вас при установки не установилась переменная среды для
    работы через командную строку. Эта переменная должна указывать на один из файлов
    Симфони, который отвечает за работу с cmd. \n\nНо я хочу вот, что спросить? Вам
    точно нужно Symfony 1.4 установить? Просто давно уже вышла Symfony 2, которая
    гораздо лучше, да и к тому же 1.4 поддерживается только до конца этого года. Если
    вы еще просто не решили, то обязательно 2 ставьте, вот <a href=\"http:&#47;&#47;paperplane.su&#47;ustanovka-i-nastrojka-symfony-2-na-denwer&#47;\"
    title=\"Установка и настройка Symfony 2 на Denwer\" rel=\"nofollow\">мануал по
    установке Symfony 2<&#47;a>."
- id: 45363
  author: Alexandr
  author_email: proveider@list.ru
  author_url: ''
  date: '2012-04-25 13:12:37 +0400'
  date_gmt: '2012-04-25 09:12:37 +0400'
  content: "в переменной среде я установил c:\\webservers\\usr\\local\\php5 \r\nкаталог
    где симфони и находиться...\r\n1.4 - только из за того что на ней работает уже
    портал.. не моя прериготива.."
- id: 45365
  author: Alexandr
  author_email: proveider@list.ru
  author_url: ''
  date: '2012-04-25 13:22:17 +0400'
  date_gmt: '2012-04-25 09:22:17 +0400'
  content: кстате проверил еще раз нашел ошибку вместо php5 стояло просто php.. Сейчас
    протестирую.. спасибо за подсказку.. а то я по вашей статье 2 день голову себе
    ломаю... Кстате статейка хорошая... спасибо!
- id: 45369
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-04-25 13:56:03 +0400'
  date_gmt: '2012-04-25 09:56:03 +0400'
  content: Вот и отлично! Не за то =)
- id: 45372
  author: Alexandr
  author_email: proveider@list.ru
  author_url: ''
  date: '2012-04-25 14:08:25 +0400'
  date_gmt: '2012-04-25 10:08:25 +0400'
  content: проблема таилась в Переменной среде)) зря убиты два дня)) еще раз спасибо))
- id: 45374
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-04-25 14:31:26 +0400'
  date_gmt: '2012-04-25 10:31:26 +0400'
  content: Нет, не зря! Это опыт, он всегда такой! Два-три дня мучений в обмен на
    элементарное решение =) Дальше легче =)
---
<p><a href="http:&#47;&#47;image.paperplane.su&#47;2011&#47;06&#47;denwer_symfony.png"><img class="alignleft size-medium wp-image-115" title="Установка фреймворка Symfony на Denwer с помощью Pear" src="http:&#47;&#47;image.paperplane.su&#47;2011&#47;06&#47;denwer_symfony-300x300.png" alt="Установка фреймворка Symfony на Denwer с помощью Pear" width="300" height="300" &#47;><&#47;a>Фреймворк Symfony &mdash; это свободный каркас, написанный на PHP5, с открытым кодом, который использует паттерн Model-View-Controller (MVC). Symfony предлагает быструю разработку и управление веб-приложениями, позволяет легко решать рутинные задачи веб-программиста. Ну, что это такое и с чем это кушают я сейчас писать не буду, если кому не терпится узнать, то прошу <a href="http:&#47;&#47;trac.symfony-project.org&#47;wiki&#47;Documentation&#47;ru_RU" rel="nofollow" target="_blank">сюда<&#47;a>. Перейдем к сути...</p>
<p>Совсем недавно я захотел поюзать Symfony. Для начала решил поставить его локально. Для локальных разработок я использую Denwer. Достаточно неплохой пакет мне кажется. И вот при попытке установить Symfony на Denwer и создать свой первый проект, я наткнулся на подводные камни, и по-этому я решил написать пост о том как мне удалось его установить, может кому и понадобится. Но все же для начала, я бы советовал попробовать другой способ описанный в <a title="Ручная установка Symfony на Denwer" href="http:&#47;&#47;paperplane.su&#47;blog&#47;workshop&#47;ruchnaya-ustanovka-symfony-na-denwer" target="_blank">этой<&#47;a> моей статье. Способ куда проще. Если он не получится, то тогда пытайтесь с помощью Pear. Ну, приступим...</p>
<h2>Denwer<&#47;h2><br />
Для установки платформы готовой к Symfony, необходимо проделать следующие шаги:</p>
<ol>
<li>Надо скачать и установить базовый пакет <a href="http:&#47;&#47;www.denwer.ru&#47;base.html" rel="nofollow" target="_blank">Denwer<&#47;a>. Там все легко и просто, потому не будем зацикливаться.<&#47;li>
<li>Качаем и устанавливаем дополнительные модули для <a href="http:&#47;&#47;www.denwer.ru&#47;packages&#47;php5.html" rel="nofollow" target="_blank">php5<&#47;a>.<&#47;li>
<li>Необходимо исправить файл \usr\local\php5\php.ini в Denwer. Открываем его и путь для расширений устанавливаем&nbsp;жестко&nbsp;относительно диска, например мой проект будет стоять на C:&#47; по-этому путь будет extension_dir = "с:\usr\local\php5\ext" (слеши должны быть обязательно обратные, не смотря на то что там прямые слеши, иначе php будет ругаться)<&#47;li>
<li>В том же php.ini проверить активны ли необходимые модули, если не активны, то их надо активировать (убрать комментарий перед ним). Необходимые модули: extension=php_gd2.dll, extension=php_mysql.dll, extension=php_mysqli.dll, extension=php_pdo_mysql.dll, extension=php_xsl.dll<&#47;li>
<li>Добавить в переменные среды путь к php.exe (в нашем случаи path=с:\usr\local\php5\). Переменные среды можно найти в свойствах компьютера, в зависимости от винды попасть туда по-разному, я думаю разберетесь<&#47;li><br />
<&#47;ol></p>
<h2>Pear<&#47;h2><br />
В процессе установки Pear у меня возникли некоторые сложности, но я постараюсь тут все разжевать, чтобы вы все прошли гладко. Для установки необходимо:</p>
<ol>
<li>Запустить go-pear.bat из директории с:\usr\local\php5\. Если при запуске go_pear.bat возникает ошибка: "does not have a signature" тогда необходимо поменять go_pear.bat. Открываем его для редактирования и между "%PHP_BIN%" и "-d" вставляем: "-d phar.require_hash=0", т.е. на выходе должна получиться следующая строка:<br />
[cce lang="bash"]%PHP_BIN% -d phar.require_hash=0 -d output_buffering=0 PEAR\go-pear.phar[&#47;cce]<br />
После этого все должно заработать.<&#47;li></p>
<li>В процессе установки у вас спросят вопросы, вы на них ответе в порядке поступления их: local, yes, нажать Enter. Вроде всё. После этого Pear должен встать<&#47;li>
<li>Желательно, но необязательно, обновить Pear. Подключение к Интеренету обязательно. Для этого запускаем cmd, переходим в директорию php5 с помощь команды "cd &#47;d с:\usr\local\php5\" и вводим команду "pear upgrade PEAR".<&#47;li><br />
<&#47;ol></p>
<h2>Symfony<&#47;h2><br />
Далее необходимо установить Symfony и поставить тестовый проект, чтобы проверить работу фреймворка. Для этого необходимо проделать следующие операции</p>
<ol>
<li>В командной строке (cmd) даем команду на добавление репозитория Symfony: "pear channel-discover pear.symfony-project.com". В случаи если батник начнет ругаться на значение переменных (например PHP_PEAR_PHP_BIN), то советую подредактировать его (он находится по адресу с:\usr\local\php5\pear.bat) и перед самой проверкой переменных, а коде батника это следующие строки:<br />
[cce lang="text"]IF NOT EXIST "%PHP_PEAR_INSTALL_DIR%" GOTO PEAR_INSTALL_ERROR<br />
IF NOT EXIST "%PHP_PEAR_INSTALL_DIR%\pearcmd.php" GOTO PEAR_INSTALL_ERROR2<br />
IF NOT EXIST "%PHP_PEAR_BIN_DIR%" GOTO PEAR_BIN_ERROR<br />
IF NOT EXIST "%PHP_PEAR_PHP_BIN%" GOTO PEAR_PHPBIN_ERROR[&#47;cce]<br />
Дык вот, перед этим кодом жестко установить все переменные, на которые он ругается, относительно корня диска, например:<br />
[cce lang="text"]SET "PHP_PEAR_PHP_BIN=с:\usr\local\php5\php.exe"[&#47;cce]<br />
После этого, я очень надеюсь, у вас все заработает.<&#47;li></p>
<li>А теперь даем самую главную команду на установку фреймворка:<br />
[cce lang="text"]pear install symfony&#47;symfony[&#47;cce]<br />
<&#47;li><br />
<&#47;ol><br />
На этом установка Symfony на Denwer закончена. Для проверки правильности установки необходимо запустить в командной строке команду "symfony", в результате должен отобразится подсказка со списком команд. Но для полного теста нам бы проект какой-нибудь поставить. Вот этим то и займемся.</p>
<h2>Создание тестового проекта<&#47;h2><br />
Тут все не так просто, как обычно при создании проекта в Denwer. Автоматически создать не получится, по-этому все делаем ручками:</p>
<ol>
<li>Создаем каталог, где будут хранится все проекты написанные на Symfony. Лучше всего создать в самой папке Denwer, не в home, а выше на один уровень. Назовем ее "symfony"<&#47;li>
<li>В этой папке создадим папку для нашего тестового проекта "test_projects"<&#47;li>
<li>Через командную строку заходим в&nbsp;директорию&nbsp;тестового проекта и запускаем команду:<br />
[cce lang="text"]symfony generate:project test_projects[&#47;cce]<br />
Она создаст Symfony-проект, под этим подразумевается создание стандартной структуры каталогов и файлов, необходимых для проекта<&#47;li></p>
<li>Теперь создадим фронтэнд-приложение при помощи команды:<br />
[cce lang="text"]symfony generate:app --escaping-strategy=on --csrf-secret=Unique$ecret frontend[&#47;cce]<br />
Эта команда создаёт стандартную файловую структуру для приложения, которое отображает часть сайта видимую посетителю<&#47;li></p>
<li>После создания всех необходимых файлов и директорий необходимо создать вручную виртуальный хост в Denwer. Для этого надо прописать в файле-конфиге Апача \usr\local\apache\conf\httpd.conf следующие строки:<br />
[cce lang="text"]<VirtualHost 127.0.0.1:80><br />
	ServerName test_projects<br />
 	DocumentRoot "e:&#47;symfony&#47;test_projects&#47;web"<br />
 	DirectoryIndex index.php<br />
 	<Directory "e:&#47;symfony&#47;test_projects&#47;web"><br />
 	 	AllowOverride All<br />
 	 	Allow from All<br />
 	<&#47;Directory><br />
 	Alias &#47;sf c:\usr\local\php5\data\symfony\web\sf<br />
 	<Directory "e:\usr\local\php5\data\symfony\web\sf"><br />
 	 	AllowOverride All<br />
 	 	Allow from All<br />
 	<&#47;Directory><br />
<&#47;VirtualHost>[&#47;cce]<br />
<&#47;li></p>
<li>После всего этого правим файл c:\WINDOWS\system32\drivers\etc\hosts (под windows 7), добавляем строчку "127.0.0.1 test_projects"<&#47;li><br />
<&#47;ol><br />
Теперь перезапускам Denwer, если он у вас был включен. Открываем браузер и в адресной строке набираем "http:&#47;&#47;test_projects&#47;index.php" и если что-то вылезло связанное с Symfony, то все прошло удачно. Поздравляю вас! Теперь вы можете приступить к полному изучению данного фреймворка. Может быть в будущем я даже напишу что-нибудь по этому поводу. А сейчас, всем удачных разработок! До скорых встреч!</p>
<p>PS: Если вы хотите начать свой проект в Интернете, то вам обязательно понадобиться профессиональный <a href="http:&#47;&#47;ispserver.com">хостинг для сайтов<&#47;a>. Тут вам предоставят все виды хостинга, многоязычную поддержку 24&#47;7, широкий выбор тарифных планов и многое другое. Рекомендую!</p>

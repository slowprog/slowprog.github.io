---
layout: post
status: publish
published: true
title: XML карта сайта WordPress
author:
  display_name: SlowProg
  login: seoadmin
  email: paperplanesu@rambler.ru
  url: http://paperplane.su
author_login: seoadmin
author_email: paperplanesu@rambler.ru
author_url: http://paperplane.su
wordpress_id: 2770
wordpress_url: http://paperplane.su/?p=2770
date: '2013-02-09 17:48:19 +0400'
date_gmt: '2013-02-09 13:48:19 +0400'
categories:
- Без плагина
tags:
- карта сайта
- xml
comments:
- id: 136667
  author: Otshelnik-fm
  author_email: Otshelnik-Fm@yandex.ru
  author_url: http://beoff.ru
  date: '2013-02-09 19:02:38 +0400'
  date_gmt: '2013-02-09 15:02:38 +0400'
  content: "Боюсь пробовать с 3000 записями. плагин Google XML Sitemap ел много памяти.\r\n\r\nЕще
    вопрос - в том плагине Google XML Sitemap была ссылка для принудительного обновления
    вручную. Тоесть можно было поступать так: Активируешь плагин, нажимаешь построить
    карту вручную. Он генерировал новую карту, а затем отключаешь его нафик...\r\n\r\nЭто
    для визиток и прочих малообновляемых блогов самое то. Незачем ему вхолостую работать.
    А ваш код включен всегда. И нет принудительного создания карты?\r\n\r\nв википедии
    есть примеры использование HTTP-запроса http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;Sitemaps
    для яндекса и яху в табличке с ссылками на подробную информацию"
- id: 136675
  author: Екатерина
  author_email: katrina565@gmail.com
  author_url: http://donturistik.ru
  date: '2013-02-09 19:53:59 +0400'
  date_gmt: '2013-02-09 15:53:59 +0400'
  content: Для новых сайтов, созданных в 2013-м, <em>Google XML Sitemap<&#47;em> отрабатывает
    нормально. Это для полноты картины.
- id: 136704
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-10 00:47:41 +0400'
  date_gmt: '2013-02-09 20:47:41 +0400'
  content: Х.з. У меня Google XML Sitemap нормально всё отрабатывает. Сайт 2012 года,
    WP и плагины обновлял.
- id: 136706
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-10 01:11:59 +0400'
  date_gmt: '2013-02-09 21:11:59 +0400'
  content: "Для искусственного запуска один раз можно опубликовать фейковую страничку
    и удалить её. Но это не красиво т.к. эта страничка так же будет в карте. есть
    другой способ. Нужно добавить еще один хук:\r\n<code>add_action(\"save_post\",
    \"sp_xml_sitemap\");<&#47;code>\r\nОн позволит строить карту просто при каждом
    сохранении поста или страницы. Т.е. публиковать не надо, а просто нажать сохранить
    (обновить) в уже имеющемся посте. После этого можно этот код удалить, да и вообще
    всё можно удалить если это сайт-визитка =)\r\n\r\nНа счет википедии. Я её видел.
    Там у 3х из 5и подписано какая ошибка возникает. Т.е. не работают яху, яндекс
    и аск."
- id: 136707
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-10 01:13:36 +0400'
  date_gmt: '2013-02-09 21:13:36 +0400'
  content: Ну и хорошо! Я рад! (или нет!) Но суть не в этом, а в том что это крутая
    штука для WordPress БЕЗ ПЛАГИНА =РРРРРРР
- id: 136708
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-10 01:16:54 +0400'
  date_gmt: '2013-02-09 21:16:54 +0400'
  content: Я тоже рад. Или нет. О.к., в следующий раз подумаю - стОит писать просто
    так (не по делу) или нет. ;)
- id: 136713
  author: Otshelnik-fm
  author_email: Otshelnik-Fm@yandex.ru
  author_url: http://beoff.ru
  date: '2013-02-10 01:32:37 +0400'
  date_gmt: '2013-02-09 21:32:37 +0400'
  content: http:&#47;&#47;help.yandex.ru&#47;site&#47;optimizing.xml#http  есть у
    яндекса по http, но для этого надо добавить сайт в вебмастер и указать ip. Способ
    корявый т.к. указываются в get запросе страницы. Проще их плагин поставить
- id: 136714
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-10 01:42:09 +0400'
  date_gmt: '2013-02-09 21:42:09 +0400'
  content: В общем такой способ совсем не подходит т.к. не универсальный. А жаль.
    Яндекс, как всегда расстраивает своим неимоверным геморроем =)
- id: 136731
  author: Morontt
  author_email: morontt@gmail.com
  author_url: http://morontt.info
  date: '2013-02-10 04:36:41 +0400'
  date_gmt: '2013-02-10 00:36:41 +0400'
  content: Не с моего-ли комментария казус вскрылся? Или просто совпадение? :)
- id: 136751
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-10 09:08:44 +0400'
  date_gmt: '2013-02-10 05:08:44 +0400'
  content: "Вряд ли комментарий виноват. Хотя если только супер хитрая SQL-инъекция
    прошла, ты получил данные пользователей, \"быстренько\" разгадал пароль админа
    с помощью радужных таблиц, получил доступ к сайту и зачем-то испоганил кодировку
    xDDDD\r\n\r\nА вообще это плагин кеширования, я думаю виноват, почему-то стал
    барахлить. И я его частично отключил до лучших времён.\r\n\r\nНо вообще всё это
    косвенно послужило поводом написать эту статью =)"
- id: 136778
  author: Екатерина
  author_email: katrina565@gmail.com
  author_url: http://donturistik.ru
  date: '2013-02-10 16:51:33 +0400'
  date_gmt: '2013-02-10 12:51:33 +0400'
  content: "Да, все с моей карты сайта и началось :) Вот ведь - не прочитала бы коммент,
    не полезла бы смотреть, не обнаружила бы косяк плагина и не видать нам всем нового
    революционного кода! ;)\r\nАндрей (SlowProg), код поставила, все работает, еще
    минус один плагин!"
- id: 136780
  author: Екатерина
  author_email: katrina565@gmail.com
  author_url: http://donturistik.ru
  date: '2013-02-10 16:54:11 +0400'
  date_gmt: '2013-02-10 12:54:11 +0400'
  content: Кстати, а для карты картинок ты такой код сможешь написать? У меня этим
    делом сейчас тоже плагин рулит.
- id: 136828
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-11 19:43:35 +0400'
  date_gmt: '2013-02-11 15:43:35 +0400'
  content: Думаю можно. А это нужно? объясни мне в чём резон? У тебя плохо картинки
    индексируются? Этот плагин тебе помог? Ты ощутила сильную пользу от него? Или
    ты поставила его до кучи?
- id: 136845
  author: Otshelnik-fm
  author_email: Otshelnik-Fm@yandex.ru
  author_url: http://beoff.ru
  date: '2013-02-12 00:24:31 +0400'
  date_gmt: '2013-02-11 20:24:31 +0400'
  content: "Я думаю так называет Катя страницу, где отображается галерея для посетителей.
    А, \r\nЕкатерина, яша и гугл отлично картинки индексируют просто так, без ничего.
    У меня нашел яндекс 24тыс. и 14 тысячи гугл."
- id: 136854
  author: Morontt
  author_email: morontt@gmail.com
  author_url: http://morontt.info
  date: '2013-02-12 03:13:56 +0400'
  date_gmt: '2013-02-11 23:13:56 +0400'
  content: Да, тот камент и имел в виду :) А для себя впервые увидел там не голый
    XML-документ, а нечто с каким-никаким стилевым оформлением. Даже не знал, что
    такое возможно. Как будет свободное время, то и на свой сайт такую штуку прикручу.
- id: 136856
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 03:20:23 +0400'
  date_gmt: '2013-02-11 23:20:23 +0400'
  content: Доооо! К XML можно прикрутить стили и браузеры даже их понимают, но в своем
    варианте я этого не стал делать т.к. стремился к минимализму (почти как к каннибализму).
    Но вот сейчас думаю, много ли таких людей как ты, которые смотрят карты сайта
    в поисках интересного? Как ты думаешь?
- id: 136858
  author: Morontt
  author_email: morontt@gmail.com
  author_url: http://morontt.info
  date: '2013-02-12 04:15:32 +0400'
  date_gmt: '2013-02-12 00:15:32 +0400'
  content: Не знаю, много или нет, но я заглядываю. И код страниц смотрю, и стили,
    и яваскрипты, если вдруг что-то на странице заинтересует :-)
- id: 136871
  author: Екатерина
  author_email: katrina565@gmail.com
  author_url: http://donturistik.ru
  date: '2013-02-12 12:27:05 +0400'
  date_gmt: '2013-02-12 08:27:05 +0400'
  content: "Нет-нет, именно карта сайта для картинок\r\ndonturistik.ru&#47;sitemap-image.xml\r\nМне
    посоветовали, когда я жаловалась, что Гугл меня плохо индексирует. Есть ли от
    этой штуки польза, честно говоря не знаю - сейчас, вроде, Гугл побыстрее индексировать
    стал, но из-за этой ли карты - трудно сказать. А плагин, конечно, хорошо бы убрать.
    И еще не нравится, что он все варианты вордпрессовских картинок в индекс отправляет
    (т.е. все размеры)."
- id: 136873
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 12:49:30 +0400'
  date_gmt: '2013-02-12 08:49:30 +0400'
  content: Ну я вот тоже всё это гляжу, но в XML-карту как-то не заглядывал. Хотя
    наверно сейчас буду тоже xDDDD По ней можно составить быстро впечатление о ресурсе,
    как минимум. Будет время тогда и к этой карте приделаю стили =)))
- id: 136874
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 12:52:55 +0400'
  date_gmt: '2013-02-12 08:52:55 +0400'
  content: "В общем польза сомнительна. А плагин можно так удалить и оглядеть будет
    ли хуже =)))\r\n\r\nА на счет всех размеров, дык это даже лучше. Больше позиций
    твоими картинками занято будет. Да еще ведь есть поиск по размерам - твои картинки
    будут в нескольких размерах, а не в одном! Что в этом плохого?"
- id: 136876
  author: Morontt
  author_email: morontt@gmail.com
  author_url: http://morontt.info
  date: '2013-02-12 12:54:46 +0400'
  date_gmt: '2013-02-12 08:54:46 +0400'
  content: Я в свою заглядываю время от времени, проверить, не сломалось ли. Движок
    то самописный, сам не проверишь - никто не проверит :) Хотя, думаю, не зря я девелоперские
    инструменты гугла, яндекса и бинга подключил. Там в отчётах можно увидеть сообщения
    о проблемах. Несколько "багов" уже выявил и исправил таким образом.
- id: 136877
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 12:58:02 +0400'
  date_gmt: '2013-02-12 08:58:02 +0400'
  content: 'В общем решено: <strong>наведем красоту в XML-картах<&#47;strong> =))))'
- id: 136878
  author: Morontt
  author_email: morontt@gmail.com
  author_url: http://morontt.info
  date: '2013-02-12 12:59:38 +0400'
  date_gmt: '2013-02-12 08:59:38 +0400'
  content: Сегодня и закоммичу :)
- id: 136879
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-12 13:05:41 +0400'
  date_gmt: '2013-02-12 09:05:41 +0400'
  content: Ну вы прям весь вордпресс без плагинов решили оставить. :) Не проще ли
    тогда на голом HTML&#47;PHP сайт собрать в дримвьювере? :) Всё равно в этот .xml
    никто кроме роботов не заглядывает, а им на CSS пофиг, они их вообще не видят.
    Или все вдруг в сео ударились поголовно, бум что-ли очередной. Я это к чему. К
    тому, что польза-то от того, чтобы переводить сайт с плагина на чистый код в этом
    случае какая-то уж очень сомнительная. Х.з. Может я не прав?
- id: 136880
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-12 13:07:58 +0400'
  date_gmt: '2013-02-12 09:07:58 +0400'
  content: Ну вот яндекс этот код не оповещает. По-моему для рунета этим уже всё сказано.
- id: 136881
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 13:12:31 +0400'
  date_gmt: '2013-02-12 09:12:31 +0400'
  content: "Польза от уменьшения количества плагинов есть. Читать в начале <a href=\"http:&#47;&#47;paperplane.su&#47;wordpress-udalenie-lishnix-plaginov&#47;\"
    rel=\"nofollow\">тут<&#47;a>. Вроде как тема известная. \r\n\r\nИ да, кстати,
    негласным плюсом я считаю то, что человек устанавливающий код вместо плагинов
    по-немного изучает PHP и учится им пользоваться наживую.\r\n\r\nЕсли скажешь какой
    код (плагин, ресурс и др.) анонимно оповещает яндекс о создании карты, то я пирожок
    дам и у меня в коде это тоже появится =)"
- id: 136885
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-12 13:37:45 +0400'
  date_gmt: '2013-02-12 09:37:45 +0400'
  content: Я понимаю, что человек учится. Если не понимать код, так хотя бы работать
    с ним (правильно втыкать в нужное место шаблона). Я имел в виду, что некоторые
    вот раньше ставили себе плагины все подряд, а теперь всё кодом заменяют по тому
    же принципу made in Kuban' - <strong>шоб було.<&#47;strong> Просто спросил о целесообразности
    этого. Насчёт плагина-ресурса-и т.д., анонимно оповещающего яндекс ничего не слышал,
    но знаю у кого спросить. :) При любом раскладе потом в почту напишу. Без плюшек,
    пылесоса и карлсона. :))
- id: 136886
  author: Екатерина
  author_email: katrina565@gmail.com
  author_url: http://donturistik.ru
  date: '2013-02-12 13:40:59 +0400'
  date_gmt: '2013-02-12 09:40:59 +0400'
  content: А то, что в robots.txt это прописано - это разве не маячок для Яндекса?
    У меня конкретно нету, но я видела, что в robots.txt отдельно для UserAgent Yandex
    строчки прописывают - это не то?
- id: 136887
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 13:44:15 +0400'
  date_gmt: '2013-02-12 09:44:15 +0400'
  content: Ну да, бездумной и по веянию моды втыкать код не стоит. Всё таки плагины
    удобные в использовании, гибкие, более функциональные. Так что нужно знать меру,
    но даже если все мои <strong>безплагины<&#47;strong> поставить, то до этой меры
    еще далеко будет. В общем, выбор между удобством и уменьшенным ресурсопотреблением
    должен сделать каждый осознанно (в пользу второго конечно, но осознанно).
- id: 136888
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 13:46:40 +0400'
  date_gmt: '2013-02-12 09:46:40 +0400'
  content: Да, но этот маячок он только при индексации смотрит. А тут имеется в виду
    мгновенное оповещение при генерации. Хотя в <em>robots.txt<&#47;em> тоже это обязательно
    должно быть.
- id: 136890
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-12 13:58:47 +0400'
  date_gmt: '2013-02-12 09:58:47 +0400'
  content: Это несомненно - нужно знать меру.
- id: 136894
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 15:12:02 +0400'
  date_gmt: '2013-02-12 11:12:02 +0400'
  content: "ЕЕЕЕЕ!! Я облагородил свою карту. Мне так нравится. Я теперь в неё сам
    буду часто заходить любоваться xDDDD\r\n\r\nИ даже внёс изменения в статью, чтобы
    каждый мог иметь свою красивую карту сайта без плагина, хахахаха =)))))))"
- id: 136903
  author: Екатерина
  author_email: katrina565@gmail.com
  author_url: http://donturistik.ru
  date: '2013-02-12 19:08:39 +0400'
  date_gmt: '2013-02-12 15:08:39 +0400'
  content: "Ну что ж я с первого раза ничего сделать не могу!!!\r\nСтили скачала,
    в папку с темой сунула, true написала - что еще? Или карта обновится тоже только
    после публикации?"
- id: 136904
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 19:11:39 +0400'
  date_gmt: '2013-02-12 15:11:39 +0400'
  content: Да это так. Не зря же я выделил это в статье. Любое обновление будет только
    после публикации. Если хочется побыстрее, то смотри <a href="http:&#47;&#47;paperplane.su&#47;xml-sitemap-wordpress&#47;#div-comment-136706"
    rel="nofollow">этот комментарий<&#47;a>.
- id: 136905
  author: Екатерина
  author_email: katrina565@gmail.com
  author_url: http://donturistik.ru
  date: '2013-02-12 19:22:18 +0400'
  date_gmt: '2013-02-12 15:22:18 +0400'
  content: "Супер, все получилось! У меня теперь тоже красивая карта сайта :)\r\nПо
    поводу картинок и индексации.\r\nСтатья, опубликованная вчера, с большим количеством
    картинок уже в индексе у Гугла, а статья, опубликованная 9-го числа почти без
    картинок - еще нет.\r\nПричем 1-ю статью просмотрели 30 раз, а 2-ю 140 + анонс
    + твиттер + ЖЖ\r\nСовпадение? Случайность?"
- id: 136906
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 19:27:20 +0400'
  date_gmt: '2013-02-12 15:27:20 +0400'
  content: "Как всегда молодец! \r\n\r\nНе случайность и не совпадение, но сравнить
    не с чем! Напиши похожую на 2ую статью и отключи плагин. Так же проанонсируй и
    поглядим что будет."
- id: 136907
  author: Екатерина
  author_email: katrina565@gmail.com
  author_url: http://donturistik.ru
  date: '2013-02-12 19:34:54 +0400'
  date_gmt: '2013-02-12 15:34:54 +0400'
  content: Смысл понятен - должна быть чистота эксперимента, но технически не получится
    написать похожую
- id: 136909
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-12 20:07:15 +0400'
  date_gmt: '2013-02-12 16:07:15 +0400'
  content: Ну попробуй всё выполнить максимально всё чистоэкспериментно, чтобы хотя
    бы погрешность не превышала процентов 40 =))))) Любой эксперимент сгодится. На
    кофейной гуще гадать совсем не айс!
- id: 136928
  author: Morontt
  author_email: morontt@gmail.com
  author_url: http://morontt.info
  date: '2013-02-13 02:06:21 +0400'
  date_gmt: '2013-02-12 22:06:21 +0400'
  content: Замутил и себе красоту :)
- id: 136948
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-13 11:49:13 +0400'
  date_gmt: '2013-02-13 07:49:13 +0400'
  content: Ееее! Отлично! Теперь красоту в массы мы несем.
- id: 137468
  author: Алексей
  author_email: wmmagnat@bk.ru
  author_url: http://sitesaratov.ru/
  date: '2013-02-17 11:39:35 +0400'
  date_gmt: '2013-02-17 07:39:35 +0400'
  content: Незнаю я лично от Google XML Sitemaps отказался, теперь пользуюсь WordPress
    SEO. Устранивает на 100%
- id: 137560
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-17 23:11:31 +0400'
  date_gmt: '2013-02-17 19:11:31 +0400'
  content: И хорошо. Пока всё устраивает дёргаться лишний раз не стоит. Думаю и без
    этого бездельем не маетесь =)
- id: 142050
  author: Простой
  author_email: druzbasaytami@mail.ru
  author_url: http://nikosun.com/
  date: '2013-03-24 23:44:40 +0400'
  date_gmt: '2013-03-24 19:44:40 +0400'
  content: Давно пора движку эту карту создавать. Без плагинов.
- id: 142051
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-24 23:46:31 +0400'
  date_gmt: '2013-03-24 19:46:31 +0400'
  content: Это уж точно! Такая вещь! И для индексации и для пользователей удобная.
- id: 142389
  author: Сергей
  author_email: seregadadk@mail.ru
  author_url: http://dayafternight.ru/
  date: '2013-03-28 01:41:10 +0400'
  date_gmt: '2013-03-27 21:41:10 +0400'
  content: Заглянул в свой сайтмап. Правда не отображаются статью за 2012, странно.
    Прочитал статью пару раз, но немного непонял. Если я поставлю вашу карту, то она
    автоматически будет обновляться с добавлением нового поста, или прийдется каждый
    из уже имеющихся в нее запихивать?
- id: 142390
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-28 01:49:42 +0400'
  date_gmt: '2013-03-27 21:49:42 +0400'
  content: "Ну вот! Обижаете! Полная автоматика-пулемётика! Никаких дополнительных
    действий совершать не нужно. Вот эти две строки:\r\n<code>add_action(\"publish_post\",
    \"sp_xml_sitemap\");\r\nadd_action(\"publish_page\", \"sp_xml_sitemap\");<&#47;code>\r\nозначают,
    что карта будет обновляться при публикации статьи или страницы! ПРИ ПУБЛИКАЦИИ!
    ТОЛЬКО ПРИ НЕЙ! Но если хочется чтобы при каждом сохранении статьи исправлялась
    карта, то нужно добавить:\r\n<code>add_action(\"save_post\", \"sp_xml_sitemap\");<&#47;code>\r\nВоть.
    Ничего сложного, но гораздо легче, быстрее и ваще =)))))"
- id: 142446
  author: Сергей
  author_email: seregadadk@mail.ru
  author_url: http://dayafternight.ru/
  date: '2013-03-28 12:39:36 +0400'
  date_gmt: '2013-03-28 08:39:36 +0400'
  content: Не в коем случае не хотел вас обидеть! Просто уточнил =) Поздно уже было,
    в код не всматривался. Спасибо за быстрый и довольно таки развернутый ответ, вы
    как всегда на высоте! Подпишусь на обновления, не знаю почему еще не сделал этого
    =)
- id: 142447
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-28 12:41:51 +0400'
  date_gmt: '2013-03-28 08:41:51 +0400'
  content: "Буду рад подписке =))) \r\n\r\n<em>На правах спама<&#47;em>: можете подписаться
    вконтыче, там лучше ;)"
- id: 142448
  author: Сергей
  author_email: seregadadk@mail.ru
  author_url: http://dayafternight.ru/
  date: '2013-03-28 12:51:19 +0400'
  date_gmt: '2013-03-28 08:51:19 +0400'
  content: Так и быть :) Подпишусь и в ВК. Хотя не подписывался не на один блог еще
    =)) тем более с посторонних сервисов. Но ваш, мне нравится :)   (По секрету, нравится
    как функционалом, полезными статьями, так и вполне адекватным автором) :) Растите
    и дальше!
- id: 142449
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-28 12:55:52 +0400'
  date_gmt: '2013-03-28 08:55:52 +0400'
  content: Вот спасибо! Только столь положительные отзывы меня заставляют писАть снова
    и снова. Вот например, у меня уже несколько месяцев весит недописанная статья
    о том как сделать без плагина похожие статьи, притом такого подхода как у меня
    нет нигде, я не использую не теги ни категории для определения похожести. В общем,
    теперь я стал ближе к завершению этой статьи xDDDDD
- id: 142451
  author: Сергей
  author_email: seregadadk@mail.ru
  author_url: http://dayafternight.ru/
  date: '2013-03-28 13:19:50 +0400'
  date_gmt: '2013-03-28 09:19:50 +0400'
  content: С удовольствием посмотрю на альтернативное решение :)
- id: 142677
  author: Простой
  author_email: druzbasaytami@mail.ru
  author_url: http://nikosun.com/
  date: '2013-03-30 18:21:21 +0400'
  date_gmt: '2013-03-30 14:21:21 +0400'
  content: Да. Вот только не понятно - почему разработчики wp до этого не доходят
    ))
- id: 148848
  author: Алишер
  author_email: alex.otaboev@gmail.com
  author_url: http://worldfinanceblog.ru/
  date: '2013-04-22 20:39:09 +0400'
  date_gmt: '2013-04-22 16:39:09 +0400'
  content: "Кстати, я вас давно просил написать статью об этом =) Хотелось бы уточнить,
    когда она будет готова? Жду - жду - жду =)\r\n А Карта сайта просто шикарна! Буду
    ставить=)"
- id: 148851
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-04-22 20:42:05 +0400'
  date_gmt: '2013-04-22 16:42:05 +0400'
  content: Мои руки слишком короткие =( ни до чего не доходят. Но статья потихонечку
    пишется. Хотя вряд ли ближе чем через 2 недели её стоит ждать. Но и это не срок,
    может и дольше =(
- id: 148854
  author: Алишер
  author_email: alex.otaboev@gmail.com
  author_url: http://worldfinanceblog.ru/
  date: '2013-04-22 20:46:04 +0400'
  date_gmt: '2013-04-22 16:46:04 +0400'
  content: "Кстати подскажите пожалуйста, при помощи чего вы делаете подсвеченный
    код? \r\nЗаранее благодарен за ответ."
- id: 148856
  author: Алишер
  author_email: alex.otaboev@gmail.com
  author_url: http://worldfinanceblog.ru/
  date: '2013-04-22 20:47:14 +0400'
  date_gmt: '2013-04-22 16:47:14 +0400'
  content: Жаль... Но ничего будем ждать. Подписываюсь к вам на обновление =)
- id: 148874
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-04-22 21:16:12 +0400'
  date_gmt: '2013-04-22 17:16:12 +0400'
  content: "Плагин CodeColorer. Он относительно большой, но мне нравится =) \r\n\r\nPS:
    И если не прочь, то я рекомендую подписаться на страничку ВКонтакте =) Там много
    всего интересного и анонсы я свои туда всегда сбрасываю =)"
- id: 148879
  author: Алишер
  author_email: alex.otaboev@gmail.com
  author_url: http://worldfinanceblog.ru/
  date: '2013-04-22 21:23:26 +0400'
  date_gmt: '2013-04-22 17:23:26 +0400'
  content: Спасибо за название плагина. А Вконтакте я уже подписался =)
- id: 171237
  author: LtNaidjel
  author_email: ak1292294@yandex.ru
  author_url: ''
  date: '2013-07-05 07:08:12 +0400'
  date_gmt: '2013-07-05 03:08:12 +0400'
  content: "Добрый день.\r\nСпасибо за такую классную (красивую визуально и для пользователя)
    xml карту! Беру! :-)\r\nПравда есть одна проблемка помогите пожалуйста!\r\nУстановил
    себе на блог -> проверил в ЯндексВебмастер -> найдена одна ошибка, пишет:\r\nНе
    найдено описание для элемента \"urlset\". Возможно неверно указан корневой элемент.\r\nСтрока:
    5 Позиция: 61\r\nПодробнее\r\ncvc-elt.1.a: Cannot find the declaration of element
    'urlset'."
- id: 171860
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-06 16:39:32 +0400'
  date_gmt: '2013-07-06 12:39:32 +0400'
  content: "Это очень странная ошибка. Её природа мне не понятна. К примеру, у меня
    всё нормально работает и у других тоже. Яндекс нормально принимает карту. В инете
    покопал, вроде у кого-то тоже возникало нечто подобное, но решений как таковых
    нет. В одном месте было что-то, но оно мало кому помогло. Но попробуйте вдруг
    поможет, для этого строку кода №11 поменяйте на эту:\r\n\r\n<code>\"<urlset xmlns:xsi='http:&#47;&#47;www.w3.org&#47;2001&#47;XMLSchema-instance'
    xmlns='http:&#47;&#47;www.sitemaps.org&#47;schemas&#47;sitemap&#47;0.9' xsi:schemaLocation='http:&#47;&#47;www.sitemaps.org&#47;schemas&#47;sitemap&#47;0.9
    http:&#47;&#47;www.sitemaps.org&#47;schemas&#47;sitemap&#47;0.9&#47;sitemap.xsd'>\\n\";<&#47;code>"
- id: 172189
  author: LtNaidjel
  author_email: ak1292294@yandex.ru
  author_url: ''
  date: '2013-07-07 08:07:00 +0400'
  date_gmt: '2013-07-07 04:07:00 +0400'
  content: "Вы извините - уже похоже понял в чём проблема.\r\nВ ЯндексВебмастер есть
    такие возможности:\r\nПроверить XML-фид - при проверке появляется эта ошибка.\r\nПроверить
    файл Sitemap - тут всё отлично.\r\n\r\nТакую ошибку выдаёт, когда используешь
    первую функцию. (XML-фид) А это я так понял похоже способ проверки микроразметки."
- id: 172291
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-07 13:13:04 +0400'
  date_gmt: '2013-07-07 09:13:04 +0400'
  content: Да, всё так. Sitemap не стоит проверять как XML-фид, это разные вещи =)))
- id: 172300
  author: LtNaidjel
  author_email: ak1292294@yandex.ru
  author_url: ''
  date: '2013-07-07 13:29:57 +0400'
  date_gmt: '2013-07-07 09:29:57 +0400'
  content: "А можно ещё вопрос? Как вы такое оповещение на почту о комментарии к моему
    комменту сделали? 0__о \r\nНе знаю как обычные юзеры, но тем обладателям сайтов
    и блогов явно эта фишка интересна.\r\nПредставляю у скольких желание вернуться
    на блог появляется!!! )"
- id: 172309
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-07 13:50:11 +0400'
  date_gmt: '2013-07-07 09:50:11 +0400'
  content: "Ну оповещения приходят только об ответах на комментарий. Это позволяет
    довести беседу до логического конца. А то часто вопрос где задашь и забудешь,
    где его задал, а так ответят и на почту сообщений придёт. Красота =)\r\n\r\nМожно
    и плагином ReplyMe можно и кодом в functions.php. Но о втором я пока не писал
    и долго наверно ещё писать не буду, т.к. времени нет. Тут на PP я использую плагин,
    а вот в одном другом проекте самописный код в functions.php."
- id: 172313
  author: Андрей Рубцов
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsoff.ru
  date: '2013-07-07 14:01:51 +0400'
  date_gmt: '2013-07-07 10:01:51 +0400'
  content: Вообще-то на почту приходят ВСЕ комментарии к записи. Вот ещё плагин, пользуюсь,
    косяков не замечено, настройка гибкая - Comment Reply Notification.
- id: 172323
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-07 14:37:29 +0400'
  date_gmt: '2013-07-07 10:37:29 +0400'
  content: Тебе приходят, потому что ты подписан. А если бы не был подписан, то приходили
    бы только ответы на твои комментарии.
- id: 172332
  author: Андрей Рубцов
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsoff.ru
  date: '2013-07-07 14:53:15 +0400'
  date_gmt: '2013-07-07 10:53:15 +0400'
  content: Понятно. Тогда проще убрать чекбокс для подписки. А то "двойная радость"
    получается. )))
- id: 172337
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-07 15:13:23 +0400'
  date_gmt: '2013-07-07 11:13:23 +0400'
  content: На счёт двойной радости ты прав. Взаимодействие этих плагинов не налажено.
    Я в другом проекте реализовал всё своим кодом там где если подписан то ответы
    не приходят и наоборот. Потому как будет время, то и PP перекину на эту систему,
    чтобы не парить никого =)
- id: 172463
  author: LtNaidjel
  author_email: ak1292294@yandex.ru
  author_url: http://moyaumnichka.ru/
  date: '2013-07-07 23:02:31 +0400'
  date_gmt: '2013-07-07 19:02:31 +0400'
  content: "Буду с нетерпением ждать статьи с кодом кодом в functions.php!! ^__^\r\nСтараюсь
    следовать по вашим следам - использовать как можно меньше плагинов дабы не увеличивать
    скорость загрузки. Сейчас стараюсь разобраться с сжатием явы и css, а также объединением
    их в один файл.  0___о\r\nА вот кнопочка ваша у меня не пошла! ( \r\nВы какой
    jQuery к ней ставить советуете? У меня стоит jQuery-1.4.2min.js старенький но
    мне нравиться что хорошо оптимизирован."
- id: 172496
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-08 01:10:57 +0400'
  date_gmt: '2013-07-07 21:10:57 +0400'
  content: я использую jquery 1.8.3. Может быть в этом всё дело.
- id: 172498
  author: LtNaidjel
  author_email: ak1292294@yandex.ru
  author_url: http://moyaumnichka.ru/
  date: '2013-07-08 01:19:26 +0400'
  date_gmt: '2013-07-07 21:19:26 +0400'
  content: "Скорее всего. Бывает, что старые версии не выполняют скрыпты.\r\nЛюди
    добрые!!! Если вдруг здесь есть, кто-нибудь кто может помочь обновить jquery и
    подогнать под неё старые скрыпты, или хотя бы разобраться, как это сделать отпишитесь
    пожалуйста!!!\r\nP.S. : Извиняюсь за шум!  ^_^"
- id: 172502
  author: Андрей Рубцов
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsoff.ru
  date: '2013-07-08 01:32:14 +0400'
  date_gmt: '2013-07-07 21:32:14 +0400'
  content: <a href="http:&#47;&#47;truemisha.ru&#47;blog&#47;wordpress&#47;include-jquery.html"
    rel="nofollow">Ссылка<&#47;a>
- id: 172669
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-08 12:32:02 +0400'
  date_gmt: '2013-07-08 08:32:02 +0400'
  content: |-
    Шошь вы всё ссылки-то не научитесь ставить? Кнопка просто для красоты, а магии никакой нет. Ссылки ставятся обычными HTML-тегами. В твоём случае было бы так:
    <code><a href="http:&#47;&#47;truemisha.ru&#47;blog&#47;wordpress&#47;include-jquery.html" rel="nofollow">Ссылка<&#47;a><&#47;code>
- id: 172677
  author: Андрей Рубцов
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsoff.ru
  date: '2013-07-08 12:46:50 +0400'
  date_gmt: '2013-07-08 08:46:50 +0400'
  content: Раньше она была не для красоты вроде бы. Но учту на будущее.
- id: 172700
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-08 13:37:06 +0400'
  date_gmt: '2013-07-08 09:37:06 +0400'
  content: 'Нет, она конечно не для красоты и ей можно пользоваться, но нужно понимать
    что необходимо сформировать полную ссылку как в HTML т.е. с открывающим тегом,
    закрывающим тегом и анкором. И по мне всё просто: пишешь анкор, выделяешь его,
    жмёшь на кнопку, вводишь в окно ссылку и жмёшь окей. Но я так понял все думаю
    что нужно сперва кнопку нажать, ввести ссылку и всё! А анкора то нема! Единицы
    кто с первого раза правильно кнопку применил. Прям призадумываешься о компетентности
    кадров =)))'
- id: 172714
  author: Андрей Рубцов
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsoff.ru
  date: '2013-07-08 14:08:08 +0400'
  date_gmt: '2013-07-08 10:08:08 +0400'
  content: Говорят инициатива наказуема. Я, пожалуй, оставлю почетную обязанность
    комментирования автору статей как несомненно более компетентному в вопросах нажатия
    кнопок.
- id: 172864
  author: LtNaidjel
  author_email: ak1292294@yandex.ru
  author_url: http://moyaumnichka.ru/
  date: '2013-07-09 03:47:50 +0400'
  date_gmt: '2013-07-08 23:47:50 +0400'
  content: "Спасибо большое за помощь.\r\nВот только не пойму - старые сткрыпты ругаться
    не будут? Не полетит всё к чёртовой бабушке?  0__о"
- id: 172887
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-09 09:46:40 +0400'
  date_gmt: '2013-07-09 05:46:40 +0400'
  content: Обратная совместимость есть, старые скрипты ругаться не должны вплоть до
    версии 1.10.2. Начиная со второй версии ругаться будут, но можно подключить специальный
    jQuery Migrate plugin. На <a href="http:&#47;&#47;jquery.com&#47;download&#47;"
    rel="nofollow">офсайте всё написано<&#47;a>.
- id: 173028
  author: LtNaidjel
  author_email: ak1292294@yandex.ru
  author_url: http://moyaumnichka.ru/
  date: '2013-07-10 07:48:59 +0400'
  date_gmt: '2013-07-10 03:48:59 +0400'
  content: "Спасибо ещё раз. Установил jQuery 1.10.2  - вроде всё работает отлично!
    )\r\nИнтересно на сколько хватит? Это чтожь получается - через пару годков всем
    придётся переходить на ветку 2.х  и переписывать все шаблоны на блогах?"
- id: 173051
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-10 12:05:48 +0400'
  date_gmt: '2013-07-10 08:05:48 +0400'
  content: И в этом ничего плохого нет. Обычное течение жизненного цикла программного
    продукта. Он всё время совершенствуется и все кто от него зависит должны либо
    юзать старое либо подтягиваться за ним, анахронизмы постепенно отторгают, а иначе
    библиотека раздуется и будет медленной. И я например кое-где уже на jquery 2 сижу.
    Ничего страшного.
- id: 173084
  author: LtNaidjel
  author_email: AK1292294@yandex.ru
  author_url: http://moyaumnichka.ru/
  date: '2013-07-10 16:26:29 +0400'
  date_gmt: '2013-07-10 12:26:29 +0400'
  content: "Сразу на неё делали проект или подгоняли под 2х ?\r\nНаверное проблемно
    было? \r\nТеперь знаю к кому обратиться - у кого уже опыт есть )"
- id: 173092
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-10 17:31:20 +0400'
  date_gmt: '2013-07-10 13:31:20 +0400'
  content: Подгонял. И там всё просто. Специальный миграционный плагин ставишь и 2ая
    версия поддерживает старый код, но при этом подсказывает, где именно конфликт.
    По этим подсказкам ходишь и фиксишь проблемы. Всё просто.
- id: 176617
  author: Grig
  author_email: grig@yandex.ru
  author_url: ''
  date: '2013-07-28 17:38:46 +0400'
  date_gmt: '2013-07-28 13:38:46 +0400'
  content: "Здравствуйте.\r\nВы не подскажете, какой вид должен иметь сам файл sitemap?\r\nЭтого
    достаточно?\r\n<code><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<urlset xmlns=\"http:&#47;&#47;www.sitemaps.org&#47;schemas&#47;sitemap&#47;0.9\">\r\n
    \  <url>\r\n      <loc>http:&#47;&#47;www.мойсайт.ру&#47;<&#47;loc>\r\n      <lastmod><&#47;lastmod>\r\n
    \     <changefreq><&#47;changefreq>\r\n      <priority><&#47;priority>\r\n   <&#47;url>\r\n<&#47;urlset>
    <&#47;code>\r\n\r\nВ этот код надо вставить <code><?php sp_xml_sitemap(); ?><&#47;code>
    или я чего-то недопонял?\r\n\r\nБлагодарю."
- id: 176676
  author: Grig
  author_email: grig@yandex.ru
  author_url: ''
  date: '2013-07-28 21:25:22 +0400'
  date_gmt: '2013-07-28 17:25:22 +0400'
  content: "Вопрос снят )\r\nОбновил сайт и всё понял )\r\nБлагодарю за код!"
- id: 176688
  author: Grig
  author_email: grig@yandex.ru
  author_url: ''
  date: '2013-07-28 22:44:20 +0400'
  date_gmt: '2013-07-28 18:44:20 +0400'
  content: "Спасибо!\r\nОтлично работает, но, к сожалению, выводятся только посты,
    а категории и подкатегории не выводятся."
- id: 176798
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-29 13:12:38 +0400'
  date_gmt: '2013-07-29 09:12:38 +0400'
  content: У меня так и написано, что посты и страницы в карту пихаются. А зачем вам
    категории и подкатегории?
- id: 176848
  author: Grig
  author_email: grig@yandex.ru
  author_url: ''
  date: '2013-07-29 18:22:20 +0400'
  date_gmt: '2013-07-29 14:22:20 +0400'
  content: Мой сайт устроен таким образом, что основная информация размещена на страницах
    подкатегорий, а их у меня сотни.
- id: 176856
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-07-29 19:28:37 +0400'
  date_gmt: '2013-07-29 15:28:37 +0400'
  content: хм, тогда в вашем случае нужно достаточно сильно изменить код этой функции.
    Советую копать в сторону функции <em><a href="http:&#47;&#47;codex.wordpress.org&#47;Function_Reference&#47;get_categories"
    rel="nofollow">get_categories()<&#47;a><&#47;em> именно она возвратит вам все
    категории и там дальше нужно будет только сформировать xml с картой.
- id: 176866
  author: Grig
  author_email: grig@yandex.ru
  author_url: ''
  date: '2013-07-29 20:07:57 +0400'
  date_gmt: '2013-07-29 16:07:57 +0400'
  content: Спасибо за совет. Попробую )
- id: 177823
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-08-02 17:11:44 +0400'
  date_gmt: '2013-08-02 13:11:44 +0400'
  content: Подскажите, пожалуйста, если я страницу с  картой сайта составила сама
    вручную, мне плагины Google XML Sitemaps и Dagon Design Sitemap Generator  можно
    смело удалить? Может ли это как-то сказаться на индексации сайта?
- id: 177872
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-02 23:11:26 +0400'
  date_gmt: '2013-08-02 19:11:26 +0400'
  content: Вручную? Это вы имеете в виду мой код или именно ВРУЧНУЮ? Но это и не важно.
    Вообще мой код делает гораздо меньше этих плагинов, но лично мне этого всегда
    было достаточно. Как вы могли заметить составляется карта только постов и не генерируется
    сжатый вариант карты, если вас это не смущает то пользуйте мой, а плагины удалите.
    Опять же, на индексации у меня ничего не сказалось. Но всё индивидуально.
- id: 177876
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-08-02 23:18:00 +0400'
  date_gmt: '2013-08-02 19:18:00 +0400'
  content: "да, именно вручную. У меня слишком там все замудрено со статьями и рубриками,
    а так все по полочкам разложено. Буду надеяться, что не скажется.\r\nСпасибо."
- id: 178268
  author: nik
  author_email: '08ip80@gmail.com'
  author_url: ''
  date: '2013-08-04 09:50:12 +0400'
  date_gmt: '2013-08-04 05:50:12 +0400'
  content: "А могли бы вы ещё сделать Google XML Sitemap for Images и \r\nGoogle XML
    Sitemap for Mobile"
- id: 178346
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-04 15:32:54 +0400'
  date_gmt: '2013-08-04 11:32:54 +0400'
  content: Мог бы, но сейчас нет времени особо что-то делать. Может быть в будущем.
    Сделаю себе пометку =)
- id: 178610
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-08-05 12:07:02 +0400'
  date_gmt: '2013-08-05 08:07:02 +0400'
  content: "Андрей, добрый день.  У меня возникла проблема с картой сайта. Боюсь показаться
    недогадливой, но... после того, как я добавила код и залила стили, что делать
    дальше? Ведь, нужно создать страницу с картой сайта? Несколько раз перечитала
    статью и комментарии, но не нашла ответа.\r\nСпасибо."
- id: 178654
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-05 15:16:03 +0400'
  date_gmt: '2013-08-05 11:16:03 +0400'
  content: |-
    Хм хм, вроде бы всё более-менее ясно написано:

    <blockquote>При публикации страницы или поста она генерирует карту сайта (только при публикации!) под названием sitemap.xml, кладёт её в корень и оповещает некоторые поисковые системы о новой карте сайта.<&#47;blockquote>

    и после кода:

    <blockquote>Код работает примитивно просто: формируем заголовок файла, получаем все посты и страницы блога, пихаем в переменную все страницы и посты блога в нужном формате с сортировкой по уменьшению даты последней модификации, записываем это всё в файл sitemap.xml и оповещаем поисковые системы о том, что была сформирована карта сайта для них.<&#47;blockquote>

    С чего вы взяли, что нужно ещё что-то делать кроме того что написано в статье?
- id: 178678
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-08-05 16:59:36 +0400'
  date_gmt: '2013-08-05 12:59:36 +0400'
  content: На сайте должна же быть ссылка на карту сайта. Для посетителей.
- id: 178681
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-05 17:11:22 +0400'
  date_gmt: '2013-08-05 13:11:22 +0400'
  content: 'Эм, и в чём же проблема? Адрес карты сайта вы знаете из статьи: <em>http:&#47;&#47;yoursite.ru&#47;sitemap.xml<&#47;em>.
    Эту ссылку пихаете куда вашей душе угодно, зачем для этого создавать индивидуальный
    шаблон? Или страницу? Просто в своё меню добавьте пункт с ссылкой на карту.'
- id: 178688
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-08-05 17:42:01 +0400'
  date_gmt: '2013-08-05 13:42:01 +0400'
  content: Все поняла. Спасибо. )
- id: 187257
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-10-01 14:47:32 +0400'
  date_gmt: '2013-10-01 10:47:32 +0400'
  content: Андрей, добрый день. И вновь вопрос по карте сайта. При использовании плагина
    создается файл в корне сайта sitemap.xml. А в  данном случае это необходимо? Спрашиваю,
    потому что есть проблемы с индексацией страниц сайта (ищу возможные причины).
- id: 187362
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-10-02 15:58:02 +0400'
  date_gmt: '2013-10-02 11:58:02 +0400'
  content: 'Не совсем понял вопрос. Мой код тоже создаёт sitemap.xml в корне. При
    ключевых действиях: при публикации страницы или поста. Без sitemap.xml могут быть
    проблемы при индексации, но не серьёзные, типа чуток попозже будут влетать в индекс
    страницы.'
- id: 187375
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-10-02 18:42:43 +0400'
  date_gmt: '2013-10-02 14:42:43 +0400'
  content: "В корне сайта был файл от Гугла ( я так поняла он остался после удаления
    плагина). Вчера все удалила: и этот файл, и ваш код. Еще раз все проделала заново:
    добавила код, опубликовала статью. Файла в корне нет. \r\nС индексацией: они не
    то, чтобы попозже влетают- два месяца количество страниц не изменялось, несмотря
    на  публикации 2-3 раза в неделю. Как раз 2 мес назад я удалила плагин и добавила
    код.\r\nМожет это как-то связано с самой темой, потому что на другом моем сайте
    все работает отлично."
- id: 187380
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-10-02 19:15:53 +0400'
  date_gmt: '2013-10-02 15:15:53 +0400'
  content: "А вот это уже интереснее. Есть следующие мысли: \r\n\r\n1) Может быть
    код просто не отрабатывает. Может быть из-за шаблона. Это надо проверять на месте.
    МОжно по чёрному проверить, пихнуть в тело функции в самое начало что-нибудь вроде:
    \r\n<code>die('ok!');<&#47;code> \r\nОпубликовать материал. И если функция работает,
    то вам просто выведется <strong>ok<&#47;strong> на белом экране. В противном случае,
    если не выведется, то виноват шаблон.\r\n\r\n2) Может не хватает прав для создания
    и запись в файл для скрипта? Попробуйте в целях эксперимента поставить на корень
    сайта права 777. Но только для эксперимента. После проверки сразу восстановите,
    как было."
- id: 189815
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-10-14 17:04:36 +0400'
  date_gmt: '2013-10-14 13:04:36 +0400'
  content: К сожалению, пришлось поставить плагин. Но все равно, спасибо.
- id: 227941
  author: Евгений
  author_email: maksimovgenya@mail.ru
  author_url: ''
  date: '2014-03-27 14:33:45 +0400'
  date_gmt: '2014-03-27 10:33:45 +0400'
  content: Google-Sitemap-Generator - Я обратил внимание, что карта сайта после добавления
    статьи или внесении изменений в статью не меняется. Но если нажать на ссылку "заново
    построить карту сайта" карта сайта правильно генерится. В настройках все установленно
    правильно и все необходимые поля включены. Оказывается, если нажать на  ссылку
    "заново построить карту сайта", то карта сайта делается правильно, но после добавления
    статьи или внесении изменений в статью ничего не происходит.
- id: 228693
  author: Простой
  author_email: druzbasaytami@mail.ru
  author_url: http://nikosun.com/
  date: '2014-04-07 17:32:48 +0400'
  date_gmt: '2014-04-07 13:32:48 +0400'
  content: "Ваша нынешняя карта при просмотре её тут: http:&#47;&#47;paperplane.su&#47;sitemap.xml
    - Получается: http:&#47;&#47;paperplane.su без слеша в конце. Не кажется вам,
    что в карте xml должно быть так: http:&#47;&#47;paperplane.su&#47;\r\nВедь в плагине
    Google XML Sitemaps всегда был слеш у главной страницы сайта.\r\nИли не прав?"
- id: 228695
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-04-07 18:04:33 +0400'
  date_gmt: '2014-04-07 14:04:33 +0400'
  content: Эм, я в замешательстве. Разницы, вроде как, нет. Но так или иначе, чисто
    идеологически, я стараюсь минимизировать url если это возможно. Т.е. если без
    слеша и со слешем одно и то же, то я выберу вариант с наименьшим числом символов.
    Для SEO в принципе не должно быть разницы, но по секрету скажу, что некоторые
    поисковики предпочитают ссылки покороче при прочих равных условиях.
- id: 236554
  author: Андрей
  author_email: andrey.sharov@bk.ru
  author_url: http://houseofcards.ru
  date: '2014-08-07 16:09:14 +0400'
  date_gmt: '2014-08-07 12:09:14 +0400'
  content: "Доброго времени. Поставил ваш код, все хорошо. Единственный вопрос. \r\nКак
    быть с возможностью исключения, некоторых страниц и постав из карты? Скажем, служебные
    страницы, которые не должны индексироваться.\r\nМожет какой код посоветуете, добавить,
    чтобы подобную возможность добавить."
- id: 236560
  author: Андрей
  author_email: andrey.sharov@bk.ru
  author_url: http://houseofcards.ru
  date: '2014-08-07 18:45:36 +0400'
  date_gmt: '2014-08-07 14:45:36 +0400'
  content: "Все, разобрался. Немного изменил код, добавив в начале в качестве переменной,
    массив:\r\n<code>$exp = array (195, 257); \t\t&#47;&#47; ID страниц&#47;постов
    исключенных из карты<&#47;code>\r\n\r\nИ добавив строчку в эту функцию:\r\n<code>\r\n$posts
    = get_posts(array(\r\n        'numberposts' => -1,\r\n        'orderby' => 'modified',\r\n
    \       'post_type'  => array('post','page'),\r\n\t\t'exclude' => $exp,\r\n        'order'
    \   => 'DESC'\r\n    ));\r\n<&#47;code>"
- id: 238156
  author: Matt
  author_email: crazyasd@gmail.com
  author_url: http://cadstudio.ru
  date: '2014-09-12 02:05:39 +0400'
  date_gmt: '2014-09-11 22:05:39 +0400'
  content: "Приветствую! Возник вопрос, как в карту сайта добавить пользовательскую
    таксономию?\r\nЗаранее спасибо!"
- id: 238167
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-09-12 12:20:30 +0400'
  date_gmt: '2014-09-12 08:20:30 +0400'
  content: Что за пользовательская таксонамия? Но что бы это ни было, если это можно
    получить в массив, то по аналогии с имеющимся кодом так же прогнать в цикле и
    добавлять по строчке =)
- id: 238205
  author: Matt
  author_email: crazyasd@gmail.com
  author_url: http://cadstudio.ru
  date: '2014-09-12 23:11:31 +0400'
  date_gmt: '2014-09-12 19:11:31 +0400'
  content: "Я не совсем правильно выразился, пользовательский тип поста.\r\nЯ сделал
    вот так, и всё заработало:\r\n<code>    $posts = get_posts(array(\r\n        'numberposts'
    => -1,\r\n        'orderby' => 'modified',\r\n        'post_type'  => array('post','page',<strong>'calc'<&#47;strong>),\r\n
    \       'order'    => 'DESC'\r\n    ));<&#47;code>\r\n\r\nСпасибо за наводку!"
- id: 238207
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-09-12 23:43:42 +0400'
  date_gmt: '2014-09-12 19:43:42 +0400'
  content: Отлично! Рад, что сами разобрались =)))
- id: 239066
  author: олег
  author_email: byuanov1@rambler.ru
  author_url: http://byuanov-ed.ru
  date: '2014-09-30 06:01:23 +0400'
  date_gmt: '2014-09-30 02:01:23 +0400'
  content: У меня стоит плагин Google XML Sitemaps. Я скачал стили, в функшине прописал
    карту. Что делать дальше? Отключить плагин, а потом? Он же идёт файлом sitemap.xml.
    А как тут появиться файл? Что нам яндексу и гуглу показывать в интструментах вебмастера.
- id: 239067
  author: олег
  author_email: byuanov1@rambler.ru
  author_url: http://byuanov-ed.ru
  date: '2014-09-30 06:04:28 +0400'
  date_gmt: '2014-09-30 02:04:28 +0400'
  content: "У меня в корне сайта есть ещё файл -  xmlrpc.php  Это тоже какая то карта.А
    внутри начинается так-\r\n<?php\r\n&#47;**\r\n * XML-RPC protocol support for
    WordPress\r\n *\r\n * @package WordPress\r\n *&#47;\r\n\r\n&#47;**\r\n * Whether
    this is an XML-RPC Request\r\n *\r\n * @var bool\r\n *&#47;\r\ndefine(&#039;XMLRPC_REQUEST&#039;,
    true);\r\n\r\n&#47;&#47; Some browser-embedded clients send cookies. We don&#039;t
    want them.\r\n$_COOKIE = array();\r\nи там много ещё всего."
- id: 239092
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-09-30 13:03:35 +0400'
  date_gmt: '2014-09-30 09:03:35 +0400'
  content: |-
    Файл xmlrpc.php не трогать. Это к делу не относиться.

    Если хотите мой код применять для формирования XML-карты, то Google XML Sitemaps нужно отключить. Мой код будет отрабатываться каждый раз при публикации поста или страницы. Только при публикации. Публикуете &ndash; карта обновляется, т.е. обновляется файл sitemap.xml.
- id: 239162
  author: олег
  author_email: byuanov1@rambler.ru
  author_url: http://byuanov-ed.ru
  date: '2014-10-01 08:00:17 +0400'
  date_gmt: '2014-10-01 04:00:17 +0400'
  content: Всё понял. Большое вам спасибо! Мечтаю отключить плагин, чтобы их было
    меньше!
- id: 240818
  author: Matt
  author_email: crazyasd@gmail.com
  author_url: http://cadstudio.ru
  date: '2014-10-30 17:40:35 +0300'
  date_gmt: '2014-10-30 13:40:35 +0300'
  content: "Маленький адд-он для тех кто хочет ускорить загрузку карты сайта, используя
    GZIP-компрессию:\r\n<code>\t\r\n\t$gz = gzopen(ABSPATH . 'sitemap.xml.gz','w9');\r\n\tgzwrite($gz,
    $sitemap);\r\n\tgzclose($gz);\r\n<&#47;code>"
- id: 251269
  author: Igor Fedorov
  author_email: iamfedoroff@yandex.ru
  author_url: http://theifcreations.com
  date: '2015-06-08 08:40:33 +0300'
  date_gmt: '2015-06-08 04:40:33 +0300'
  content: 'Помогите, пожалуйста. У меня сайт на 2-х языках: русский и английский.
    Ваша карта генерируется только для русских постов и страниц. Что мне делать? Для
    локализации использую плагин PolyLang.'
---
<p><a href="http:&#47;&#47;image.paperplane.su&#47;2013&#47;02&#47;xml-sitemap-wordpress.png"><img src="http:&#47;&#47;image.paperplane.su&#47;2013&#47;02&#47;xml-sitemap-wordpress-300x300.png" alt="XML карта сайта WordPress" title="XML карта сайта WordPress" width="300" height="300" class="alignleft size-medium wp-image-2771" &#47;><&#47;a>Буквально сегодня заметили один интересный казус: плагин Google XML Sitemap, призванный генерировать XML карту сайта для WordPress, стал работать некорректно. Точнее он генерирует карту только с постами за 2013 год. Подобное поведение я проверил на двух разных блогах, и везде было одно и тоже. А в третьем, где WordPress был не обновлен до последней версии (версия 3.4) этот плагин отрабатывал корректно. Отсюда вывод, что новые версии этот плагин перестал поддерживать. Несомненно, его должны в скором времени пофиксить (я надеюсь), но так или иначе, эта ситуация была последней каплей cподвигнувшей меня на написание генератора <strong>XML карты сайта для WordPress<&#47;strong> без плагина. Именно о нем и пойдет речь в этой статье. Кстати, еще есть <a href="http:&#47;&#47;paperplane.su&#47;html-karta-dlya-wordpress&#47;" title="HTML карта сайта для WordPress" target="_blank">HTML карта сайта<&#47;a> без плагина для WordPress.</p>
<p>Сразу скажу, что целью являлось минимизация кода генератора, потому на этот раз функция получилась не очень настраиваемая, только можно подключить&#47;отключить стили отображения (об этом ниже, после кода). При публикации страницы или поста она генерирует карту сайта (<strong>только при публикации!<&#47;strong>) под названием <strong>sitemap.xml<&#47;strong>, кладёт её в корень и оповещает некоторые поисковые системы о новой карте сайта. Например, в моем случае адрес получился такой: <em><a href="http:&#47;&#47;paperplane.su&#47;sitemap.xml" title="XML карта сайта СЕОлётик" target="_blank">http:&#47;&#47;paperplane.su&#47;sitemap.xml<&#47;a><&#47;em>. </p>
<p>В карте сайт есть обязательные и необязательные теги. О них и их функциях подробней читайте <a href="http:&#47;&#47;www.sitemaps.org&#47;ru&#47;protocol.html#xmlTagDefinitions" rel="nofollow" title="Теги для sitemap.xml" target="_blank">тут<&#47;a>. У себя же я железно забил те значения тегов, которые сам считаю нужными (если не согласны, то в комментариях можно обсудить):</p>
<ul>
<li><strong><lastmod><&#47;strong> - для постов и страниц дата последней их модификации, а для главной страницы самая свежая дата модификации любого поста или страницы. Да, последнее не очень красиво выглядит, но вполне сносно.<br />
<&#47;li></p>
<li><strong><changefreq><&#47;strong> - для главной страницы ежедневное обновление (daily), для постов еженедельное (weekly) и для страниц ежемесячное (monthly).<br />
<&#47;li></p>
<li><strong>
<priority><&#47;strong> - для главной страницы приоритет 1, для постов 0.9 и для страниц 0.5.<&#47;li><br />
<&#47;ul><br />
Думаю, подобные настройки подойдут для большинства, если не для всех. Но хочу вас о кое-чем предостеречь: у XML карты сайта есть ограничения, о них подробней написано в спецификации:</p>
<blockquote><p>Размер файлов Sitemap не должен превышать 10 МБ (10485760 байт), и эти файлы не должны включать более 50000 URL. Эти ограничения помогают исключить остановки веб-сервера при размещении очень больших файлов. Это означает, что если Ваш сайт содержит более 50000 URL или размер файла Sitemap превышает 10 МБ, необходимо создать несколько файлов Sitemap и использовать файл индекса Sitemap. Необходимо использовать файл индекса Sitemap даже для небольшого сайта, если предполагается, что количество URL превысит 50000 или размер файла будет больше 10 МБ. В файле индекса Sitemap может быть перечислено не более 1000 файлов Sitemap. Размер этого файла не может превышать 10 МБ. Кроме того, для сжатия файлов Sitemap можно использовать архиватор gzip.<&#47;blockquote><br />
Я к тому, что мой код не генерирует файл индексов Sitemap, потому он будет вам полезен только, если <strong>количество ваших URL'ов не больше 50000<&#47;strong>. Да, это приличное число и не многие блоги его превышают (я таких не знаю), так что можете особо не волноваться. Но я вас предупредил.</p>
<p>Ну вроде бы с лирикой покончено. Ниже представлен PHP-код, который вам нужно разместить в файле <em>functions.php<&#47;em> вашей активной темы:<br />
[cce lang="php"]<br />
add_action("publish_post", "sp_xml_sitemap");<br />
add_action("publish_page", "sp_xml_sitemap");</p>
<p>function sp_xml_sitemap() {<br />
	$stylesheet = false;	&#47;&#47; true - устанавливаем стили отображения XML карты | false - не устанавливаем</p>
<p>	$sitemap = "<"."?xml version='1.0' encoding='UTF-8'?>\n".<br />
        ($stylesheet?"<"."?xml-stylesheet type='text&#47;xsl' href='".get_bloginfo('stylesheet_directory')."&#47;stylesheet-xml-sitemap.xsl'?>\n":'').<br />
        "<!--sitemap-generator-url='http:&#47;&#47;paperplane.su&#47;xml-sitemap-wordpress&#47;'-->\n".<br />
        "<!--generated-on='".date("Y-m-d H:i:s")."'-->\n".<br />
        "<urlset xmlns='http:&#47;&#47;www.sitemaps.org&#47;schemas&#47;sitemap&#47;0.9'>\n";</p>
<p>	$posts = get_posts(array(<br />
		'numberposts' => -1,<br />
		'orderby' => 'modified',<br />
		'post_type'  => array('post','page'),<br />
		'order'    => 'DESC'<br />
	));</p>
<p>	$sitemap.= "\t<url>\n".<br />
		"\t\t<loc>".get_option('home')."<&#47;loc>\n".<br />
		"\t\t<lastmod>".date('Y-m-d\TH:i:sP', strtotime($posts[0]->post_modified))."<&#47;lastmod>\n".<br />
		"\t\t<changefreq>daily<&#47;changefreq>\n".<br />
		"\t\t
<priority>1<&#47;priority>\n".<br />
		"\t<&#47;url>\n";</p>
<p>	foreach($posts as $post) {<br />
		setup_postdata($post);</p>
<p>		$sitemap .= "\t<url>\n".<br />
			"\t\t<loc>" . get_permalink($post->ID) . "<&#47;loc>\n".<br />
			"\t\t<lastmod>" . date('Y-m-d\TH:i:sP', strtotime($post->post_modified)) . "<&#47;lastmod>\n";</p>
<p>		if ($post->post_type == 'post') {<br />
			$sitemap .= "\t\t<changefreq>weekly<&#47;changefreq>\n".<br />
				"\t\t
<priority>0.9<&#47;priority>\n";<br />
		} else {<br />
			$sitemap .= "\t\t<changefreq>monthly<&#47;changefreq>\n".<br />
				"\t\t
<priority>0.5<&#47;priority>\n";<br />
		}</p>
<p>		$sitemap .= "\t<&#47;url>\n";<br />
	}</p>
<p>	$sitemap .= '<&#47;urlset>';</p>
<p>	$fp = fopen(ABSPATH . "sitemap.xml", 'w');<br />
	fwrite($fp, $sitemap);<br />
	fclose($fp);</p>
<p>	$sitemapUrl = urlencode(get_option('home').'&#47;sitemap.xml');<br />
	$searchEngines = array(<br />
		'http:&#47;&#47;google.com&#47;webmasters&#47;sitemaps&#47;ping?sitemap='.$sitemapUrl,<br />
		'http:&#47;&#47;www.bing.com&#47;webmaster&#47;ping.aspx?siteMap='.$sitemapUrl,<br />
	);</p>
<p>	foreach ($searchEngines as $searchEngine) {<br />
		file_get_contents($searchEngine, 80, null, null, 0);<br />
	}<br />
}<br />
[&#47;cce]<br />
Если вы не знаете как вставлять код или у вас возникли проблемы с этим, то читайте статью <a href="http:&#47;&#47;paperplane.su&#47;insert-functions-wordpress&#47;" title="Вставка кода в functions.php" target="_blank">вставка кода в functions.php<&#47;a>.</p>
<p>Обращаю ваше внимание на то, что в коде в строках 7 и 8 вы можете заметить ненужную операцию конкатенации (для тех кто в теме, остальные могут забить и читать со следующего абзаца). Это сделано для того, чтобы не билась подсветка PHP-кода, если её убрать, то мой интерпретатор подумает, что там начало PHP-кода (тег <?) и всё полетит к ослам >_<</p>
<p>Код работает примитивно просто: формируем заголовок файла, получаем все посты и страницы блога, пихаем в переменную все страницы и посты блога в нужном формате с сортировкой по уменьшению даты последней модификации, записываем это всё в файл <em>sitemap.xml<&#47;em> и оповещаем поисковые системы о том, что была сформирована карта сайта для них. На счет последнего не всё очень круто, оповещается всего 2а поисковика: Google и Bing. Другие не работают или вообще не поддерживают удаленного анонимного оповещения о <em>sitemap.xml<&#47;em>. Если кто из вас знает, как можно оповестить другие поисковики, то прошу написать об это в комменты.</p>
<p>Как вы могли заметить, в начале функции есть одна настраиваемая переменная <em>$stylesheet<&#47;em>. Она отвечает за отображение стилей для XML карты: true - стили подключаются, карта выглядит красиво и пригодна для просмотра человеком; false - стили не подключается, карта выглядит, как обычный XML-документ и пригодна только для роботов. По-дефолту, эта переменная выставлена в false, но если вы хотите иметь симпатичную карту сайта, то нужно её выставить в true и <strong>обязательно <a rel="nofollow" href="http:&#47;&#47;image.paperplane.su&#47;stylesheet-xml-sitemap.rar" title="Архив со стилями отображения XML sitemap" target="_blank">скачать<&#47;a> стили для карты сайта<&#47;strong> (скачанный архив распаковать в корень своей активной темы). Если этого не сделать (не скачать стили), то карта сайта вообще не будет отображаться (белый экран).</p>
<blockquote><p>
Любая помощь по данному коду (вопросы, установка, доработка и т.д.)<strong> являются платными услугами<&#47;strong>. Пишите через форму обратной связи, если готовы оплатить мою работу. Если вопрос нет, то берём и устанавливаем &ndash; благо, я всё дал и разжевал.<br />
<&#47;blockquote></p>
<p>На этом у меня на сегодня всё. Если у вас есть предложения (особенно по оповещениям), вопросы или пожелания, то пишите в комментарии. Всем удачной генерации!</p>

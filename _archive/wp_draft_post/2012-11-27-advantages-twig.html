---
layout: post
status: publish
published: true
title: Преимущества Twig
author:
  display_name: SlowProg
  login: seoadmin
  email: paperplanesu@rambler.ru
  url: http://paperplane.su
author_login: seoadmin
author_email: paperplanesu@rambler.ru
author_url: http://paperplane.su
wordpress_id: 1492
wordpress_url: http://paperplane.su/?p=1492
date: '2012-11-27 18:31:34 +0400'
date_gmt: '2012-11-27 14:31:34 +0400'
categories:
- Мастерская
tags:
- twig
- шаблонизатор
comments:
- id: 123619
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru
  date: '2012-11-27 19:17:00 +0400'
  date_gmt: '2012-11-27 15:17:00 +0400'
  content: Хм. Хорошая вещь, судя по описанию. Обязательно полистаю документацию.
    У меня идея фикс - сделать самописный сайт. Просто ради интереса. Начинал полтора
    года назад изучать html с нуля, как-то плавно перешел на php. Без учебников, всё
    ручками. Так лучше усваивается. :) Так что и до шаблонизаторов доберусь.
- id: 123626
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-27 19:30:24 +0400'
  date_gmt: '2012-11-27 15:30:24 +0400'
  content: "Да, на самом деле, когда происходит освоение первого языка программирование,
    то человек переходит на новый уровень виденья. Он возвышается над всеми CMS и
    другими штуками, которые позволяют без осознания дела создавать сайты. Теперь
    он может эти инструменты см разбирать и модернизировать как ему надо =) В общем
    это нужный навык. \r\n\r\nЭто как в мире фотографии, сейчас фоткать может каждый,
    купит дешевую зеркалку и мнит себя фотографом, а потом смотришь на его отчет с
    события и просто смеяться хочется =) Он своего инструмента не знает, думает что
    автоматика всю работу сделает .А нет =)"
- id: 123678
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2012-11-27 21:02:17 +0400'
  date_gmt: '2012-11-27 17:02:17 +0400'
  content: "+1. Башкой нужно думать, а не надеяться на технику. Голова человеку для
    того, чтобы думать, а не только шапку носить.\r\n\r\nP.S.: Сейчас только обратил
    внимание - а чего это меня тут двое? :shock: В смысле - в блоке комментаторов.
    Не иначе как раздвоение личности! :-D"
- id: 123684
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-27 21:13:37 +0400'
  date_gmt: '2012-11-27 17:13:37 +0400'
  content: "Ахахахах! Это клоун-клон! Так можно и весь блок заполонить своими клонами
    =)))\r\n\r\nСкорее всего либо раньше под другой почтой писал, либо мой код отработал
    некорректно. Позже проверю, что к чему"
- id: 123686
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2012-11-27 21:16:03 +0400'
  date_gmt: '2012-11-27 17:16:03 +0400'
  content: Ужас. Я не хочу заполнять клонами весь блок. Меня одного-то много бывает.
    ))))
- id: 124430
  author: Saint_Byte
  author_email: admin@dotsb.net.ru
  author_url: http://ural.im
  date: '2012-11-28 10:16:50 +0400'
  date_gmt: '2012-11-28 06:16:50 +0400'
  content: 1в1 дефолтовый шаблонизатор Джанги , и подозреваю от туда он был слизан
- id: 124526
  author: Александр
  author_email: Kaden4@yandex.ru
  author_url: http://strashnotut.ru
  date: '2012-11-28 12:30:19 +0400'
  date_gmt: '2012-11-28 08:30:19 +0400'
  content: Отличная статья, некоторую полезную информацию я извлек для себя, из этого
    материала.
- id: 124570
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-28 13:24:06 +0400'
  date_gmt: '2012-11-28 09:24:06 +0400'
  content: Очень надеюсь на это =) Я сам не могу нарадоваться этому шаблонизатору.
    Особенно мне нравится его подключать к самописным движкам. Кривые PHP-шаблоны
    в прошлом =)
- id: 124574
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-28 13:27:20 +0400'
  date_gmt: '2012-11-28 09:27:20 +0400'
  content: Не совсем так =) Twig наследник Jinja, который является шаблонизатором
    для Python. И уже  Jinja сделан по образу и подобию Django =) Тройное наследование
    xDDD
- id: 125717
  author: morontt
  author_email: morontt@gmail.com
  author_url: http://morontt.info
  date: '2012-11-30 02:26:12 +0400'
  date_gmt: '2012-11-29 22:26:12 +0400'
  content: Я только и увидел в преимуществах Twig-а наследование шаблонов, в остальном
    те же яйца, только сбоку. Ну и суть MVC с ним сложнее попортить в слое представления
    :)
- id: 125742
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-30 03:06:02 +0400'
  date_gmt: '2012-11-29 23:06:02 +0400'
  content: Яйца, это да. Но смысл статьи в том, чтобы показать преимущества Twig в
    сравнении с нативным PHP в аспекте удобства. Да, последний будет быстрее, но вот
    неудобство разработки и отсутствие различных фич лишают кайфа =) Просто тот же
    синтаксис Twig, я считаю, одним из самых пригодных для восприятия людей разных
    специальностей =)
- id: 126228
  author: morontt
  author_email: morontt@gmail.com
  author_url: http://morontt.info
  date: '2012-11-30 12:36:51 +0400'
  date_gmt: '2012-11-30 08:36:51 +0400'
  content: А где же недостатки? Не хватает для полноты обзора :)
- id: 126264
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-30 13:57:32 +0400'
  date_gmt: '2012-11-30 09:57:32 +0400'
  content: "Тсссссс! Какие недостатки??? =))))\r\n\r\nНет, ну конечно самый недостаток
    по сравнению с нативным PHP это быстродействие, т.к. Twig на нем написан, а выше
    головы не прыгнешь. Хотя слышал мнения, что компилирующие шаблонизторы не хуже.
    Но это неправда, я думаю. Хотя все зависит от конкретной ситуации. Тот же Twig
    в полном обмундировании с включенным автоэкранированием конечно же медленнее 100%!
    Но если отключить автоэкранирование и сравнивать вывод огромных страницы (на тысячи
    символов) из множества переменных, то я думаю Twig может показать хорошую производительность.\r\n\r\nНо
    нативный PHP, как шаблнизатор уже не совсем пригоден, его проблема многословности
    просто сводит с ума:\r\n<code><?php echo htmlspecialchars($company->name, ENT_QUOTES,
    'UTF-8') ?><&#47;code>\r\nэто явно не идет против Twig:\r\n<code>{{ company.name
    }}<&#47;code>\r\nПлюс у PHP нет предусмотренной песочницы, что не очень красиво.
    Из шаблона можно и в базу сделать запись и по глобальным переменным пройтись,
    как начнет использовать $_POST да получит инъекцию! Это конечно глупости, но возможность
    реально существует, а если есть возможность, то это уже плохо. Зачем лишние права
    давать? Тогда на Сервере и Базах зачем делать пользователей с ограниченными правами,
    пусть всем полные права будут =) Мы же им доверяем! Песочницу конечно можно реализовать,
    но боюсь что выигрыш в скорости будет утерян."
- id: 135285
  author: Sandro
  author_email: Godiay.ua@yandex.ru
  author_url: ''
  date: '2013-01-30 12:04:54 +0400'
  date_gmt: '2013-01-30 08:04:54 +0400'
  content: "Здравствуйте! Я постоянный читатель Вашего блога, спасибо Вам за Ваш труд!\r\nЯ
    только начинаю изучать фреймворки, возникло много вопросов. Я напишу, как я понимаю,
    а Вы напишите, как есть, разложите по полочкам... Просьба не смеятсо....\r\n-фреймворк
    \ выполняет функцию библиотек, значит стандартный компонент сервера php-не нужен?\r\n-фрейморк
    переносится на реальный сервер вместе с движком, или служит только для настроек
    и отладок на 127.0.0.1?\r\n-у меня на локалке с десяток движков крутится, и что,
    на каждый фрейморк ставить? (ведь написано-устанавливать в корень)\r\nЭто я -так,
    \"сходу\", я потом еще задам ))"
- id: 135290
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-30 12:48:38 +0400'
  date_gmt: '2013-01-30 08:48:38 +0400'
  content: |-
    Добрый. Все начинали когда-то. У всех были вопросы. Постараюсь удовлетворить ваше любопытство:

    1)  Фреймворк - это не просто библиотеки, а надстройка над языком, потому язык, над которым он надстраивается, обязательно нужен. Фреймворк даёт дополнительный функционал языку и решает различные рутинные задачи программиста, а не заменяет его.

    2) Из выше написанного вытекает, что фреймворк обязательно нужен везде, где он используется (локалка и сервер). Повторю, что он не для настроек сервера, а для предоставления программисту дополнительного функционала.

    3) По идеи, всё зависит от фреймворка, некоторые можно ставить над самим языком и использовать его повторно о многих проектах. Но как правило это редкий случай (и скорее это будет просто набор библиотек). Обычно фреймворк ставится для каждого сайта отдельно, т.к. конфигурация фреймворка для одного сайта может не подойти для другого. Также есть случаи когда можно одним фреймворком охватить несколько сайтов, например, два домена, два одинаковых сайта, но на разных языках, можно реализовать в рамках одного фреймворка, где просто конфигурационные файлы фремоврка (или еще как) изначально отличаются для каждого домена, а весь внутренний функционал один и тот же.
- id: 135314
  author: Sandro
  author_email: Godiay.ua@yandex.ru
  author_url: ''
  date: '2013-01-30 16:26:17 +0400'
  date_gmt: '2013-01-30 12:26:17 +0400'
  content: "может это и лишнее, но я хотел бы узнать узнать Ваше мнение по этой теме
    \  http:&#47;&#47;forum.php.su&#47;topic.php?forum=1&amp;topic=8235. со стороны
    примения фрейморков вообще. Почитайте, очень интересно люди пишут, тема небольшая,
    но даёт очень много пищи для ума, интересная. \r\nЯ вообще изначально сторонник
    чистого PHP кода, и в пременении фреймормворков  читаю \"примениние костылей\"-чужой
    код, на который разработчик налагает свой. Ну я не настаиваю на своей правоте,
    так как код я пробовал писать, а вот с фреймворками-нет.\r\nВообщем какое Ваше
    мнение о ссылке  и о есть ли преймущества чистого php, с оглядкой на эту ссылку."
- id: 135336
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-30 19:59:54 +0400'
  date_gmt: '2013-01-30 15:59:54 +0400'
  content: "Всё просто: надо знать цену всему и расставлять приоритеты. Если важно
    быстродействие и времени вагон, то чистый PHP хороший выбор, но надо знать, что
    результатом работ будет куча велосипедов, и не факт, что велосипеды будут лучше
    существующих. Интернет-сообщество родило на свет уйму библиотек, написать лучше
    которых вряд ли у кого получится. Потому не использовать их не разумно. Плюс они
    так же постоянно эволюционируют, потому лучше направить свои усилия на улучшения
    библиотеки (ну или сделать <a href=\"http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;%D0%A4%D0%BE%D1%80%D0%BA\"
    rel=\"nofollow\">форк<&#47;a>), чем писать свою с нуля. Должно быть очень веское
    обоснование (очень-очень), чтобы писать свою библиотеку с нуля.\r\n\r\nБез хорошей
    организации чистый код большого проекта превращается в <a href=\"http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;%D0%A1%D0%BF%D0%B0%D0%B3%D0%B5%D1%82%D1%82%D0%B8-%D0%BA%D0%BE%D0%B4\"
    rel=\"nofollow\">спагетти-код<&#47;a>. А при хорошей организации это добротная
    CMS или даже целый фреймворк. Да, если средства, силы, ресурсы и знания позволяют
    всё написать с нуля, то почему бы и нет, вдруг это будет лучше существующего.
    Вряд ли конечно, но чем черт не шутит.\r\n\r\nИ хороший фремворк это точно не
    костыль. Посмотрите шире: тот же PHP это такой же набор библиотек. Часть из которых
    не используется в проектах.  Тогда можно сказать: изначально я сторонник чистого
    Ассемблера... или нет! прямых команд на процессор. Вот это тру программировние
    010001111. \r\n\r\nВ общем, нельзя быть критичным в подобных вопросов. Единого
    правильного ответа нет. Все зависит от начальных условий: задача и имеющиеся ресурсы.
    \ Нужно правильно оценивать положение вещей и видить целесообразность применения
    фреймворка, каой-нибудь библиотеки, CMS или самописного движка. В общем если у
    вас есть армия программистов и несколько лет на проект, то пусть они проектируют
    и прогают всё с нуля. Но поскольку таких ресурсов ни у кого нету, то нужно как-то
    выходить из положения и использовать то, что уже интернет-сообщество родило.\r\n\r\nА
    на счет вопроса с форума: <strong>А от чего же, собственно, зависит способность
    движка выдерживать большое количество посетителей?<&#47;strong> При прочих равных
    условиях самое узкое место любой системы это база данных. Количество запросов
    и способ организации данных решают многое, если конечно данных много, а не пара
    записей. Дальше уже идет правильная организация кода: чем меньше процессору потребуется
    совершить тактов для решения той или иной задачи тем лучше, т.е. надо НЕ БЫТЬ
    <a href=\"http:&#47;&#47;lurkmore.to&#47;%D0%91%D1%8B%D0%B4%D0%BB%D0%BE%D0%BA%D0%BE%D0%B4%D0%B5%D1%80\"
    rel=\"nofollow\">быдлокодером<&#47;a>. И на этом всё. От этого зависит производительность.
    Всё остальное, как правило будут частные случаи выше написанного."
- id: 135341
  author: Sandro
  author_email: Godiay.ua@yandex.ru
  author_url: ''
  date: '2013-01-30 20:38:17 +0400'
  date_gmt: '2013-01-30 16:38:17 +0400'
  content: "Спасибо большое за развёрнутый ответ. Мне было важно Ваше мнение. \r\nА
    вот это\r\n\r\nИ хороший фремворк это точно не костыль. Посмотрите шире: тот же
    PHP это такой же набор библиотек.\r\n\r\nВобью в моск, или даже перенесу на рабочий
    стол. \r\nЧтоб \"одёргивало\"\r\nС уважением."
- id: 135344
  author: Sandro
  author_email: Godiay.ua@yandex.ru
  author_url: ''
  date: '2013-01-30 20:55:57 +0400'
  date_gmt: '2013-01-30 16:55:57 +0400'
  content: "Прочёл про БЫДЛОКОДЕРОВ.\r\nНи одного сходства не обнаружено. Я вообще
    больше спрашиваю, чем расказывваю. Интересуюсь по форумам, читаю книги. В кодинг
    без платформы знаний не лезу. Пока укладываю в голове основы.\r\nНа одном только
    форуме обозвали школотой и тупым за вопрос по выдерживаемости движков. Там поругался.
    А так, стараюсь вникать и не перечить. Плохого не посоветуют."
- id: 135353
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-30 22:01:46 +0400'
  date_gmt: '2013-01-30 18:01:46 +0400'
  content: "Вообще форумы это известное место сранья и холиваров. За небольшим исключением
    форумы программистов, юристов и т.п. в силу интеллигентной аудитории. Но бывает
    очень сложно на форуме получить ответ на интересующий вопрос, особенно глупый
    =)\r\n\r\nДля того чтобы не быть быдлокодером (а их подавляющее большинство, например,
    я), нужно иметь математический склад ума, знать различные алгоритмы сортировки,
    перебора и др. В общем быть подтянутым в <a href=\"http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;%D0%A2%D0%B5%D0%BE%D1%80%D0%B8%D1%8F_%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D0%BE%D0%B2\"
    rel=\"nofollow\">теории алгоритмов<&#47;a>. Теория в данном случае много значит."
- id: 135377
  author: Sandro
  author_email: Godiay.ua@yandex.ru
  author_url: ''
  date: '2013-01-31 01:32:51 +0400'
  date_gmt: '2013-01-30 21:32:51 +0400'
  content: "Я не считаю считаю свой вопрос глупым, и не считаю Вас быдлокодером. \r\nАлгоритмы
    это хорошо, но моё мнение, что мне нужно как тому Каю сложить сложить слово из
    элементов\r\nhttp:&#47;&#47;boolive.ru&#47;createcms&#47;architecture\r\nhttp:&#47;&#47;forum.php.su&#47;topic.php?forum=1&amp;topic=8235\r\nhttp:&#47;&#47;paperplane.su&#47;advantages-twig&#47;\r\nИ
    как только это сложится до уровня <strong>железного<&#47;strong> понимания, так
    и можно начинать написание."
- id: 135386
  author: Sandro
  author_email: Godiay.ua@yandex.ru
  author_url: ''
  date: '2013-01-31 01:59:17 +0400'
  date_gmt: '2013-01-30 21:59:17 +0400'
  content: "P.S. А Вы не замеряли сколько посещений на Ваш блог в пиках (не уникальных),
    и сколько в минимуме?\r\nИ сколько в этих точках обращений к БД, и время их исполнения?"
- id: 135431
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-01-31 12:40:04 +0400'
  date_gmt: '2013-01-31 08:40:04 +0400'
  content: 'Да не парьтесь вы насчёт этого <strong>быдлокодерства<&#47;strong>, это
    просто самоирония. :) Всё равно на сто процентов грамотный и выверенный код хоть
    и возможен, но тем не менее - практически не нужен. Точно так же как и на сто
    процентов валидная вёрстка не нужна. Для примера: вы же не разговариваете в повседневной
    жизни на чистейшем литературно грамотном русском языке - всё равно употребляете
    и жаргонизмы и заимствования из других языков, да и "русские народные" матюги,
    скорее всего, иногда проскакивают. :) И при этом нормально вас люди понимают.
    Вот и с кодингом так же - надо, чтобы код работал и был понятен. Этого вполне
    достаточно. ;)'
- id: 135432
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-31 13:00:19 +0400'
  date_gmt: '2013-01-31 09:00:19 +0400'
  content: "Никто не отменял стремление к совершенству. Если все бы стали писать кривой
    код, то на серваках жралось бы больше ресурсов, потребовалось бы больше оперативки,
    потребления электроэнергии выросло бы, потребовались бы новые электростанции,
    природные ресурсы расходовались бы быстрее, приближая техногенную катастрофу.
    Так что давайте скажим НЕТ потребительскому и вирусному обществу, будем покупать
    только те вещи, что необходимы для жизни и подлежать переработке, не использоать
    целофан и др., кушать без излишеств, не беситься с жира, разрабатывать безопасные
    и экологические технологии и конечно же писать прямой и логичный код. \n\nМы дожили
    до времени когда человек смог выйти за пределы своей колыбели, начал познавать
    бескрайние просто вселенной, заглядывть в основу материи, понимать, что всё имеет
    принцип причина-следствие и всё взаимосвязанно. Но вот как-то простые истины о
    том что из прошлого вытекает будущее, как то не многие усвоили =)"
- id: 135436
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-01-31 13:11:37 +0400'
  date_gmt: '2013-01-31 09:11:37 +0400'
  content: У меня такое ощущение, что мне сейчас ответил инопланетянин. :-D
- id: 135437
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-31 13:25:15 +0400'
  date_gmt: '2013-01-31 09:25:15 +0400'
  content: |-
    Такого я не делал. Пока гром не грянет, мужик не перекрестится. Это конечно плохой подход, но времени особо на это нет =(

    На счет сложить слово из элементов, то, не в обиду, но именно такой подход рождает быдлокодеров. Стремление получить всё и сразу далеко не самое лучшее, хоть и красивое. Изучение сверху-вниз только кажется более легким способом, на смом деле всё обстоит по-другому. Зная основу можно понимать работу любого кода на лету без лишних телеодвижений, а если изучать только конкретные решения, то изучение одного не дает гарантию понимания другого решения. Так придётся изучать каждый пример, пока наконец-то не произойдет качественный переход к осознанию и пониманию происходящего, который при изучении снизу-вверх произошёл бы гораздо быстрее.

    Но всегда надо знать МЕРУ (запомните это и применяйте во всём). Крайности, полезны только в исключительных случаях. На изучение только снизу-вверх уйдёт много времени, плюс технологии обновляются (правда основа всегда одна), потому стоит применить оба подохода в купе для повышения результативности, но основа всегда должна быть изучена первой. Для языков программирование это понимание работы процессора, постоянной и оперативной памяти, математика (линейная алгебра, теория вероятности, дискретная математика и др.), <a href="http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC" target="_blank" rel="nofollow">понятие алгоритма<&#47;a>, различные решения <a href="http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D0%BE%D0%B2" target="_blank" rel="nofollow">рутинных задач<&#47;a> (типа сортировки, поиска и др.), <a href="http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F" target="_blank" rel="nofollow">модели и приёмы программирования<&#47;a> и др. Такие дела, да, иначе быдлокодерство. Я - быдлокодер, т.к. имею небольшие проблемы с математикой (не сказать, что дуб, но всё же не на отлично), но дело даже не в этом, я это чувствую: далеко до совершенства моим кодам =(
- id: 135440
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-31 13:28:53 +0400'
  date_gmt: '2013-01-31 09:28:53 +0400'
  content: К сожалению, я живу на одной со всеми вами планете =( Но это не долго будет
    продолжатся =)
- id: 135441
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-01-31 13:32:50 +0400'
  date_gmt: '2013-01-31 09:32:50 +0400'
  content: Ага. Особенно если часто и громко высказывать эту сентенцию в реале. )))
- id: 135443
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-31 13:34:40 +0400'
  date_gmt: '2013-01-31 09:34:40 +0400'
  content: Именно этим я и занимаюсь xDD И даже находятся те кто меня поддерживают,
    спасибо им =*
- id: 135447
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-01-31 13:45:15 +0400'
  date_gmt: '2013-01-31 09:45:15 +0400'
  content: Это намек на то, что сейчас на меня будет набигать группа поддержки? :-D
    Тогда я, пожалуй, закончу свой оффтоп в этом сурьезном топике. А то ж действительно
    набигут и заставят насильно не пользоваться целлофаном, говорить "нет" потребительскому
    обществу, разрабатывать экологические технологии и бороздить просторы Вселенной,
    выходя при этом за край колыбели. )))
- id: 135461
  author: Sandro
  author_email: Godiay.ua@yandex.ru
  author_url: ''
  date: '2013-01-31 16:44:16 +0400'
  date_gmt: '2013-01-31 12:44:16 +0400'
  content: "<blockquote>в этом сурьезном топике.<&#47;blockquote>\r\nКак можем...\r\n<blockquote>К
    сожалению, я живу на одной со всеми вами планете<&#47;blockquote>\r\nК чьему?\r\nВсе
    рекомендации принял к сведению.\r\nP.S. Пора уже BBpress прикручивать -))"
- id: 135472
  author: Olunka
  author_email: olunka-com@yandex.ru
  author_url: http://www.olunka.ru/
  date: '2013-01-31 19:20:16 +0400'
  date_gmt: '2013-01-31 15:20:16 +0400'
  content: "А я как раз стараюсь говорить на литературном русском языке, говорят у
    меня получается )))\r\nИ код надо писать, чтобы не было мучительно стыдно ..."
- id: 135481
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru
  date: '2013-01-31 21:43:12 +0400'
  date_gmt: '2013-01-31 17:43:12 +0400'
  content: Значит я либо не настолько возвышен, чем вы, либо слишком приземлён в отличие
    от вас. )
- id: 135489
  author: Olunka
  author_email: olunka-com@yandex.ru
  author_url: http://www.olunka.ru/
  date: '2013-02-01 00:03:09 +0400'
  date_gmt: '2013-01-31 20:03:09 +0400'
  content: Андрей, Вы же блогер, а значит немножко писатель, стало быть русским языком
    владеете.
- id: 135540
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-01 09:18:36 +0400'
  date_gmt: '2013-02-01 05:18:36 +0400'
  content: Я не блогер, я обычный человек. :) Сейчас любой малолетний [цензура], сделавший
    себе сайт "типа как в кантакти тока круче" на укозе или народе гордо именует себя
    "блогером", так что для меня это слово себя изжило. Не путайте божий дар с яичницей,
    чукча не блогер и не писатель, чукча - подписчик. :) У меня просто есть несколько
    сайтов и я там иногда пишу какую-нибудь чепуху, которая интересна по большей части
    только мне одному. Всего лишь один из способов разнообразить досуг. А языком владею
    наверно. Но не классическим русским, а обычным - говорить стихами было бы не очень
    удобно. :)
- id: 135550
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-01 13:03:15 +0400'
  date_gmt: '2013-02-01 09:03:15 +0400'
  content: К сожалению тех, кто жалеет xDDDD но что-то я смотрю повествование давно
    далеко ушло от Twig xDDDD
- id: 135557
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-01 13:14:19 +0400'
  date_gmt: '2013-02-01 09:14:19 +0400'
  content: НУ, шутник! Ну, шутник! ВЗЯТЬ ЕГО!!!!!!!!!!!!!!
- id: 135558
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-01 13:19:19 +0400'
  date_gmt: '2013-02-01 09:19:19 +0400'
  content: Тут я согласен (оффтоп продолжается в другой ветке комментариев). С этими
    конструкторами сайтов ничего знать не надо, каждый делает сайты. И я даже не вижу
    ничего плохого, если бы не засорение информационного пространства. Так сказать,
    у интернета теперь тоже есть свой <strong>белый шум<&#47;strong>.
---
<p><a href="http:&#47;&#47;image.paperplane.su&#47;2012&#47;11&#47;twig.png"><img src="http:&#47;&#47;image.paperplane.su&#47;2012&#47;11&#47;twig-300x300.png" alt="Преимущества Twig" title="Преимущества Twig" width="300" height="300" class="alignleft size-medium wp-image-2696" &#47;><&#47;a>Самым популярным <strong>шаблонизатором<&#47;strong> на сегодняшний день остается по прежнему PHP. Раньше и я его использовал пока не встал вопрос о более гибком и функциональном шаблонизаторе. Мой выбор пал на небезызвестный Twig, который оказался значительно лучше голого PHP. Последний слишком подробный, имеет слишком много лишних символов с точки зрения оптимизации шаблона (хотя Twig тоже не самый лаконичный из всех шаблонизаторов, но не в этом суть). Также PHP не поддерживает автоматическое экранирование и некоторые полезные функции современных шаблонизаторов, которые существенно облегчают вёрстку. И еще не мало важный фактор, что с помощью PHP довольно сложно грамотно реализовать разделение задач по архитектуре паттерна <a href="http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;Model-View-Controller" title="Model-View-Controller" rel="nofollow" target="_blank">MVC<&#47;a>.</p>
<p>Большинство известных современных шаблоннизаторов также отстают по многим причинам от Twig. В основном они предлагают очень ограниченный синтаксис (только переменные и циклы), не являются надежными и гибкими. Большинство из них также достаточно медлительны, поскольку не используют кэширование, а просто производят разбор шаблонов по регулярным выражениям, что, как известно, достаточно ресурсоемкий процесс.</p>
<p>Уже достаточно долгое время я применяю в качестве шаблонизатора Twig. Всё началось с того что я стал использовать фреймворк Symfony2, а вместе с ним по-дефолту употребляется Twig. Но также я применяю Twig и в самописных движках сделанных своими ручками, прикручивается он очень просто. Twig это современный механизм шаблонизации написанный на PHP 5.2 разработчиком <a href="http:&#47;&#47;paperplane.su&#47;ustanovka-i-nastrojka-symfony-2&#47;" title="Установка и настройка Symfony 2" target="_blank">фреймворка Symfony2<&#47;a> Fabien Potencier и командой Sensio Labs. Twig предлагает безопасный, краткий и полнофункциональный API, унаследованный от знаменитого шаблонизатора Jinja в Python. Но что именно делает Twig настолько мощным?</p>
<h2>Простота освоения<&#47;h2><br />
Прежде всего, Twig имеет очень краткий и простой для изучения синтаксис, основанный всего на трех тегах, которые необходимо запомнить:</p>
<ul>
<li><strong>{{ ... }}<&#47;strong> - тег для вывода чего-либо;<&#47;li>
<li><strong>{% ... %}<&#47;strong> - тег для вычисления какого-либо выражения, например, цикл или условие;<&#47;li>
<li><strong>{# ... #}<&#47;strong> - тег для размещения комментариев в шаблоне.<&#47;ul><&#47;li><br />
Примером использования синтаксиса Twig может служить следующий код:<br />
[cce lang="html"]<br />
{# проверка возраста вошедшего пользователя #}<br />
{% if age > 18 %}<br />
	Ваш возраст {{ age }}, и потому Вы можете зайти на этот сайт.<br />
{% else %}<br />
	Извини, чувак, но ты слишком молод, чтобы зайти на этот сайт.<br />
{% endif %}<br />
[&#47;cce]<br />
Когда дело доходит до вывода данных, то Twig сам пытается определить, как получить значение из той или иной переменной, а для конечного пользователя синтаксис не меняется не зависимо от типа переменной. Например:<br />
[cce lang="html"]{{ user.firstName }} [&#47;cce]<br />
Фрагмент кода выше должен вернуть имя пользователя. Здесь переменная <em>user<&#47;em> может быть ассоциативным массивом или объектом. Если это объект, то Twig сам пытается вызвать публичное свойство, метод или геттер.</p>
<p>Исходя из этого всего, порог вхождения в Twig действительно мал. Через пару дней обучения разработчик и веб-дизайнер смогут свободно работать и верстать используя этот шаблонизатор и при этом разговарить друг с другом на одном языке.</p>
<h2>Безопасность<&#47;h2><br />
Когда дело доходит до экранирования, то PHP окончательно отстает. Для экранирования переменных необходимо применять функции типа <em>htmlspecialchars()<&#47;em> или <em>htmlentities()<&#47;em>. Это делает ваш код очень громоздким и трудно поддерживаемым. Например, что если вы забыли экранировать значение опасной переменной? Этим самым вы создадите брешь в безопасности (например, для XSS-атак), особенно если значение переменной передается от пользователя.</p>
<p>В случае с Twig всё просто, он автоматически экранирует всё, что выводит, так что об этом не нужно думать и вручную экранировать каждую переменную. Конечно же функционал Twig достаточно гибкий, и автоматическим экранированием всё не ограничивается. Вы можете иметь доступ к содержимому каждой переменной и не экранировать, если это необходимо, и если вы осознаете, что безопасность приложения от этого не падает. Вот несколько примеров для иллюстрации функционала:<br />
[cce lang="php"]<br />
{# автоматически экранируемая переменная #}<br />
{{ article.content }}</p>
<p>{# переменная дважды не экранируется #}<br />
{{ article.content | е }}</p>
<p>{# переменная не экранируется #}<br />
{{ article.content | raw }}<br />
[&#47;cce]<br />
Но в Twig не только переменные могут быть экранированы. На самом деле, вы можете экранировать огромные куски HTML-кода или оставлять его как есть:<br />
[cce lang="php"]<br />
{% autoescape true %} </p>
<ul>
<li>Экранировать этот список<&#47;li><br />
	<&#47;ul><br />
{% endautoescape %}</p>
<p>{% raw %}</p>
<ul>
<li>Оставить этот список как есть<&#47;li><br />
	<&#47;ul><br />
{% endraw %}<br />
[&#47;cce]<br />
Как вы можете видеть, код остается кратким, шаблон легко читается и поддерживается. Вы все еще ​​не уверены на счет Twig? Тогда продолжайте читать эту статью, чтобы открыть еще много новых функций.</p>
<h2>Большая функциональность<&#47;h2><br />
По сравнению с другими библиотеками Twig поддерживает богатый функционал. Например, Twig поддерживает операторы цикла, ветвления, логических операций, математических операций и операций сравнения. Вот небольшой пример:<br />
[cce lang="php"]<br />
{% for fruit in fruits %}<br />
	* {{ fruit }}<br />
{% else %}<br />
	* Фруктов нет...<br />
{% endfor %}<br />
[&#47;cce]<br />
Неплохо? Twig на самом деле имеет некоторые очень крутые функции. Просто гляньте на цикл, где если <em>fruits<&#47;em> пустой, то происходит ветвление по <em>else<&#47;em>. Это очень удобная фича.</p>
<p>Одна из моих любимых возможностей Twig является наследование шаблонов. В принципе, любой шаблон может унаследовать любой другой шаблона и нет никаких ограничений в иерархии наследования. Вот небольшой пример по поводу наследования шаблонов. Ниже приведен код шаблона <em>base.html.twig<&#47;em>:<br />
[cce lang="html"]<br />
{# base.html.twig #}<br />
<html><br />
	<head><br />
		<title>{% block title %} Добро пожаловать на мой сайт {% endblock %}<&#47;title><br />
	<&#47;head><br />
	<body> </p>
<h1>Добро пожаловать!<&#47;h1><br />
		{% block body %}{% endblock %}<br />
	<&#47;body><br />
<&#47;html><br />
[&#47;cce]<br />
И еще один шаблон <em>resume.html.twig<&#47;em>, который наследует и расширяет предыдущий:<br />
[cce lang="html"]<br />
{# resume.html.twig #}<br />
{% extends "base.html.twig" %}</p>
<p>{% block title %}<br />
	Об авторе<br />
{% endblock %}</p>
<p>{% block body %}<br />
	Ниже перечислены навыки и образование</p>
<h2>Навыки<&#47;h2></p>
<ul>
<li>PHP 5.3<&#47;li>
<li>MySQL<&#47;li>
<li>Symfony2<&#47;li><br />
	<&#47;ul></p>
<h2>Образование<&#47;h2><br />
	{% include 'education.html.twig' %}<br />
{% endblock %}<br />
[&#47;cce]<br />
В приведенном выше примере, шаблон <em>resume.html.twig<&#47;em> расширяет <em>base.html.twig<&#47;em>. Он определяет содержимое для двух блоков (<em>title<&#47;em> и <em>body<&#47;em>), ​​которые заполняют два одноименных блока в родительском шаблоне при сборке всей HTML-страницы. Неплохо, да!? Также можно сделать, чтобы <em>resume.html.twig<&#47;em> унаследовал промежуточный шаблон, который в свою очередь расширяет <em>base.html.twig<&#47;em>. Всё что душе угодно. И обратите внимание, <em>resume.html.twig<&#47;em> также включает в себя другой шаблоны <em>education.html.twig<&#47;em>, но уже путём простого включения его содержимого.</p>
<p>Twig также поддерживает кучу фильтров и функций. Фильтр представляет собой обычную функцию, которая изменяет значение переменной. Фильтры могут быть объеденены благодаря вертикальному слешу "|", чтобы сделать код более читабельным. Т.е. для одной переменной можно применить кучу фильтров через слеш:<br />
[cc lang="html"]<br />
{{ '<strong>Привет, Мир!<&#47;strong>' | striptags | upper }}<br />
[&#47;cc]<br />
Функции представляют собой обычные функции PHP, которые выполняют некоторые уникальные задачи. Одна из самых интересных функций является <em>cycle()<&#47;em>, которая возвращает значение из массива в зависимости от значения счетчика:<br />
[cce lang="html"]<br />
{% for i in 0..10 %}<br />
	<span class="{{ cycle(['odd', 'even'], i) }}"><br />
		Значение счетчика i = {{ i }}<br />
	<&#47;span><br />
{% endfor %}<br />
[&#47;cce]<br />
Одна из величайших особенностей Twig это макросы. Макрос, как функция PHP, которую можно определить и вызвать из шаблона или другого макроса. В принципе, макрос выполняет некоторые часто выполняемые задачи, как генерация кнопки:<br />
[cce lang="html"]<br />
{% macro input(name, value, type, size) %}<br />
	<input type="{{ type | default('text') }}"<br />
		name="{{ name }}"<br />
		value="{{ value | e }}"<br />
		size="{{ size | default(20) }}" &#47;><br />
{% endmacro %}</p>
<p>{{ forms.input('username') }}<&#47;p></p>
<p>{{ forms.input('password', none, 'password') }}<&#47;p><br />
[&#47;cce]<br />
Ну, что? Я надеюсь, что вы уже осознали всю силу Twig. Для более подробного описания функций просто полистайте официальную документацию Twig на <a href="http:&#47;&#47;twig.sensiolabs.org&#47;" target="_blank" rel="nofollow" title="Официальная документация Twig">twig.sensiolabs.org<&#47;a>, там вы для себя еще много чего откроете интересного.</p>
<h2>Twig быстр... на самом деле!<&#47;h2><br />
Т.к. Twig имеет довольно большой функционал, вы можете подумать, что он медленный. Ведь разбор таких шаблонов и формирование HTML-кода должно занимать много времени. Вы ошибаетесь! Twig быстр! Почему?</p>
<p>Twig обладает умным механизмом сборки шаблонов. Он компилирует шаблоны в простые PHP-классы и сохраняет результат в кэш-файлах. Таким образом, Twig не парсит шаблоны дважды.</p>
<p>В октябре 2009 года Fabien Potencier провел несколько тестов, чтобы сравнить Twig с другими известными библиотеками шаблонизации. В тот момент Twig уже обладал невероятной производительностью и мог дать фору почти любому шаблонизатору, хотя не был еще полностью закончен.</p>
<h2>Гибкость и расширяемость<&#47;h2><br />
Все еще ​​не уверены в силе Twig? Надеюсь следующий аргумент вас убедит. Twig является настолько гибким, что он может быть легко расширен по желанию. Изменить теги, использовать круглые скобки вместо фигурных так же просто, как переопределить базовый класс. Добавить новый фильтр, функцию или тест также очень просто. Вам просто нужно унаследовать нужный класс и добавить пару обязательных методов.</p>
<p>В приведенном ниже примере показано, как зарегистрировать новый фильтр <em>truncate<&#47;em> и новую глобальную функцию <em>nl2br()<&#47;em>:<br />
[cce lang="php"]<br />
class Text_Twig_Extension extends Twig_Extension<br />
{<br />
	public function getName()<br />
	{<br />
		return 'text';<br />
	}</p>
<p>	public function getFilters()<br />
	{<br />
		return array(<br />
			'truncate' => new \Twig_Filter_Method($this, 'truncate')<br />
		);<br />
	}</p>
<p>	public function truncate($text, $max = 30)<br />
	{<br />
		$lastSpace = 0;</p>
<p>		if (strlen($text) >= $max)<br />
		{<br />
			$text = substr($text, 0, $max);<br />
			$lastSpace = strrpos($text,' ');<br />
			$text = substr($text, 0, $lastSpace).'...';<br />
		}</p>
<p>		return $text;<br />
	}</p>
<p>	public function getFunctions()<br />
	{<br />
		return array(<br />
			'nl2br' => \Twig_Function_Method($this, 'nl2br', array('is_safe' => array('html')))<br />
		);<br />
	}</p>
<p>	public function nl2br($text)<br />
	{<br />
		return nl2br($text);<br />
	}<br />
}<br />
[&#47;cce]<br />
Ниже приведен пример использования нового функционала:<br />
[cc lang="html"]<br />
{% set text = 'Супер длинная строка, которую я хочу обрезать всего до 20 символов...' %}<br />
{{ text | truncate(20) }}</p>
<p>{% set text = "Текст с переносом строк\n\nГде все переносы нужно заменить на теги <br&#47;>" %}<br />
{{ nl2br(text) }}<br />
[&#47;cc]<br />
Эта возможность делает Twig очень мощным в сравнении с другими движками шаблонов. Вы можете добавить свой ​​собственный набор функций для Twig и настроить его функционал, как хотите. Это возможно за счет то, что Twig обладает мощным парсером <em>Lexer<&#47;em>. И последнее, но не менее важное то, что Twig имеет мощный синтаксический анализатор, который вычленяет ошибки. Отладка шаблона с Twig становится очень простой.</p>
<h2>Заключение<&#47;h2><br />
Основная цель шаблонов - это отделить бизнес-логику от представления, что делает сайт более ремонтопригодным и масштабируемым. Шаблонизатор также должен способствовать работе в команде, налаживая общий язык между разработчиками и веб-дизайнерами. Twig с его лаконичным и простым в освоении синтаксисом позволяет разработчикам и веб-дизайнерам быть максимально продуктивными. </p>
<p>Twig - это полностью протестированный и хорошо документированный продукт. В рамках новой Symfony2 он уже интегрирован по умолчанию в качестве шаблонизатора для представлений. И разработчиков призывают переходить с PHP на Twig.</p>
<p>В общем, Twig делает жизнь разработчика гораздо проще, и я настоятельно рекомендую его попробовать. Вам он должен понравится ведь его можно использовать в совершенно любых разработках, как отдельный шаблонизатор, так и в купе с тем же Symfony2.</p>

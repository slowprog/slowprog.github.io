---
layout: post
status: publish
published: true
title: Установка FTP-сервера ProFTPd на Debian&#47;Ubuntu
author:
  display_name: SlowProg
  login: seoadmin
  email: paperplanesu@rambler.ru
  url: http://paperplane.su
author_login: seoadmin
author_email: paperplanesu@rambler.ru
author_url: http://paperplane.su
wordpress_id: 2592
wordpress_url: http://paperplane.su/?p=2592
date: '2012-10-14 22:11:13 +0400'
date_gmt: '2012-10-14 18:11:13 +0400'
categories:
- Мастерская
tags:
- установка
- debian
- ftp
- ubuntu
comments:
- id: 164140
  author: kapcap
  author_email: kapcap4@gmail.com
  author_url: ''
  date: '2013-06-02 11:59:32 +0400'
  date_gmt: '2013-06-02 07:59:32 +0400'
  content: "http:&#47;&#47;www.youtube.com&#47;watch?v=pIauzX8OM70\r\nтут более наглядно
    !"
- id: 176694
  author: Vlmedia
  author_email: vlstk@mail.ru
  author_url: ''
  date: '2013-07-28 23:14:50 +0400'
  date_gmt: '2013-07-28 19:14:50 +0400'
  content: "Правильнее будет так \r\nнеправильно addgroup webmaster --ingroup www-data
    --shell &#47;etc&#47;false\r\nправильно adduser webmaster --ingroup www-data --shell
    &#47;bin&#47;false"
- id: 218347
  author: Максим
  author_email: edishions@gmail.com
  author_url: ''
  date: '2014-01-05 12:41:06 +0400'
  date_gmt: '2014-01-05 08:41:06 +0400'
  content: Спасибо большое за данную статью, получилось все настроить с 1 раза!
- id: 233840
  author: Respirator
  author_email: veprilo@yandex.ru
  author_url: ''
  date: '2014-06-17 17:59:40 +0400'
  date_gmt: '2014-06-17 13:59:40 +0400'
  content: "Добрый день!\r\nСделал все как написано, устанавливал  на вируальную машину
    virtualbox.\r\nВсе заработало, но только локально (в вируалке когда заходишь на
    ftp:&#47;&#47;localhost, либо по IP с локальной машины).\r\nА вот если попробовать
    через интернет зайти ftp:&#47;&#47;имя_сайта.ru запрашивает логин и пароль, а
    дальше ничего. Проброс 21 порта сделан на роутере и в виндовсе настроен.\r\nСам
    сайт по имени открывается, аналогично настроен проброс порта 80.\r\nНо и логин
    пароль ftp запрашивает, а дальше тишина.\r\nПодскажите в чем может быть беда.\r\nСпасибо!"
- id: 233845
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-06-17 18:28:14 +0400'
  date_gmt: '2014-06-17 14:28:14 +0400'
  content: "Так так. Ну то что браузер запрашивает логин и пароль это нормально. Есть
    режим работы нормальный (логин и пароль), а есть анонимный. По умолчанию анонимный
    режим отключен. Для включения этого режима в файл proftpd.conf нужно раскомментировать
    и настроить секцию Anonimous. \n\nИли я чего-то не до конца понял?"
- id: 233898
  author: Respirator
  author_email: veprilo@yandex.ru
  author_url: ''
  date: '2014-06-18 09:46:24 +0400'
  date_gmt: '2014-06-18 05:46:24 +0400'
  content: "У меня раскоментированна эта секция, и вот что там:\r\n<code>\r\n<Anonymous
    &#47;home&#47;\"имя_моего_пользователя\"&#47;www>\r\n    User \"имя_моего_пользователя\"
    # имя пользователя и группа, под которыми будет происходить работа данной сессии\r\n
    \   Group www-data\r\n\r\n    RequireValidShell off # позволяем логинить пользователя
    без командной строки\r\n    AnonRequirePassword on # запрещаем вход анонимам,
    которые не знают пароля\r\n\r\n    <Directory &#47;home&#47;\"имя_моего_пользователя\"&#47;www>
    # описание директории доступа и ограничений\r\n        AllowOverwrite on\r\n        <Limit
    ALL>\r\n            AllowALL on\r\n        <&#47;Limit>\r\n    <&#47;Directory>\r\n<&#47;Anonymous>\r\n<&#47;code>\r\n\r\nТак
    вот, мне не понятно почему локально (на виртуальном сервере) через браузер по
    ftp:&#47;&#47;localhost, так же запрашивает логин пароль и входит, и с локальной
    машины по ftp:&#47;&#47;192.168.137.3 (IP виртуалки) тоже логинится и показывает
    содержимое.\r\nА вот по внешнему ftp:&#47;&#47;внешний_статический_IP или по имени
    домена ftp:&#47;&#47;mysite.ru только запрос учетных данных и тишина.\r\n\r\nWinSCP
    пишет вот что при подключении через него:\r\n<code>\r\nTimeout detected.\r\nCould
    not retrieve directory listing\r\nEntering Passive Mode (111,222,88,111,211,65)\r\nError
    listing directory '&#47;'.\r\n<&#47;code>\r\nчто-то он на \"direktory listing\"
    подвисает, и пишет ошибку. \r\nВ Entering Passive Mode первые 4 числа мой IP (я
    его тут изменил =) ), а последние два постоянно меняются."
- id: 233907
  author: Respirator
  author_email: veprilo@yandex.ru
  author_url: ''
  date: '2014-06-18 12:55:28 +0400'
  date_gmt: '2014-06-18 08:55:28 +0400'
  content: "Ого, сегодня написал ответ.\r\nОт тут появился и теперь куда-то пропал."
- id: 233908
  author: Respirator
  author_email: veprilo@yandex.ru
  author_url: ''
  date: '2014-06-18 12:56:06 +0400'
  date_gmt: '2014-06-18 08:56:06 +0400'
  content: Прошу прощения, браузер заглючил.
- id: 233925
  author: Respirator
  author_email: veprilo@yandex.ru
  author_url: ''
  date: '2014-06-18 15:33:13 +0400'
  date_gmt: '2014-06-18 11:33:13 +0400'
  content: "Все замутил. Заработало.\r\nВсе-таки как я и думал что проблема между
    интернетом и виртуалкой, т.е. в локальном компе.\r\nВ сетевых подключениях, в
    свойствах интернет подключения на вкладке доступ, нажимаем кнопку настройка и
    там ставим галку FTP-сервер, и вводим IP-адрес сервера ftp. И все заработало!!!\r\nСпасибо
    за уделенное внимание!"
- id: 233931
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-06-18 17:16:26 +0400'
  date_gmt: '2014-06-18 13:16:26 +0400'
  content: О! Отлично! С виртуалками всегда так. Надо где-то галку поставить чтобы
    она с внешним миром общаться начала. А ответ не сразу появился потому что ушёл
    на модерацию поскольку там были "ссылки" =)
- id: 237494
  author: Александр
  author_email: tatko_karlo@mail.ru
  author_url: ''
  date: '2014-08-28 19:20:48 +0400'
  date_gmt: '2014-08-28 15:20:48 +0400'
  content: Как настроить на одну директорию несколько пользователей, если я для троих
    пользователей указываю одну и ту же папку, например <code><Anonymous &#47;var&#47;www><&#47;code>.
    то ftp валится, и никто не может подключиться
- id: 237495
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-08-28 20:02:43 +0400'
  date_gmt: '2014-08-28 16:02:43 +0400'
  content: Если я ничего не путаю, то это можно сделать указав троим пользователям
    одну и ту же домашнюю директорию в &#47;etc&#47;passwd или при создании пользователя.
    И конечно же всех зачрутить <em>DefaultRoot ~<&#47;em>
- id: 237497
  author: Александр
  author_email: tatko_karlo@mail.ru
  author_url: ''
  date: '2014-08-28 21:04:30 +0400'
  date_gmt: '2014-08-28 17:04:30 +0400'
  content: в  Anonymous &#47;var&#47;www указывается папка, выше которой пользователь
    не сможет выйти, если я укажу домашнюю папку, то он свободно сможет передвигаться
    по серверу, так как при создании юзера я создал ему домашнюю папку в home
- id: 245321
  author: Максим
  author_email: fedmaks@mail.ru
  author_url: ''
  date: '2015-01-07 23:40:43 +0300'
  date_gmt: '2015-01-07 19:40:43 +0300'
  content: "по сравнению с Vsftpd который  написан рукожопами ,профтп и вправду ангельское
    творение.\r\nСпасибо за статью."
- id: 248951
  author: Rubik
  author_email: rubik.serega@gmail.com
  author_url: ''
  date: '2015-04-08 23:29:02 +0300'
  date_gmt: '2015-04-08 19:29:02 +0300'
  content: "Здравствуйте, хорошая статья спасибо! Подскажите пж как администратору
    дать полные права \r\nDefaultRoot ~ - активна."
---
<p><a href="http:&#47;&#47;image.paperplane.su&#47;2012&#47;10&#47;proftpd-debian.png"><img class="alignleft size-medium wp-image-2594" title="Установка FTP-сервера ProFTPd на Debian&#47;Ubuntu" src="http:&#47;&#47;image.paperplane.su&#47;2012&#47;10&#47;proftpd-debian-300x300.png" alt="Установка FTP-сервера ProFTPd на Debian&#47;Ubuntu" width="300" height="300" &#47;><&#47;a> Сегодня я хочу немного рассказать про установку <strong>FTP-сервера ProFTPd на Debian&#47;Ubuntu<&#47;strong>, а точнее полностью процесс установки и настройки. Несмотря на то, что стандарт протокол FTP давно устарел и не очень рекомендуется рекомендуется для использованию в сетях со средним уровнем безопасности, его всё равно юзают многие в особенности на веб-серверах. Ведь так сложно иногда избавиться от архаизмов. Но даже с ним у многих по началу бывают проблемы, хотя есть много различных пакетов упрощающих работу с ним. Не все эти пакеты гибкие, но зато очень просты в использовании. Но сегодня пойдет речь о <strong>ProFTPd<&#47;strong>, который мы будем ставить на Linux Debian. Он не самый простой в использовании, но зато очень гибкий и функциональный, что лично мне очень нравиться, потому обычно я всем рекомендую именно этот пакет. Ну что, приступим к установке и настройке.</p>
<h2 id="install-proftpd">Установка&nbsp;<strong>ProFTPd<&#47;strong><&#47;h2><br />
Для того чтобы инсталлировать этот пакет к себе в операционку достаточно в терминале выполнить следующую команду:<br />
[cce lang="bash"]apt-get install proftpd[&#47;cce]<br />
Во время установки выскочит синий экран (но не <a rel="nofollow" href="http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;%D0%A1%D0%B8%D0%BD%D0%B8%D0%B9_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD_%D1%81%D0%BC%D0%B5%D1%80%D1%82%D0%B8" title="Синий экран смерти" target="_blank">смерти<&#47;a>) с предложением двух различных вариантов установки:</p>
<ul>
<li><strong>From inetd -<&#47;strong>&nbsp;демон ProFTPd будет работать из-под службы <em>inetd<&#47;em>.<&#47;li>
<li><strong>Standalone -<&#47;strong>&nbsp;ProFTPd будет установлен как самостоятельный демон.<&#47;li><br />
<&#47;ul><br />
Рекомендую выбрать вариант <strong>Standalone<&#47;strong>, т.к. гораздо удобней работать с ProFTPd, как с отдельной службой.</p>
<p>После установки пакета сразу будет запущен демон proftpd и уже можно подключаться. А для того чтобы проверить работоспособность наберите следующую команду команды:<br />
[cce lang="bash"]sftp 127.0.0.1[&#47;cce]<br />
Если демон работает, то произойдет подключение и у вас потребуют имя пользователя под которым инициализировать коннект. Можете ввести любого созданного пользователя у вас в системе. Потом попросят ввести пароль этого пользователя. Если были введены корректные данные, то вы получите доступ к командной строке FTP, где можете выполнять определенные команды. Но всё что нам нужно было это попасть в эту строку, чтобы убедиться в работоспособности демона. Потому набираем команду <em>exit<&#47;em> и выходим.</p>
<h2 id="setting-proftpd">Добавление пользователя ProFTPd<&#47;h2><br />
Как уже говорилось ранее, ProFTPd использует учетные записи пользователей самого сервера. Т.е. все пользователи, в принципе, могут иметь доступ по FTP. И например, для добавления пользователя для FTP необходимо просто создать его на самом сервере как обычного пользователя системы. Но при обычно создании у пользователя будет доступ не только по FTP, но по SSH протоколу. Это не всегда подходит под наши задачи, иногда нужно запретить пользователю коннектиться по SSH. Это очень просто, необходимо в качестве командной среды указать <em>&#47;bin&#47;false<&#47;em>, что запретит коннект по SSH, но не по FTP. Это можно сделать сразу при создании пользователя в терминале:<br />
[cce lang="bash"]adduser username --shell &#47;bin&#47;false[&#47;cce]<br />
Данная команда создаст пользователя с логином <em>username<&#47;em> домашней директорией <em>&#47;home&#47;username<&#47;em> и доступом по FTP, но ему будет запрещено подключение по SSH.</p>
<p>В том случаи если вам нужно изменить командную среду у уже созданного пользователя, то вам нужно открыть для редактирования файл&nbsp;<em>&#47;etc&#47;passwd<&#47;em>, который является обычным текстовым файлом и содержит настройки для каждого пользователя:<br />
[cce lang="bash"]nano &#47;etc&#47;passwd[&#47;cce]<br />
Вам выскочит список со всеми пользователями, где каждая строка это один пользователь и в конце строки указанна командная среда. Обычно там <em>&#47;bin&#47;bash<&#47;em>, который просто нужно поменять на <em>&#47;bin&#47;false<&#47;em>, чтобы <strong>запретить пользователю подключаться по SSH<&#47;strong>. Кстати, перед командной средой стоит дефолтовая домашняя директория для пользователя, которую тоже можно сменить. Поле всех изменений нужно просто выйти из файла и сохранить изменения.</p>
<h2 id="setting-proftpd">Настройка&nbsp;ProFTPd<&#47;h2><br />
Теперь осталось сконфигурировать установленный демон&nbsp;ProFTPd и будет вам счастье. Вообще,&nbsp;ProFTPd сразу после установки готов к использованию пользователям данной операционной системы (как опять же говорилось уже не единожды выше). При коннекте будут запрошены логин и пароль (как выше) пользователя и после успешной авторизации пользователь попадет в свою корневую домашнюю директорию вида <em>&#47;home&#47;username<&#47;em>, где <em>username<&#47;em> - логин пользователя. Но на самом деле этому пользователю будет доступна вся файловая система машины, т.е. он сможет пойти по иерархии каталогов выше, чем своя домашняя директория, что не есть хорошо и является небезопасной практикой, особенное, если у сервера не один единственный админ.</p>
<p>Давайте же сконфигурируем демона так, чтобы обезопасить наш сервер. Для этого&nbsp;откроем конфигурационный файл&nbsp;ProFTPd&nbsp;<em>&#47;etc&#47;proftpd&#47;proftpd.conf<&#47;em>:<br />
[cce lang="bash"]nano &#47;etc&#47;proftpd&#47;proftpd.conf[&#47;cce]<br />
И с помощью сочетания клавиш <em>Ctrl-W<&#47;em> будем искать ниже приведенные опции и изменять их или просто&nbsp;контролировать:</p>
<ul>
<li><strong>UseIPv6<&#47;strong> - включить ли поддержку IPv6 или оставить только&nbsp;IPv4. Я рекомендую включить поддержку, а то малоли что - хуже не будет.<&#47;li>
<li><strong>ServerName<&#47;strong> - имя сервера, которое будет отображаться при коннекте с помощью ProFTPd. Установите для красоты, хотя в дальнейшем, когда у вас будет много серверов это может носить и полезный характер.<&#47;li>
<li><strong>DefaultRoot<&#47;strong> - опция, которая устанавливает домашнюю директорию пользователя выше, которой он не сможет подняться. Подробней об этой возможности пойдет речь ниже, так что пока особо не парьтесь.<&#47;li>
<li><strong>RequireValidShell<&#47;strong>&nbsp;- опция запрета коннекта для пользователей, у которых не указана рабочая командная среда, т.е. пользователи с <em>&#47;bin&#47;false&nbsp;<&#47;em><strong>не будут иметь доступ через FTP<&#47;strong>. Думаю эта опция нужна только в особенных случая, но на всякий случай я вам о ней сказал.<&#47;li>
<li><strong>Port<&#47;strong> - стандартный порт подключения, который будет слушать ProFTPd. Для повышения безопасности рекомендую его изменить.<&#47;li>
<li><strong>MaxInstances<&#47;strong> - максимальное количество одновременных подключений. Будьте внимательны, это именно количество одновременных&nbsp;соединений, а не пользователей, т.е. для каждого пользователя может быть по несколько соединений. Установите ту цифру, которую считает оправданной в вашем случаи, например, если вы единственный администратор сервера, то думаю 5 коннектов вам хватит за глаза.<&#47;li>
<li><strong>Umask<&#47;strong> - маска создаваемых пользователем файлов. Т.е. в зависимости от маски создаваемым файлам и папкам будут присвоены определенные права доступа. По-умолчанию стоит маска 022, что значит что директории будут создаваться с chmod 755, а файлы - 644, что разрешает полный доступ только для пользователя FTP, который создал файлы, а остальные смогут только открывать на чтение.<&#47;li>
<li><strong>AllowOverwrite<&#47;strong> - опция разрешающая перезапись файлов, т.е. в том случаи если опция в <em>off<&#47;em>, то пользователь не сможет заменить одноименный файл. Рекомендую установить в <em>on<&#47;em>, чтобы иметь возможность перезаписи, если ваша задача не требует иного.<&#47;li><br />
<&#47;ul><br />
Это основные опции для настройки демона, которые позволят немного обезопасить ваш сервер и сделать его использование более гибким. Хотя это далеко не все опции, их там гораздо больше, но на мой взгляд, это самые необходимые. Если вам интересно, то вы можете почитать <a title="Документация ProFTPd" href="http:&#47;&#47;www.proftpd.org&#47;docs&#47;" rel="nofollow" target="_blank">официальную документацию<&#47;a> этой утилитки и узнать побольше интересностей о настройках.</p>
<p>Кстати, для того чтобы любые изменения вступили в силу необходимо перезапустить демон&nbsp;<em>proftpd<&#47;em>:<br />
[cce lang="bash"]&#47;etc&#47;init.d&#47;proftpd restart[&#47;cce]</p>
<h2>Запрещаем подниматься выше домашней директории<&#47;h2><br />
В этом нам поможет стандартная утилитка Unix-систем <a title="Подробней о chroot" href="http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;Chroot" rel="nofollow" target="_blank">chroot<&#47;a>. В общем-то, с помощью неё можно установить домашнюю директорию пользователю, вышей которой он уже не сможет подняться, что порой и требуется сделать на серверах, где обитают множество пользователей. Но напрямую с этой утилиткой нам работать не надо, за это отвечает опция <strong>DefaultRoot<&#47;strong>, описанная мной выше. Ниже я покажу два различных варианта ограничения пользователей FTP с помощью DefaultRoot:</p>
<ul>
<li>Для всех пользователей FTP создана одна папка, к которой они могут иметь доступ. Для этого создадим такую папку, например, <em>&#47;var&#47;ftp<&#47;em> и установим опцию следующим образом:<br />
[cce lang="bash"]DefaultRoot &#47;var&#47;ftp[&#47;cce]<br />
<&#47;li></p>
<li>Другой вариант использования этой опции это если все пользователи будет попадать только в свою домашнюю директорию, чего обычно бывает достаточно для мелких задач. В этом случаи опция будет выглядеть так:<br />
[cce lang="bash"]DefaultRoot ~[&#47;cce]<br />
<&#47;li><br />
<&#47;ul><br />
В большинстве случаях этого будет достаточно, но иногда бывают задачи, которые не решить данным подходом. Давайте рассмотрим такие задачи отдельно.</p>
<h2>Chroot для одного пользователя<&#47;h2><br />
Иногда необходимо сделать так, чтобы все пользователи сервера работали по заданному сценарию, все кроме одного (или двух, трех...). Например, так может случиться, если сервер имеет одного веб-мастера, который отвечает за изменение файлов сайта и больше ему ничего показывать не надо. Понятно дело, что в то время как все остальные пользователи могут быть за'chroot'ены в свои домашние директории, для веб-мастера своя домашняя директория никак не подойдет, потому что вряд ли именно там находятся файлы сайта. Давайте же уже созданного пользователя (<em>webmaster<&#47;em>) за'chroot'им его в папке с файлами сайта (<em>&#47;var&#47;www<&#47;em>). Для этого добавим его, для начала, в группу <em>www-data<&#47;em>, в которой по-умолчанию работает сервер Apache&nbsp;и запретим коннект по SSH:<br />
[cce lang="bash"]addgroup webmaster --ingroup www-data&nbsp;--shell &#47;etc&#47;false[&#47;cce]<br />
Теперь в конфигурационный файл <em>&#47;etc&#47;proftpd&#47;proftpd.conf<&#47;em> добавим следующий блок:<br />
[cce lang="bash"]<Anonymous &#47;var&#47;www><br />
	User webmaster # имя пользователя и группа, под которыми будет происходить работа данной сессии<br />
	Group www-data</p>
<p>	RequireValidShell off # позволяем логинить пользователя без командной строки<br />
	AnonRequirePassword on # запрещаем вход анонимам, которые не знают пароля</p>
<p>	<Directory &#47;var&#47;www> # описание директории доступа и ограничений<br />
		AllowOverwrite on<br />
		<Limit ALL><br />
			AllowALL on<br />
		<&#47;Limit><br />
	<&#47;Directory><br />
<&#47;Anonymous>[&#47;cce]<br />
В комментариях блока я описал основные параметры, так что вопросов не должно особо возникнуть. Теперь перезагружаем демон и всё готово. Теперь&nbsp;пользователь <em>webmaster<&#47;em> после авторизации будет попадать сразу в директорию <em>&#47;var&#47;www<&#47;em>, выше которой он подняться не сможет. В то время как остальные пользователи будут работать по другому основному сценарию, например, будут chroot'иться&nbsp;в свои домашние директории.</p>
<h2>Виртуальный хост<&#47;h2><br />
Бывает необходимо на одной физической машине поднять несколько виртуальных FTP-серверов со своими настройками каждый.&nbsp;Например машина может иметь несколько IP-адресов, каждый из которых указывают на неё. С помощью ProFTPd можно на каждый IP поднять отдельный FTP-сервер со своими пользователями, т.е. пользователям будет казаться что это два разных сервера и две разные машины, а на самом деле это будет все на одно физическом сервере.</p>
<p>Делается это с помощью следующих настроек в &nbsp;конфигурационном файле:<br />
[cce lang="bash"]<VirtualHost 123.45.67.89><br />
    # конкретные настройки сервера<br />
<&#47;VirtualHost>[&#47;cce]<br />
Соответственно внутри блока пишутся конкретные настройки для сервера, как и в обычном случаи.</p>
<p>Но это не единственный вариант, также разделять виртуальные сервера можно и по портам. Если указать в настройках виртуальных серверов с одни IP-адресом различные порты, то они будут разными хостами со своими уникальными настройками:<br />
[cce lang="bash"]<VirtualHost 123.45.67.89><br />
    Port 7895<br />
    # остальные настройки сервера<br />
<&#47;VirtualHost></p>
<p><VirtualHost 123.45.67.89><br />
    Port 5678<br />
    # остальные настройки сервера<br />
<&#47;VirtualHost>[&#47;cce]<br />
В этом случаи пользователи смогут подключаться по одному и тому же IP адресу, но к разным портам, что позволит на одном физическом сервер поднять разные FTP-сервера.</p>
<h2>Возможная проблема<&#47;h2><br />
При запуске (перезапуске) proftpd может выскачать следующая ошибка<br />
[cce_bash]<br />
$ &#47;etc&#47;init.d&#47;proftpd restart<br />
Stopping ftp server: proftpd.<br />
Starting ftp server: proftpd - warning: unable to determine IP address of 'blah-blah.xen.vps.blah.ru'<br />
 - error: no valid servers configured<br />
 - Fatal: error processing configuration file '&#47;etc&#47;proftpd&#47;proftpd.conf'<br />
 failed!<br />
[&#47;cce]<br />
Это означает, что скорее всего у вас не в файлах <em>&#47;etc&#47;hosts<&#47;em> и <em>&#47;etc&#47;hostname<&#47;em> есть небольшие расхождения в именовании сервера. Необходимо чтобы имя сервера написанное в <em>&#47;etc&#47;hosts<&#47;em> было точно таким же как в <em>&#47;etc&#47;hostname<&#47;em> (притом <em>&#47;etc&#47;hostname<&#47;em> как бы первоисточник). Например:<br />
[cce_bash]<br />
# &#47;etc&#47;hostname<br />
blah-blah.xen.vps.blah.ru</p>
<p># &#47;etc&#47;hosts<br />
127.0.0.1 blah-blah.xen.vps.blah.ru<br />
[&#47;cce]<br />
Не допускайте расхождений!</p>
<p>Думаю этого вам хватит для любой настройки FTP-севера под свои задачи. А на этому у меня всё. Если у кого возникли какие вопросы, пожелания или замечания, то прошу в комментарии. Всем удачного администрирования!</p>

---
layout: post
status: publish
published: true
title: Установка Apache на Debian&#47;Ubuntu через SSH
author:
  display_name: SlowProg
  login: seoadmin
  email: paperplanesu@rambler.ru
  url: http://paperplane.su
author_login: seoadmin
author_email: paperplanesu@rambler.ru
author_url: http://paperplane.su
wordpress_id: 2496
wordpress_url: http://paperplane.su/?p=2496
date: '2012-10-14 23:16:29 +0400'
date_gmt: '2012-10-14 19:16:29 +0400'
categories:
- Мастерская
tags:
- установка
- PHP
- apache
- mysql
- debian
- ubuntu
- phpmyadmin
comments:
- id: 132749
  author: Павел
  author_email: sitis666@GMAIL.COM
  author_url: http://ddd
  date: '2013-01-10 02:53:56 +0400'
  date_gmt: '2013-01-09 22:53:56 +0400'
  content: спасибо
- id: 132750
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-10 02:54:28 +0400'
  date_gmt: '2013-01-09 22:54:28 +0400'
  content: Не за что =)))
- id: 139242
  author: Сергей
  author_email: sergey@ustyuzhanin.ru
  author_url: http://www.ustyuzhanin.ru
  date: '2013-03-03 00:39:18 +0400'
  date_gmt: '2013-03-02 20:39:18 +0400'
  content: Запустил свой первый сайт на VDS при помощи этой инструкции без малейшего
    знания Linux. Автору большая благодарность!
- id: 140440
  author: Анатолий
  author_email: adem2002@inbox.ru
  author_url: ''
  date: '2013-03-11 23:02:12 +0400'
  date_gmt: '2013-03-11 19:02:12 +0400'
  content: Большое спасибо! Завелся сайт с первой попытки..
- id: 140464
  author: Artem
  author_email: artemter2009@yandex.ru
  author_url: ''
  date: '2013-03-12 01:04:38 +0400'
  date_gmt: '2013-03-11 21:04:38 +0400'
  content: "Здравствуйте, у меня при перезагрузке ftp вот что выдает\r\nStopping FTP
    server: No &#47;usr&#47;sbin&#47;vsftpd found running; none killed.\r\nrm: cannot
    remove `&#47;var&#47;run&#47;vsftpd&#47;vsftpd.pid': Permission denied\r\nи подключится
    по фтп не получается."
- id: 140563
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-12 12:15:14 +0400'
  date_gmt: '2013-03-12 08:15:14 +0400'
  content: Permission denied - недостаточно прав. Вполне возможно, что пользователь
    из под которого вы запускаете демон не имеет достаточно прав для работы в этих
    директориях. Попробуйте сделать это из-под рута. Так же если не поможет, то попробуйте
    сменить порт подключения для FTP на другой.
- id: 140568
  author: Artem
  author_email: artemter2009@yandex.ru
  author_url: ''
  date: '2013-03-12 12:52:48 +0400'
  date_gmt: '2013-03-12 08:52:48 +0400'
  content: "попробывал и под рутом и и порт менял или порт менял. в самом фтп клиенте.\r\nили
    порт нужно сменить в другом месте?"
- id: 140574
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-12 13:33:15 +0400'
  date_gmt: '2013-03-12 09:33:15 +0400'
  content: "Имеется в виду порт сменить на сервер через который демон будет работать.
    И еще, если вы под Ubuntu то попробуйте через sudo писать команды. \r\n\r\nНо
    это скорее не поможет. Вы устанавливали из под рута? Просто не хватает прав не
    просто так. Попробуйте сменить владельца файлу &#47;var&#47;run&#47;vsftpd&#47;vsftpd.pid
    или просто его удалить из под рута вручную.\r\n\r\nУ вас точно VDS&#47;VPS и вы
    не на шареде это делаете? Я на всякий случай спросил =)))"
- id: 140585
  author: Artem
  author_email: artemter2009@yandex.ru
  author_url: ''
  date: '2013-03-12 13:54:13 +0400'
  date_gmt: '2013-03-12 09:54:13 +0400'
  content: "точно VDS.\r\nща вроде разобрался, спасибо за помощь.\r\nочень полезная
    статья и внятные ответы."
- id: 140592
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-12 14:42:00 +0400'
  date_gmt: '2013-03-12 10:42:00 +0400'
  content: Окей! Если будут проблемы, то пишите - постараюсь направить в нужное русло
    =)
- id: 143201
  author: Artem
  author_email: artemter2009@yandex.ru
  author_url: ''
  date: '2013-04-03 21:45:08 +0400'
  date_gmt: '2013-04-03 17:45:08 +0400'
  content: "Здравствуйте, создал пользователя ftp, но когда захожу под ним то не могу
    править файлы и создавать файлы. \r\nвот что пишет(open for write: permission
    denied)\r\nпод рутом все прекрасно."
- id: 143230
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-04-04 01:34:46 +0400'
  date_gmt: '2013-04-03 21:34:46 +0400'
  content: Очевидно пользователю не хватает прав для этого (permission denied). Пользователю
    желательно дать права. Используйте команды chmod для назначения прав на файлы
    и папки и chown для смены владельцев этих папок и файлов. Читайте мануалы про
    эти команды =)))
- id: 159120
  author: Макс
  author_email: max99_9696@mail.ru
  author_url: ''
  date: '2013-05-22 00:30:35 +0400'
  date_gmt: '2013-05-21 20:30:35 +0400'
  content: А как дать группу рута новому пользователю? чтобы он мог все.
- id: 159127
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-05-22 00:49:22 +0400'
  date_gmt: '2013-05-21 20:49:22 +0400'
  content: |-
    Если нужно изменить группу у уже созданного пользователя, то для этого юзаем команду <em>usermod<&#47;em>. Например для добавления существующего пользователя username во вторичную группу group:
    <code>usermod -a -G group username<&#47;code>
    Или изменяем первичную группу существующему пользователю:
    <code>usermod -g www username<&#47;code>
    Если нужно при создании пользователя, то нужно просто указать группу:
    <code>useradd -G group username<&#47;code>
- id: 165539
  author: Анатолий
  author_email: adem2002@inbox.ru
  author_url: ''
  date: '2013-06-09 22:35:07 +0400'
  date_gmt: '2013-06-09 18:35:07 +0400'
  content: Я уже один раз отписал здесь свой комментарий, скажу еще раз, с наличием
    так сказать некоторого опыта! Эту статью я взял за основу своих телодвижений по
    настройке VPS, написана просто и понятно, и самое главное все работает! Спасибо
    за отличный пост! Как пожелание, напишите так же просто и толково статью по установке
    Apache2+nginx+apache2-mpm-itk, весь интернет облазил, статей дофига, но они все
    какие-то мутные и противоречивые, заранее благодарен! На рассылку подписался..
- id: 165762
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-06-10 16:47:23 +0400'
  date_gmt: '2013-06-10 12:47:23 +0400'
  content: |-
    Спасибо за оценку. Стараюсь по мере возможности мануалы пописывать - и себе полезно и другим.

    На счёт mpm-itk даже не знаю. У меня тут огромная очередь постов, которые рвутся опубликоваться. Я конечно могу поставить на очередь, но это будет точно очень не скоро =)
- id: 165768
  author: Анатолий
  author_email: adem2002@inbox.ru
  author_url: ''
  date: '2013-06-10 17:07:18 +0400'
  date_gmt: '2013-06-10 13:07:18 +0400'
  content: 'Ну, как говорится, спасибо и за то, что вами уже сделано! Если есть на
    примете, то дайте ссылку по теме: Apache2+nginx+apache2-mpm-itk, где на ваш взгляд
    реально отражена суть дела, спасибо!'
- id: 181331
  author: Сергей
  author_email: Qmblyf@gmail.com
  author_url: http://www.pokeryour.ru/
  date: '2013-08-25 17:22:10 +0400'
  date_gmt: '2013-08-25 13:22:10 +0400'
  content: 'Согласно этого материала, создание хоста не работает: в Debian6,Debian7,
    ubuntu-13.04-x86 !'
- id: 184281
  author: tehprime.ru
  author_email: info@tehprime.ru
  author_url: http://tehprime.ru
  date: '2013-09-14 14:57:12 +0400'
  date_gmt: '2013-09-14 10:57:12 +0400'
  content: Спасибо!!!! Невероятно познавательная статья.
- id: 186706
  author: Bruce_13
  author_email: bruce1@mail.ru
  author_url: ''
  date: '2013-09-27 19:08:04 +0400'
  date_gmt: '2013-09-27 15:08:04 +0400'
  content: РЕСПЕКТ ЗА СТАТЬЮ!!! Очень познавательно, особенно для новичков, коим я
    и являюсь)!!!
- id: 216814
  author: Виталий
  author_email: zdanevich.vitaly@ya.ru
  author_url: http://about.me/zdanevich
  date: '2013-12-23 18:22:26 +0400'
  date_gmt: '2013-12-23 14:22:26 +0400'
  content: "Сделал все как у вас написано (впервые в жизни занимаюсь этим), но сайты
    все-равно ищуться в var&#47;www\r\n\r\nПо моему http:&#47;&#47;178.172.235.171&#47;
    вижу:\r\n\r\nIt works!\r\nThis is the default web page for this server.\r\nThe
    web server software is running but no content has been added, yet.\r\n\r\n\r\n\r\nМой
    &#47;etc&#47;apache2&#47;httpd.conf:\r\n\r\nNameVirtualHost *:80\r\nErrorLog &#47;home&#47;~logs&#47;error.log\r\nCustomLog
    &#47;home&#47;~logs&#47;access.log combined\r\nServerAdmin dozorvideo3@gmail.com\r\n\r\n\r\n
    \   DocumentRoot \"&#47;home&#47;dozor-video.by&#47;www\"\r\n    ServerName \"178.172.235.171&#47;dozor-video.by\"\r\n
    \   ServerAlias \"www.dozor-video.by\"\r\n    ErrorLog &#47;home&#47;~logs&#47;dozor-video.by.error.log\r\n
    \   CustomLog &#47;home&#47;~logs&#47;dozor-video.by.access.log combined\r\n\r\n\r\nФайлы
    лежат по sftp:&#47;&#47;root@178.172.235.171&#47;home&#47;dozor-video.by&#47;www\r\n\r\nЧто
    делать?"
- id: 216845
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-12-23 21:20:13 +0400'
  date_gmt: '2013-12-23 17:20:13 +0400'
  content: "Уф, давно это было. С Апачем я давно не работал. Но для начала проверьте
    на правильность синтаксиса конфигов. Вроде как-то так:\r\n<code>httpd -t\r\nhttpd
    -S<&#47;code>\r\nПервый основной конфиг, а второй виртуальные хосты. Хотя я может
    чего и путаю. Можно отдельно почитать. Но раз Апач работает, то наверно конфиги
    в поряде.\r\n\r\nДалее как-то странно у вас указан ServerName. Думаю там стоит
    оставить только домен \"dozor-video.by\". И обращаться по имени домена, а не по
    IP. Просто в случае обращения по IP можно запутаться какой хост должен отрабатывать.
    На одном IP может быть много доменов подцеплено. Но если не изменяет память, то
    первый описанный хост должен отрабатывать.\r\n\r\nВ общем попробуйте ServerName
    поправить, а дальше поглядим."
- id: 216979
  author: Виталий
  author_email: zdanevich.vitaly@ya.ru
  author_url: http://about.me/zdanevich
  date: '2013-12-24 13:12:48 +0400'
  date_gmt: '2013-12-24 09:12:48 +0400'
  content: 'Про phpMyAdmin - #2002 Cannot log in to the MySQL server, гуглил решение
    час - она у многих, попробовал разные решения - не работает.'
- id: 216985
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-12-24 13:52:13 +0400'
  date_gmt: '2013-12-24 09:52:13 +0400'
  content: |-
    А к самому mysql напрямую через терминал можно подключиться? он работает? если да, то что-то с конфигами phpmyadmin (файл <em>config.inc.php<&#47;em>), может там пара логин-пароль неверная. Ещё попробуйте в этом файле заменить localhost на 127.0.0.1

    А если сам mysql не работает, то попробовать переустановить постарше версию, что постабильнее.
- id: 218688
  author: Установка Apache на Debian&#47;Ubuntu через SSH | Darfanix
  author_email: ''
  author_url: http://www.darfanix.pp.ua/apache-debian-ubuntu-ssh/
  date: '2014-01-10 00:02:05 +0400'
  date_gmt: '2014-01-09 20:02:05 +0400'
  content: "[&#8230;] Подключение к серверу&para; [&#8230;]"
- id: 219812
  author: Павел
  author_email: gid-ravlik@mail.ru
  author_url: ''
  date: '2014-01-21 01:39:01 +0400'
  date_gmt: '2014-01-20 21:39:01 +0400'
  content: Молодец! Рад, что такие люди готовы делиться своим опытом. У меня только
    один вопрос...Я комменты все не смотрел. Может, кто и задавал такой вопрос. Это
    правильно, что сначала устанавливается MySQL, а потом Apache? В некоторой литературе
    пишется, что сначала нужно устанавливать Apache, чтобы потом не было конфликтов.
- id: 219818
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-01-21 02:44:43 +0400'
  date_gmt: '2014-01-20 22:44:43 +0400'
  content: Разницы нет в каком порядке. MySQL и Apache друг о друге напрямую даже
    не знают. А вот PHP о MySQL знает и Апач опосредованно через PHP общается с MySQL.
    Но даже это всё не важно. Можно устанавливаться в любом порядке. Конфликты не
    от порядка установки =)
- id: 220014
  author: Павел
  author_email: gid-ravlik@mail.ru
  author_url: ''
  date: '2014-01-22 23:39:42 +0400'
  date_gmt: '2014-01-22 19:39:42 +0400'
  content: "Спасибо! Это понял. Теперь у меня другая проблема. На удаленном сервере
    я пока домен не прикрепляю и пользуюсь адресом IP. Установил phpmyadmin, как написано
    в этой статье, но после набора в URL ip(ай-пи сервера)&#47;phpmyadmin выдается
    ошибка 404.\r\nЯ в этом деле новичок. Не могу понять, где искать проблему и как
    зайти в панель пхпмойадмин.\r\nВ apache.conf алиас прописан: Alias &#47;phpmyadmin
    &#47;usr&#47;share&#47;phpmyadmin.\r\n\r\nЕсли есть идеи, помогите, пожалуйста."
- id: 220039
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-01-23 05:06:55 +0400'
  date_gmt: '2014-01-23 01:06:55 +0400'
  content: "Почему вы вызываете <em>http:&#47;&#47;123.45.67.89&#47;phpmyadmin<&#47;em>,
    не <em>http:&#47;&#47;123.45.67.89&#47;<&#47;em>? Ведь если было всё настроено
    правильно и IP указывает на корень phpmyadmin, то вызывать нужно именно только
    IP.\r\n\r\nИ кстати, в случае, если используется только IP, то, чтобы подцепить
    много сайтов нужно будет использовать различные порты. На каждый порт свой сайт.
    И потом явно вызывать из командной строки по порту, например, <em>http:&#47;&#47;123.45.67.89:85&#47;<&#47;em>.
    Это я просто к слову =)"
- id: 220041
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-01-23 05:11:52 +0400'
  date_gmt: '2014-01-23 01:11:52 +0400'
  content: "Чё-то я так и не дал ответа на вопрос. В общем, примерно следующий хост
    должен быть:\r\n\r\n<code><VirtualHost 123.45.67.89:80>\r\nDocumentRoot &#47;usr&#47;share&#47;phpmyadmin\r\n<&#47;VirtualHost><&#47;code>\r\n\r\nХотя
    я не могу проверить сейчас и потому не до конца уверен в работоспособности. Очень
    уж давно я Apache не юзал =)"
- id: 227133
  author: Павел
  author_email: gid-ravlik@mail.ru
  author_url: ''
  date: '2014-03-18 11:33:38 +0400'
  date_gmt: '2014-03-18 07:33:38 +0400'
  content: Хочу выразить благодарность автору статьи. Многому научился.
- id: 228623
  author: Вадим
  author_email: neogonna@gmail.com
  author_url: ''
  date: '2014-04-06 13:12:32 +0400'
  date_gmt: '2014-04-06 09:12:32 +0400'
  content: "Привет. Все сделал как написано в статье, создал виртуальный хост и т.д.\r\nНо
    теперь как зайти на свой сайт?\r\nПо адресу котором мы писали в файле конфига
    не могу зайти. Когда захожу пишет что мол по такому адресу ничего нет\r\nЧто делать?
    За ранее спасибо."
- id: 228626
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-04-06 13:57:13 +0400'
  date_gmt: '2014-04-06 09:57:13 +0400'
  content: Хм, не могу ничего сказать поскольку точно не знаю, что у вас там. Скиньте
    свой конфиг httpd.conf сюда. Домен свой туда внесли? Или на IP подвесили?
- id: 247800
  author: Lex
  author_email: s.a_7@mail.ru
  author_url: ''
  date: '2015-03-01 17:04:40 +0300'
  date_gmt: '2015-03-01 13:04:40 +0300'
  content: Грамотно, просто, доступно, а как следствие - более чем понятно! Автору
    Спасибо, с большой буквы!!! :-)
- id: 248063
  author: Борис
  author_email: borro@inbox.ru
  author_url: http://siteforhelp.ru
  date: '2015-03-12 18:47:53 +0300'
  date_gmt: '2015-03-12 14:47:53 +0300'
  content: "Здравствуйте.\r\nЧитаю, возник вопрос: если вы запрещаете руту вход по
    ssh, то как потом настраивать руту сервер через ISP менеджер?"
- id: 248064
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-03-12 19:27:16 +0300'
  date_gmt: '2015-03-12 15:27:16 +0300'
  content: Я не пользую различные панели (в частности isp) потому наверняка ответить
    не могу, но вроде где-то читал что это не повлияет, поскольку можно входить всё
    ещё через su.
- id: 248067
  author: Борис
  author_email: borro@inbox.ru
  author_url: http://siteforhelp.ru
  date: '2015-03-12 19:41:50 +0300'
  date_gmt: '2015-03-12 15:41:50 +0300'
  content: "Спасибо за ответ.\r\nСкажите, пожалуйста, как узнать: \r\n1. работает
    ли на моём Debian 7 nginx?\r\n2. где лежит общий лог доступа?"
- id: 248069
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-03-12 19:58:26 +0300'
  date_gmt: '2015-03-12 15:58:26 +0300'
  content: "1. <strong>ps aux | grep '[n]ginx'<&#47;strong> &ndash; если пусто значит
    nginx не запущен\r\n2. логи nginx лежат в <em>&#47;var&#47;log&#47;nginx&#47;<&#47;em>,
    если они конечно не отключены в конфигурации, но по умолчанию они должны работать.
    Если там их нет, то поглядите в конфиге <em>&#47;etc&#47;nginx&#47;nginx.conf<&#47;em>
    (и в конфигах самих сайтов) может они в другое место прописаны."
- id: 248102
  author: Борис
  author_email: borro@inbox.ru
  author_url: http://siteforhelp.ru
  date: '2015-03-13 16:55:24 +0300'
  date_gmt: '2015-03-13 12:55:24 +0300'
  content: "Здравствуйте.\r\nДа, в ответ пошли какие то строки, видно стоит nginx\r\n1.
    А как проверить работает ли apache? и \r\n2. Можно ли узнать что-либо важное при
    диагностике 504-ых ошибок по логам апача, если апач работает в связке с nginx?
    Простите у меня пока каша, пытаюсь научиться разрешать 5ХХ ошибки сервера"
- id: 248103
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-03-13 17:43:01 +0300'
  date_gmt: '2015-03-13 13:43:01 +0300'
  content: "1. ps aux | grep '[a]pache2' &ndash; если я не ошибаюсь с названием демона,
    то так\r\n2. 504 ошибка на чей стороне? если в браузере 504, то её выдал nginx
    поскольку он на фронтенд смотрит, но виноват в этой ошибке скорее всего apache.
    Он не успел выдать ответ nginx и тот по таймауту закрыл соединение. виноваты неоптимизированное
    приложение что крутиться на apache, либо сервер слаб для данной задачи. В общем
    гуглите подробности =)"
- id: 248105
  author: Борис
  author_email: borro@inbox.ru
  author_url: http://siteforhelp.ru
  date: '2015-03-13 17:48:09 +0300'
  date_gmt: '2015-03-13 13:48:09 +0300'
  content: "Спасибо.\r\nА как узнать, на чьей стороне 504 ошибка?\r\nВы говорили про
    приложение которое крутится на apache - это обычно сайт или что за вид приложения?"
- id: 248106
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-03-13 17:52:18 +0300'
  date_gmt: '2015-03-13 13:52:18 +0300'
  content: Ну кто выдал 504 у того и ошибка =) в чьих логах ошибка осела. или, как
    я и сказал, если 504 отобразилось в браузере, то выдал её nginx. но проблема в
    приложении, что долго отрабатывало. и да приложение &ndash; это я так назвал сайт
    =)
- id: 248107
  author: Борис
  author_email: borro@inbox.ru
  author_url: http://siteforhelp.ru
  date: '2015-03-13 18:02:53 +0300'
  date_gmt: '2015-03-13 14:02:53 +0300'
  content: то есть надо смотреть и в &#47;var&#47;log&#47;apache2 и в &#47;var&#47;log&#47;nginx
    на предмет понимания 504-й? по первому пути особо свежых по дате изменения файлов
    нет(есть &#47;var&#47;log&#47;apache2&#47;other_vhosts_access.log с временем изменения
    пару часов назад) а вот в &#47;var&#47;log&#47;nginx всегда свеженький &#47;var&#47;log&#47;nginx&#47;access.log.
    Как же тогда понять, в чем порблема у апача, если он так редко отчитывается о
    своей работе?
- id: 248108
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-03-13 18:15:26 +0300'
  date_gmt: '2015-03-13 14:15:26 +0300'
  content: Возможно у вас не включено логирование ошибок, раз вы видите одни аксес-логи.
    Погуглите как их включить и включите. И там и там. Правда если вы следовали моим
    инструкциям, то логи апача должны лежать в папке юзера. В общем, проверьте по
    конфигам точно ли пишуться логи и куда (у того и другого).
- id: 252903
  author: '123'
  author_email: 123123@sdf.ru
  author_url: ''
  date: '2015-09-28 16:34:38 +0300'
  date_gmt: '2015-09-28 12:34:38 +0300'
  content: "Спасибо за статью!\r\nОдин момент - команда \"&#47;etc&#47;init.d&#47;vsftpd
    restart\" вызывала ошибку, помогло \"sudo service vsftpd restart\"."
---
<p><a href="http:&#47;&#47;image.paperplane.su&#47;2012&#47;10&#47;install-apache-debian-ubuntu.png"><img class="alignleft size-medium wp-image-2596" title="Установка Apache на Debian&#47;Ubuntu через SSH" src="http:&#47;&#47;image.paperplane.su&#47;2012&#47;10&#47;install-apache-debian-ubuntu-300x300.png" alt="Установка Apache на Debian&#47;Ubuntu через SSH" width="300" height="300" &#47;><&#47;a> Доброе время суток! Большинство сайтообладателей обычно используют шаредхостинги, где от них абстрагируются все тонкости установки и настройки сервера. Но рано или поздно у каждого наступает момент, когда он сталкивается с необходимостью работать с удаленным выделенным сервером посредством <a title="SSH" href="http:&#47;&#47;ru.wikipedia.org&#47;wiki&#47;SSH" rel="nofollow" target="_blank">SSH<&#47;a>. И тут у многих, как правило, не хватает знаний о Linux-системах, специальных командах и необходимом программном обеспечении для полноценной работы сервера, и проблемы начинаются с самого начала, с установки и настройки сервера. И в этой статье я постараюсь разжевать весь процесс <strong>установки сервера Apache на Debian&#47;Ubuntu через SSH<&#47;strong>. Apache достаточно популярен среди HTTP-серверов и давно заслужил свое доверие у администраторов серверов. А почему установка сервера именно на Debian и Ubuntu? Все просто, это две совершенно похожие системы, вторая появилась на основе первой, и соответственно у них похожие команды терминала. И конечно же, установка будет производится по средством SSH-протокола т.к. обычно хостинги предоставляют доступ по этому протоколу к своим выделенным серверам. На этом думаю вводная часть окончиться. Поехали!</p>
<h2>Подключение к серверу<&#47;h2><br />
После покупки долгожданного&nbsp;<a title="Выделенные сервера" href="http:&#47;&#47;paperplane.su&#47;reg-vps" rel="nofollow" target="_blank">виртуального выделенного сервера<&#47;a> или <a title="Выделенные сервера" href="http:&#47;&#47;paperplane.su&#47;reg-dedicated" rel="nofollow" target="_blank">сервера дидьюкейтед<&#47;a>&nbsp;необходимо его настроить (при условии, что сама операционной система уже установлена), а для этого необходимо удаленное подключение к терминалу операционной системы. Для этого используется протокол SSH. Но чтобы получить по нему доступ вы должны знать следующие данные:</p>
<ul>
<li>IP-адреса сервера.<&#47;li>
<li>Порт подключения (обычно по умолчанию это 22).<&#47;li>
<li>Логин пользователя системы с необходимыми правами (обычно по умолчанию после установки создается пользователь <em>root<&#47;em> с полными правами).<&#47;li>
<li>Пароль для пользователя системы.<&#47;li><br />
<&#47;ul><br />
Все эти данные вы должны знать либо от вашего хостера, либо частично после ручной установки операционной системы (пароль рута). Например, <a title="Мой любимый хостер" href="http:&#47;&#47;paperplane.su&#47;reg" target="_blank">мой любимый хостер<&#47;a> для выделенных серверов все необходимые данные высылает электронным письмом после регистрации, плюс еще дублирует его в админке. Предположим, что вы знаете все необходимые данные, теперь вам нужно удаленно подключится к терминалу сервера Debian или Ubuntu. Для этого вам понадобится&nbsp;имитатор&nbsp;терминала или сам терминал в зависимости от имеющейся операционной системы на вашем компьютере.</p>
<p>Предположим у вас Windows, тогда вам нужно скачать <a href="http:&#47;&#47;files.gigespace.net&#47;Misc&#47;win32&#47;putty.exe" target="_blank">putty<&#47;a> и настроить его для подключения. При его настройке (раздел <em>Session<&#47;em>) в поле <em>Host Name<&#47;em> нужно указать IP-адрес вашего сервера, а переключатель <em>Connection type<&#47;em> выставить в положение <em>SSH<&#47;em>. Чтобы не вводить при каждом подключении имя пользователя, с которым вы зарегистрированы в системе (например, username), его можно указать через символ '@' в том же поле <em>Host Name<&#47;em> (например, username@12.34.56.78). По умолчанию, порт подключения 22. Чтобы не набирать каждый раз все заново можно сохранить настройки. Для этого в <em>Saved Sessions<&#47;em> наберите любое удобное для вас название и нажмите <em>Save<&#47;em>. Для запуска терминала нажмите <em>Open<&#47;em>. После этого появится черная консоль и диалоговое окно с просьбой принять ssl-ключ. Нажмите <em>Yes<&#47;em>. Введите логин, а затем свой пароль (или один пароль если логин вы уже раньше указали в строке подключения). При вводе пароля, сам пароль виден не будет из-за соображения безопасности. Поэтому не пугайтесь, что ничего не получается и продолжайте вводить пароль, а закончив, нажмите Enter. Все, доступ к терминалу удаленного сервера получен.</p>
<h2>Предварительная подготовка сервера<&#47;h2><br />
Перед тем как начать установку связки Apache, PHP и MySQL необходимо поставить несколько полезных пакетов, без которых ничего не заработает:</p>
<ul>
<li>Первым делом стоит обновить список доступных для установки файлов с удаленного сервера. Для этого выполните следующую команду:<br />
[cce lang="bash"]apt-get update[&#47;cce]<br />
<&#47;li></p>
<li>Далее обязательно установить пакет build-essential. Этот пакет включает в себя все необходимые пакеты для работы языков программирования: gcc, g++, make, perl, patch и др. В этом нам поможет следующая команда:<br />
[cce lang="bash"]apt-get install build-essential[&#47;cce]<br />
<&#47;li></p>
<li>Теперь доустановим оставшиеся пакеты, которые не входили в предыдущую сборку, но могут пригодится в процессе работы с сервером. Для этого выполните следующую команду:<br />
[cce lang="bash"]apt-get install mc tcl8.5 tcl8.5-dev openssl libssl-dev libncurses5-dev ftp telnet traceroute nmap[&#47;cce]<br />
<&#47;li><br />
<&#47;ul></p>
<h2>Безопасность сервера<&#47;h2><br />
Теперь необходимо позаботиться о безопасности сервера, потому что практически всегда ваш сервер будут пытаться брутфорсить (подбирать пароль) по стандартному порту 22, а возможно даже перехватывать логин и пароль доступа. Конечно протокол SSH является защищенным, но мало ли, лучше лишний раз не заходить под суперпользователем (root), который обладает полными правами на все действия в системе. В общем, чтобы обезопасить наш сервер необходимо произвести следующие действия:</p>
<ul>
<li>Создать нового пользователя.<&#47;li>
<li>Сменить стандартный порт для конекта.<&#47;li>
<li>Запретить вход для пользователя root.<&#47;li><br />
<&#47;ul><br />
Сперва добавим нового пользователя системы для того, чтобы в дальнейшем его использовать для SSH и FTP доступа вместо пользователя root, т.к. использование рута не является безопасной практикой. Для добавления нового пользователя используйте команду <em>adduser username<&#47;em>. Соответственно, username это имя вашего нового пользователя в системе, домашняя папка которого будет в <em>&#47;home&#47;username<&#47;em>. Вместо <em>username&nbsp;<&#47;em>вы можете указать любое другое имя, а в процессе установки вам необходимо будет указать и подтвердить пароль для этого пользователя, плюс несколько необязательных параметра:<br />
[cce lang="bash"]root@locahost:~# adduser username<br />
Adding user `username' ...<br />
Adding new group `username' (1000) ...<br />
Adding new user `username' (1000) with group `username' ...<br />
Creating home directory `&#47;home&#47;username' ...<br />
Copying files from `&#47;etc&#47;skel' ...<br />
Enter new UNIX password: # необходимо ввести пароль и нажать Enter и затем повторить пароль еще раз.<br />
Retype new UNIX password:<br />
passwd: password updated successfully<br />
Changing the user information for test<br />
Enter the new value, or press ENTER for the default # далее по желанию вы можете ввести необходимые данные пользователя<br />
Full Name []:<br />
Room Number []:<br />
Work Phone []:<br />
Home Phone []:<br />
Other []:<br />
Is the information correct? [Y&#47;n] y # подтверждаете корректность информации и всё[&#47;cce]<br />
После этой нехитрой процедуры ваш новый пользователь создан и готов к использованию. Теперь на сервер вы можете заходить под этим пользоваелем, а в любой момент, когда захотите войти под root (суперпользователем), наберите команду <em>su<&#47;em> (или <em>sudo&nbsp;<&#47;em>для Ubuntu), после чего вас попросят ввести пароль от рута:<br />
[cce lang="bash"]username@localhost:~$ su<br />
Password:<br />
root@localhost:~#[&#47;cce]<br />
Теперь сменим стандартный порт подключения для SSH 22 на другой, который не известен&nbsp;злоумышленникам.&nbsp; Для этого откройте для редактирования файл <em>&#47;etc&#47;ssh&#47;sshd_config&nbsp;<&#47;em>любым редактором, например:<br />
[cce lang="bash"]root@localhost:~# nano &#47;etc&#47;ssh&#47;sshd_config[&#47;cce]<br />
Найдите почти в самом начале строку:<br />
[cce lang="bash"]Port 22[&#47;cce]<br />
<em><&#47;em>Соответственно число 22 нужно смените на любое другое, но не больше 65535. Теперь в этом же файле запретим прямой ssh-доступ для root. Для этого найдем строку <em>PermitRootLogin&nbsp;<&#47;em>(искать в <em>nano<&#47;em> с помощью <em>Ctrl-W<&#47;em>). Если она закомментированна, то раскомментируйте ее. Если стоит значение <em>yes<&#47;em>, то смените его на <em>no<&#47;em>. А если эта строка отсутствует, то просто добавьте ее:<br />
[cce lang="bash"]PermitRootLogin no[&#47;cce]<br />
После произведения этих манипуляций сохраняем произведенные изменения и выходим из редактора. А для тех, кто не знает&nbsp;и первый раз работает с редактором&nbsp;<em>nano<&#47;em> расскажу как выйти из редактора и сохранить изменения (или просто выйти). Для этого жмём <em>Ctrl-X<&#47;em>. Далее вас спросят хотите ли вы сохранить сделанные изменения (если они были), отвечайте <em>Y<&#47;em>, дальше спросят в какой файл - просто нажмите <em>Enter&nbsp;<&#47;em>и сохранение будет произведено в этот же файл (он будет переписан). Теперь осталось перезапустить ssh:<br />
[cce lang="bash"]root@localhost:~# &#47;etc&#47;init.d&#47;ssh restart[&#47;cce]<br />
Порт сменили, пользователя сменили, рута запретили и теперь никто не проникает, скорее всего. Для большей безопасности рекомендую изучить работу утилитки терминала <em>iptables<&#47;em>. С помощью нее вы сможете так же закрыть 22 порт от нежелательных коннетов, но это тема для отдельной статьи.</p>
<h2>Установка FTP-сервера<&#47;h2><br />
Для связи с сервером одного терминала не достаточно, желательно иметь возможность загружать необходимые файлы и для этого как раз отлично подойдет FTP-протокол. Чтобы наладить по нему связь нужно поднять FTP-сервер и организовать к нему доступ. Для этого существует много способов, но я рекомендую использовать наиболее простой, который в будущем не вызовет геморроя. Таким способом является установка FTP сервера - vsftpd. Его преимущество в том, что логины и пароли к SSH-доступу идентичны логинам и паролям для FTP-доступа. Т.е. созданный ранее пользователь будет работать как для SSH, так и для FTP. Обращаю ваше внимание на то, что для работы по FTP в любом случае необходимо создать пользователя, т.к для root'а FTP-доступ работать не будет из-за соображения безопасности.</p>
<p>Перед началом добавлю ещё то, что сам я использую <a href="http:&#47;&#47;paperplane.su&#47;ustanovka-ftp-servera-proftpd-na-debianubuntu&#47;" title="Установка FTP-сервера ProFTPd на Debian&#47;Ubuntu" target="_blank">FTP-сервера ProFTPd для Debian&#47;Ubuntu<&#47;a>, а не vsftpd. Он более гибкий и функциональный. Соответственно более сложный в администрировании. Но он мне нравится больше. Потому если у вас есть опыт в работе с linux-системами и вы уверены в своих силах, то ставьте лучше ProFTPd (по ссылке выше), а если вы не хотите лишний раз париться с настройками и разбираться, то читайте дальше.</p>
<p>В принципе, установка и конфигурация сервера элементарна и не должна у вас вызвать затруднений. Для установки пакета vsftpd необходимо запустить в терминале следующую команду:<br />
[cce lang="bash"]apt-get install vsftpd[&#47;cce]<br />
После этого FTP-сервер готов к работе. Логин и пароль для доступа такие же что и для доступа по SSH. Но желательно произвести несколько необходимых изменений в файле конфигурации &#47;etc&#47;vsftpd.conf. Открываем его в своем любимом редакторе:<br />
[cce lang="bash"]nano &#47;etc&#47;vsftpd.conf[&#47;cce]<br />
Теперь необходимо отредактировать или добавить некоторые строчки в файле. Сперва, выключим анонимный доступ к FTP-серверу:<br />
[cce lang="bash"]anonymous_enable = NO[&#47;cce]<br />
Далее дадим возможность заходить на сервер локально:<br />
[cce lang="bash"]local_enable = YES[&#47;cce]<br />
Теперь необходимо дать возможность FTP-серверу записывать что-либо на сервер, это позволит пользователям закидывать файлы на сервер:<br />
[cce lang="bash"]write_enable = YES[&#47;cce]<br />
На этом конфигурацию FTP-сервера можно завершить, а чтобы все изменения вступили в силу его необходимо перезапустить:<br />
[cce lang="bash"]&#47;etc&#47;init.d&#47;vsftpd restart[&#47;cce]<br />
Скажу только одно, что <em>vsftpd<&#47;em> является наиболее простым решением для установки FTP сервера на Debian&#47;Ubuntu, но не самым лучшим. Поскольку он не очень гибкий, но если у вас пока не очень много знании про Linux системы или вы будете одним единственным администратором сервера, то можете пока не париться об этом - <em>vsftpd<&#47;em>вам хватит за глаза. Но если у вас более обширные задачи с разграничениями доступа для разных пользователей,&nbsp;установкой&nbsp;различных прав и т.д., то я рекомендую <a title="Установка FTP-сервера ProFTPd на Debian&#47;Ubuntu" href="http:&#47;&#47;paperplane.su&#47;ustanovka-ftp-servera-proftpd-na-debianubuntu&#47;" target="_blank">установить&nbsp;<em>ProFTPd<&#47;em><&#47;a>.</p>
<h2>Установка MySQL-сервера<&#47;h2><br />
Теперь после предварительной настройки сервера можно приступить непосредственно к установке связки <strong>Apache, PHP и MySQL<&#47;strong>. И начнем мы с последнего, потому что он самый простой и не требует особых настроек. Для установки пакета с MySQL необходимо в терминале выполнить следующую команду:<br />
[cce lang="bash"]apt-get install mysql-server mysql-client libmysqlclient15-dev[&#47;cce]<br />
Во время установки появится синее окно установки MySQL для ввода пароля root (не путайте с рутом операционной системы). Введите необходимый пароль (и запомните его конечно же), нажмите Tab и Enter. В следующем окне подтвердите пароль и снова нажмите Tab и Enter. После этой процедуры установка продлится еще некоторое время, но более от вас вмешательства не потребуется.</p>
<p>После установки необходимо произвести небольшую настройку для повышения безопасности MySQL с помощью стандартной утилиты <em>mysql_secure_installation<&#47;em>. Вводим эту команду в терминал и отвечаем на все вопросы, что по ходу выполнения будут задаваться. Ничего сложного нет, но для тех у кого плохо с английским я ниже приведу лог из терминала с добавленными комментариями для пояснения:<br />
[cce lang="bash"]root@localhost:~# mysql_secure_installation</p>
<p>NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL<br />
SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY! </p>
<p>In order to log into MySQL to secure it, we'll need the current<br />
password for the root user. If you've just installed MySQL, and<br />
you haven't set the root password yet, the password will be blank,<br />
so you should just press enter here. </p>
<p>Enter current password for root (enter for none): # введите пароль пользователя root для MySQL, установленный выше.<br />
Set new root password? [Y&#47;n] # задать новый парооль root'а? Да<br />
New password: # ввести пароль<br />
Re-enter new password: # подтвердить пароль<br />
Remove anonymous users? [Y&#47;n] # удалить анонимных пользователей? Да<br />
Disallow root login remotely? [Y&#47;n] # запретить удаленных вход под root'ом? Да<br />
Remove test database and access to it? [Y&#47;n] # удалить тестовую БД? Да<br />
Reload privilege tables now? [Y&#47;n] # перезагрузить привилегии? Да[&#47;cce]<br />
После внесения изменений в настройки необходимо перезапустить MySQL, чтобы они вступили в силу:<br />
[cce lang="bash"]&#47;etc&#47;init.d&#47;mysql restart[&#47;cce]</p>
<h2>Установка Apache и PHP<&#47;h2><br />
Теперь настала пора ставить сервер Apache и интерпритатор PHP. Начнем с Apache. Существует несколько различных пакетов этого сервера, отличающихся некоторыми свойствами. Я рассмотрю два из них, остальные вы при желании сами изучите:</p>
<ul>
<li><strong>apache2-mpm-worker<&#47;strong> - особенность этого пакета в том, что на каждый новый процесс создается несколько потоков. Количество потоков на процесс регулируется с помощью конфига Apache. Поскольку для ОС поток более простая и легкая структура, они более эффективно используют память и работают быстрее. Но в то же время этот пакет более подвержен сбоям, так как любой поток имеет доступ ко всей памяти процесса и в случаи падения одного потока обрушается весь процесс с остальными потоками. Но из-за быстроты работы его рекомендуют для высоконагруженных систем.<&#47;li>
<li><strong>apache2-mpm-prefork<&#47;strong> - особенность этого пакета в том, что на каждый отдельный процесс создается только один поток. Получается, что в данном случаи процесс, как более сложная и большая структура, использует больше ресурсов потому и медленнее работает, но зато он менее подвержен сбоям.<&#47;li><br />
<&#47;ul><br />
Какой пакет вы будите использовать будет зависеть от конкретного проекта и его задач. В данном мануале мы будем ставить <em>apache2-mpm-prefork<&#47;em>, как наиболее надежный и устойчивый в работе. Правда, установка одного совершенно не отличается от установки другого, только название пакета поменять. Ладно, не важно. Чтобы установить Apache необходимо выполнить в терминале следующую команду (плюс там еще пара нужных пакетов ставиться):<br />
[cce lang="bash"]apt-get install apache2 apache2-doc apache2-mpm-prefork apache2-utils libexpat1 ssl-cert[&#47;cce]<br />
После выполнения этой команды сервер Apache должен встать без проблем. Теперь осталость установить интерпритатор PHP, плюс некоторые основные модули, которые пригодятся в работе:<br />
[cce lang="bash"]apt-get install libapache2-mod-php5 php5 php5-common php5-curl php5-dev php5-mysql php5-gd php5-mcrypt php5-xmlrpc[&#47;cce]<br />
Теперь все готово к работе, можно в директории <em>&#47;var&#47;www<&#47;em>&nbsp;(это дефолтовая директория Apache) создавать файлы сайта и по IP-адресу сервера можно проверять их работу. Но это как-то не удобно и директория единая для всех. Давайте сделаем так, чтобы к серверу был привязан домен, а его файлы находились в директории пользователя, что мы выше создали.</p>
<p>Так же стоит разрешить некоторые модули Апача, с помощью следующих компанд (в дальнейшем в работе они всё равно понадобятся):<br />
[cce lang="bash"]<br />
a2enmod rewrite<br />
a2enmod suexec<br />
a2enmod include<br />
#a2enmod ssl # если нужно, но обычно не нужно =)<br />
[&#47;cce]</p>
<h2>Создание хоста<&#47;h2><br />
Предположим, что у вас есть сервер с IP-адресом 111.222.333.444 и доменное имя <em>supersite.ru<&#47;em>, которое открывается по этому адресу (то бишь в DNS уже все прописано). Первым делом сбросим файлы, которые по умолчанию ищут корень сайта в <em>&#47;var&#47;www<&#47;em> следующей командой:<br />
[cce lang="bash"]rm -f &#47;etc&#47;apache2&#47;sites-enabled&#47;*[&#47;cce]<br />
Теперь в замен создадим новые директории под сайт в папке нашего пользователя <em>username<&#47;em>:<br />
[cce lang="bash"]mkdir &#47;home&#47;username&#47;www&#47;<br />
mkdir &#47;home&#47;username&#47;www&#47;supersite.ru&#47;<br />
mkdir &#47;home&#47;username&#47;~logs&#47;[&#47;cce]<br />
На всякий случай скажу, что директория <em>&#47;home&#47;username<&#47;em> была создана при добавлении нового пользователя выше. Директория <em>&#47;home&#47;username&#47;www<&#47;em> будет содержать корневые папки всех сайтов, которые будут базироваться на этом сервере у этого пользователя. И директория <em>&#47;home&#47;username&#47;~logs<&#47;em> предназначена для логов.</p>
<p>Не буду вас парить с правами доступа к папкам, это вы уже можете сами изучить. Сейчас мы сделаем все проще, пусть каждый пользователь может читать, редактировать и запускать на выполнение все из домашней директории <em>username<&#47;em>:<br />
[cce lang="bash"]chmod -R 777 &#47;home&#47;username&#47;[&#47;cce]<br />
Теперь создадим сам виртуальны хост в Apache. Для этого открываем конфиг:<br />
[cce lang="bash"]nano &#47;etc&#47;apache2&#47;httpd.conf[&#47;cce]<br />
И пишем в него следующее:<br />
[cce lang="bash"]NameVirtualHost *:80<br />
ErrorLog &#47;home&#47;username&#47;~logs&#47;error.log<br />
CustomLog &#47;home&#47;username&#47;~logs&#47;access.log combined<br />
ServerAdmin supersitemail@gmail.com</p>
<p><VirtualHost *:80><br />
	# директория нашего сайта<br />
	DocumentRoot "&#47;home&#47;username&#47;www&#47;supersite.ru"<br />
	# главный домен<br />
	ServerName "supersite.ru"<br />
	# алиас для нашего домена<br />
	ServerAlias "www.supersite.ru"<br />
	# лог ошибок<br />
	ErrorLog &#47;home&#47;username&#47;~logs&#47;supersite.ru.error.log<br />
	# лог доступа<br />
	CustomLog &#47;home&#47;username&#47;~logs&#47;supersite.ru.access.log combined<br />
<&#47;VirtualHost>[&#47;cce]<br />
Осталось только перезапустить сервер, чтобы новый хост заработал:<br />
[cce lang="bash"]&#47;etc&#47;init.d&#47;apache2 restart[&#47;cce]<br />
Теперь в директорию сайта можно класть файлы и смотреть как они отрабатывают либо по IP-адресу сервера, либо по доменному имени.</p>
<h2>Установка phpMyAdmin<&#47;h2><br />
На этом установка, в принципе, окончена, но чтобы было все совсем круто желательно установить phpMyAdmin, который поможет вам легко администрировать ваши базы данных на сервере. Его установка достаточно проста:<br />
[cce lang="bash"]apt-get install phpmyadmin[&#47;cce]<br />
Далее вам зададут пару вопросов, чтобы настроить phpMyAdmin для работы на ваше сервере:</p>
<ul>
<li>Выбираем apache2, чтобы выбрать жмем пробел, Tab и Enter.<&#47;li>
<li>Жмем Yes.<&#47;li>
<li>Вводим пароль root'а сервера MySQL.<&#47;li>
<li>Вводим и подтверждаем пароль для доступа phpMyAdmin к MySQL. Если пароль не будет введен, то он сгенерируется случайным образом.<&#47;li><br />
<&#47;ul><br />
Все, теперь phpMyAdmin установлен и осталось только его подвесить на домен или на IP-адрес. Лично я предпочитаю пихать его на поддомен основного домена сервера. Для этого в файле настройки хостов Apache <em>&#47;etc&#47;apache2&#47;httpd.conf<&#47;em>&nbsp;я дописываю следующий код:<br />
[cce lang="bash"]<VirtualHost *:80><br />
	DocumentRoot "&#47;usr&#47;share&#47;phpmyadmin"<br />
	ServerName "phpmyadmin.supersite.ru"<br />
	ServerAlias "www.phpmyadmin.supersite.ru"<br />
	CustomLog &#47;home&#47;username&#47;~logs&#47;phpmyadmin.supersite.ru.access.log combined<br />
	ErrorLog &#47;home&#47;username&#47;~logs&#47;phpmyadmin.supersite.ru.error.log<br />
<&#47;VirtualHost>[&#47;cce]<br />
Перезагружаем сервер и теперь у нас на поддомене <em>phpmyadmin.supersite.ru<&#47;em>&nbsp;находится <strong>phpMyAdmin<&#47;strong>! Хотя на самом деле пока не находится, если вы в DNS не прописали создание поддомена в <em>записи A<&#47;em>. Но как только вы это сделаете и DNS обновиться всё будет доступно. Всё просто!</p>
<h2>Логи Apache<&#47;h2><br />
Во время установки вы будете производить перезапуск Apacha и после перезапуска могут возникать различные затруднения, может вы где ошиблись (опечатались), и Apache не запустился. Обычно высвечивается нечто вроде этого:<br />
[cce lang="bash"]root@localhost:&#47;home&#47;username# &#47;etc&#47;init.d&#47;apache2 restart<br />
Restarting web server: apache2[Fri Aug 03 12:02:39 2012] [warn] NameVirtualHost *:80 has no VirtualHosts<br />
... waiting ..[Fri Aug 03 12:02:45 2012] [warn] NameVirtualHost *:80 has no VirtualHosts<br />
Action 'start' failed.<br />
The Apache error log may have more information.<br />
failed![&#47;cce]<br />
И вот ключевая фраза тут это <em>The Apache error log may have more information<&#47;em>. А где эти самые логи искать? Что-бы у вас не было затруднений я сразу скажу. Логи находятся в директории <em>&#47;var&#47;log&#47;apache2&#47;<&#47;em>. Обычно в файле под названием <em>error.log<&#47;em>. Так что для чтения их нужно выполнить следующую команду:<br />
[cce lang="bash"]nano &#47;var&#47;log&#47;apache2&#47;error.log[&#47;cce]<br />
Но логи могут не всегда в этом файле находится, могут быть и другие и чтобы поглядеть какие есть файлы в этой директории с помощью SSH наберите следующую команду:<br />
[cce lang="bash"]ls &#47;var&#47;log&#47;apache2&#47;[&#47;cce]<br />
Тогда вам выпадет список всех файлов этой папки. Проанализировав и пересмотрев все файлы вы сможете, я надеюсь, понять в чем была ваша ошибка и все решить без чужой помощи.</p>
<h2>Заключение<&#47;h2><br />
Ваш сервер Apache под управлением операционной системы Debian или Ubuntu готов к работе. Конечно же вам нужно еще много чего узнать нового и прочитать много мануалов, но уже прямо сейчас вы можете тестить свои сайты на настоящем сервере под полным вашим управлением. Надеюсь этот мануал помог вам в освоении умения администрирования сервера. Если у вас возникнут какие-либо вопросы, уточнения или пожелания, то я их жду в комментариях. Всем удачи!</p>

---
layout: post
status: publish
published: true
title: Форма обратной связи в WordPress
author:
  display_name: SlowProg
  login: seoadmin
  email: paperplanesu@rambler.ru
  url: http://paperplane.su
author_login: seoadmin
author_email: paperplanesu@rambler.ru
author_url: http://paperplane.su
wordpress_id: 2075
wordpress_url: http://paperplane.su/?p=2075
date: '2012-06-07 02:12:40 +0400'
date_gmt: '2012-06-06 22:12:40 +0400'
categories:
- Без плагина
tags:
- проверка
- формы
comments:
- id: 60968
  author: Виталий
  author_email: pervoisto4nik@gmail.com
  author_url: http://tutyt.ru
  date: '2012-07-31 22:24:29 +0400'
  date_gmt: '2012-07-31 18:24:29 +0400'
  content: Хорошее решение , Вы  Мастер  PHP =)
- id: 61444
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-08-01 09:49:44 +0400'
  date_gmt: '2012-08-01 05:49:44 +0400'
  content: Хех, спасибо! Старался =)
- id: 61489
  author: Fabervox
  author_email: fabervox@yandex.ru
  author_url: http://seorv.ru
  date: '2012-08-01 11:09:42 +0400'
  date_gmt: '2012-08-01 07:09:42 +0400'
  content: "Я вот наверно чего то не понимаю.\r\nЗачем и почему, нужны решения без
    плагинов?\r\nПока мое мнение таково, что хаки это анахронизм, и применение их
    уместно только в тех случаях, когда существующие плагины не могут сделать в полной
    мере то же самое.\r\nПо моему даже плагин который реально просто включает&#47;отключает
    хак, уже лучше самого хака."
- id: 61496
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-08-01 11:19:00 +0400'
  date_gmt: '2012-08-01 07:19:00 +0400'
  content: "Хаки - это одно название. На самом деле это тот же плагин, точнее в плагинах
    те же хаки стоят, только еще много чего лишнего понапихано. Ведь плагин нужно
    обнаружить, подключить, у него много дополнительного кода для работы с ними в
    админке и обычно плагин решет больше задач, чем требуется, что дает нагрузку.
    Вот например, обычно форму контакта делают с помощью плагина Contact Form 7, его
    вес больше 1го метра, он содержит 117 файлов. Это не просто плагин! Это мощная
    машина для генерации форм! И с помощью нее выводят только форму контактов, в лучшем
    случаи!!! Это не есть хорошо! И получается он нагрузку дает не оправданную. Это
    как атомной бомбой по воробьям!\r\n\r\nТак что решайте сами. Можете потестить,
    с плагином и без. В разных случаях по разному. Да, и к тому же это зависит от
    вашего хостинга и посещаемости. Если вы лимиты хостинга не превышаете, то и волноваться
    не стоит =) Хотя можете позаботиться о будущем и сделать сразу =)"
- id: 61539
  author: Fabervox
  author_email: fabervox@yandex.ru
  author_url: http://seorv.ru
  date: '2012-08-01 12:33:53 +0400'
  date_gmt: '2012-08-01 08:33:53 +0400'
  content: "Ну а сколько времени у вас займет сделать из вот этого хака, плагин?\r\n\r\nПроблема
    стоит в том что многие пытаются одним плагином угодить всем, и при этом ещё и
    отдельно привлечь дополнительными понтами.\r\nА простой человек по не знанию и
    ведется:  \"Оо... целый мегабайт для контактной формы! Это ж сколько труда вложено,
    функционала сколько.\"\r\n\r\nНо иногда это ведь может быть и справедливо.\r\nДопустим
    если настройки конфигурируют некий config.ini, к которому потом код из шаблона
    обращается, и только тогда работает, это неправильно.Хотя может быть и хуже.\r\n\r\nНо
    другое дело если все настройки в итоге формируют статический код,который по сути
    является правильным хаком. Вот так мне кажется ничем не хуже хаков будет.\r\n\r\nДругое
    дело что реалии таковы, что никто вот так вот делать не будет. Одни сделают обычные
    хаки, другие сделают навороченные плагины вроде упомянутой CF7. Для первых создание
    плагина это пустая трата времени, что вполне справедливо. А для вторых это просто
    не дойдет никогда, и с этим вряд ли что то можно сделать.\r\n\r\n\r\nНо все же
    вначале стоит попробовать плагин, потому что иногда можешь решить что то нужно,
    а реально тебе так только кажется, тратить время даже на поиски и \"установку\"
    хака сразу не стоит, не говоря уже о его написании.\r\n\r\nPS: просто хочется
    чтоб и простым людям были доступны не просто хаки, а хаки которые они бы смогли
    легко сконфигурировать."
- id: 61587
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-08-01 13:58:43 +0400'
  date_gmt: '2012-08-01 09:58:43 +0400'
  content: "Хм-хм. В принципе, со всем согласен. Но так или иначе, плагин в любом
    случаи дает большую нагрузку, чем голый хак, даже в случаи формирования статического
    кода.\r\n\r\nА что касается меня, то я лучше незнающему человеку объясню как сделать
    хак и он прозреет, чем он поставит плагин и будет находится в неведение. По крайней
    мере, я стараюсь объяснять =)\r\n\r\nWordPress и без того CMS для блондинок, я
    думаю, знание основ работы кода никому не помешает. Это тоже самое, что летать
    на самолете (в смысле быть пилотом) и не знать принципов самого полёта. Благо,
    в инете тонны материала любой сложности для новичков, думаю пару часиков на изучение
    можно потратить. \r\n\r\nХотя конечно, всегда найдутся те кто поленится и те кому
    лучше будет поставить плагин. Но рано или поздно они подойдут к черте, когда придется
    сносить тяжелые плагины и заменять их на хаки, облегчать нагрузку на сервер и
    др. (если конечно их проект развивается). Так что лучше начать пораньше, а то
    все \"пока гром не грянет мужик не перекреститься\".\r\n\r\nPS: И кстати, я плагин
    делать не буду из этого кода, мне он не нужен, да и мануал вроде подробный =)\r\n\r\nPSS:
    Свои хаки-функции я стараюсь делать настраиваемыми, чтобы большему числу народа
    угодить. Хотя в данном случаи это не так, это исключение. Все такие это не хак,
    а больше просто страница с индивидуальным шаблоном, хотя и его можно сделать настраиваемым
    =)"
- id: 106946
  author: Olunka
  author_email: olunka-com@yandex.ru
  author_url: http://www.olunka.ru/
  date: '2012-11-05 06:34:01 +0400'
  date_gmt: '2012-11-05 02:34:01 +0400'
  content: "Качественно, возьму на заметку.\r\nНа моем сайте до сих пор нет формы
    обратной связи."
- id: 107235
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-05 13:10:34 +0400'
  date_gmt: '2012-11-05 09:10:34 +0400'
  content: Если вы сейчас хотите форму себе вставить, то обождите до вечера! Я внесу
    кое-какие изменения в код, точнее дополнения. Они касаются предотвращения спама.
- id: 107306
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-05 14:33:23 +0400'
  date_gmt: '2012-11-05 10:33:23 +0400'
  content: Всё, я это сделал. Теперь глупые спам-боты не пройдут. Только умные =D
- id: 108556
  author: Olunka
  author_email: olunka-com@yandex.ru
  author_url: http://www.olunka.ru/
  date: '2012-11-06 17:48:56 +0400'
  date_gmt: '2012-11-06 13:48:56 +0400'
  content: спасибо
- id: 111682
  author: alexzsoft
  author_email: alexzsoft@mail.ru
  author_url: http://www.alexzsoft.ru
  date: '2012-11-11 08:55:34 +0400'
  date_gmt: '2012-11-11 04:55:34 +0400'
  content: вот это круто, а контакт форм 7 действительно дает очень большую нагрузку,
    даже с оптимизацией css и джавы. по этому лучше время уделить и написать эту форму
- id: 120268
  author: Димыч
  author_email: ls777d7@gmail.com
  author_url: http://kurs7.ru/
  date: '2012-11-23 17:17:57 +0400'
  date_gmt: '2012-11-23 13:17:57 +0400'
  content: "Доброго времени суток!\r\n\r\nДавно, после того как проверил на нагрузку,
    хочу заменить плагин контакт форм на скрипт,но ... знаний то пока ни каких (((
    Очень обрадовался Вашему готовому решению, да видно по своей криворукости и незнанию,
    что то где то делаю не так ((( На хостинге копирую файл page.php, переименовываю
    его в feedback.php. и на этом стопарюсь((( Потому как не появляется кнопка Edit
    - редактировать и я не могу внести в него Ваш код ((( Подскажите пожалуйста где
    я косячу - делаю не так ..."
- id: 120271
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-23 17:43:02 +0400'
  date_gmt: '2012-11-23 13:43:02 +0400'
  content: "Что за кнопка Edit? Я так понял вы используете интерфейс хостинга для
    работы с файлами или интерфейс самого WP? Если так, то лучше юзайте FileZilla
    для подключения по FTP к хостингу, будете редактировать свои файлы в нормальном
    блокноте. \r\n\r\nНа самом деле копировать файл page.php не обязательно, если
    вы хотите мой код вставить, то можно просто создать новый файл и в него запихать,
    но по идеи, и так и так должно работать.\r\n\r\nНо чтобы не было загвоздок с редактированием
    файлов установите FileZilla. Все данные для подключения должен дать вам хостинг."
- id: 123971
  author: Наталья
  author_email: virgonat@yandex.ru
  author_url: http://uvlekatelnie-bonsai.ru
  date: '2012-11-28 02:57:15 +0400'
  date_gmt: '2012-11-27 22:57:15 +0400'
  content: "Три вопроса: \r\n1.Перед описанием плагина уже готовая форма, которую
    вставляй в файл да давай название feedback.php?\r\n\r\n2.Как прикрутить созданный
    файл в уже имеющуюся страничку? Была форма контакт 7 плагин - удалила, а новое
    ничего не смогла внедрить, либо опять же плагин требуется (ну и смысл шило на
    мыло менять) либо какие то форма на аяксе, которые опять же фиг знает как прикрутить
    к уже давно существующей страничке? На всякий случай дам ссылку на формочку http:&#47;&#47;www.codeharmony.ru&#47;materials&#47;18
    чтоб было понятно о чем речь.\r\nИли редирект тока спасет тогда? Перенаправить
    созданную давно на вновь созданную?\r\n\r\n3.И о  плагине вы в конце пишете jQuery
    Validation Plugin - он обязательно должен присутствовать после внедрения на сайте
    кода? опять же зачем шило на мыло менять тогда? если без плагина все равно никак?"
- id: 124054
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-28 04:08:19 +0400'
  date_gmt: '2012-11-28 00:08:19 +0400'
  content: |-
    1) Да

    2) Не понял вопрос. Вы задаете вопрос по чужому поделию? Если так, то я чужие поделия не комментирую =) А на счет того как прикрутить к старой странице, то в статье создается индвидуальный шаблон страницы, который потом можно назначить любой странице.

    3) Вроде бы из текста не следует, что нужно это делать специально:
    <blockquote>Сейчас контактная форма работает отлично, в том числе и проверка введенных данных, но она происходит на сервере, что требует перезагрузки страницы. Можно сделать дополнительную проверку введенных данных на стороне клиента с помощью JavaScript. <&#47;blockquote>
    <em>Можно сделать<&#47;em> - это как <em>Не обязательно делать<&#47;em>, но видать смысл слишком скрыт. Щас поправлю, чтобы в дальнейшем вопросов таких не задавали =) Это добавлено для повышения юзабилити формы, но оно не обязательно. И jQuery плагин это не Wordpress плагин, это разные вещи. jQuery - это JavaScript код, который закачивается пользователю в браузер и работает уже там и при этом динамически, т.е. без перезагрузки страницы. И соответственно WordPress плагин - это PHP код, который работает только на сервере.
- id: 133869
  author: Роман
  author_email: casio11@yandex.ru
  author_url: http://fishingway.ru/
  date: '2013-01-18 00:03:52 +0400'
  date_gmt: '2013-01-17 20:03:52 +0400'
  content: "Добрый вечер!\r\nПри создании формы возникла небольшая проблема, вся форма
    выровнена по левому краю, что можно сделать, что бы отцентрировать форму?\r\nвот
    сам код страницы:\r\n<code>\r\n<?php\r\n&#47;*\r\nTemplate Name: Feedback\r\n*&#47;\r\n?>\r\n\r\n<?php\r\nif(isset($_POST['submitted']))
    {\r\n    if($_POST['comments1'] != '') {\r\n        die(\"Get out!\");\r\n    }\r\n\r\n
    \   if(trim($_POST['contactName']) === '') {\r\n        $nameError = 'Пожалуйста,
    введите ваше имя.';\r\n        $hasError = true;\r\n    } else {\r\n        $name
    = trim($_POST['contactName']);\r\n    }\r\n\r\n    if(trim($_POST['email']) ===
    '')  {\r\n        $emailError = 'Пожалуйста, введите адрес вашей электронной почты.';\r\n
    \       $hasError = true;\r\n    } else if (!preg_match(\"&#47;^[[:alnum:]][a-z0-9_.-]*@[a-z0-9.-]+\\.[a-z]{2,4}$&#47;i\",
    trim($_POST['email']))) {\r\n        $emailError = 'Адрес электронной почты некорректный.';\r\n
    \       $hasError = true;\r\n    } else {\r\n        $email = trim($_POST['email']);\r\n
    \   }\r\n\r\n    if(trim($_POST['subject']) === '') {\r\n        $subject = 'Сообщение
    с сайта';\r\n    } else {\r\n        $subject = stripslashes(trim($_POST['subject']));\r\n
    \   }\r\n\r\n    if(trim($_POST['comments']) === '') {\r\n        $commentError
    = 'Пожалуйста, введите ваше сообщение.';\r\n        $hasError = true;\r\n    }
    else {\r\n        $comments = stripslashes(trim($_POST['comments']));\r\n    }\r\n\r\n
    \   if(!isset($hasError)) {\r\n        $emailTo = get_option('tz_email');\r\n
    \       if (!isset($emailTo) || ($emailTo == '') ){\r\n            $emailTo =
    get_option('admin_email');\r\n        }\r\n        &#47;&#47; тут можно железно
    установить почту для отправки письма, например так:\r\n        &#47;&#47; $emailTo
    = 'admin@site.ru';\r\n        $body = \"Имя: $name \\n\\nEmail: $email \\n\\nСообщение:
    $comments\";\r\n        $headers = 'From: '.$name.' <'.$emailTo.'>' . \"\\r\\n\"
    . 'Reply-To: ' . $email;\r\n\r\n        wp_mail($emailTo, $subject, $body, $headers);\r\n
    \       $emailSent = true;\r\n        unset($_POST);\r\n    }\r\n\r\n} ?>\r\n\r\n<?php
    get_header(); ?>\r\n<div id=\"col1\">\r\n\t<div id=\"container\">\r\n    <div
    id=\"content\">\r\n        <?php if (have_posts()) : while (have_posts()) : the_post();
    ?>\r\n        <div <?php post_class() ?> id=\"post-<?php the_ID(); ?>\">\r\n            <h1
    class=\"entry-title\"><?php the_title(); ?><&#47;h1>\r\n            <div class=\"entry-content\">\r\n
    \           <?php if(isset($emailSent) && $emailSent == true) { ?>\r\n                <div
    class=\"thanks\">\r\n                    <p>Спасибо за ваше письмо. Я постараюсь
    как можно скорее на него ответить.<&#47;p>\r\n                <&#47;div>\r\n            <?php
    } else { ?>\r\n                <?php the_content(); ?>\r\n                <?php
    if(isset($hasError)) { ?>\r\n                    <p class=\"error\">Извините,
    но отправить письмо не удалось. Возможно вы допустили ошибки при заполнении формы.<p>\r\n
    \               <?php } ?>\r\n            <?php } ?>\r\n\r\n            <form
    action=\"<?php the_permalink(); ?>\" id=\"contactForm\" method=\"post\">\r\n                <p>Ваше
    имя (обязательно):<br &#47;>\r\n                    <input type=\"text\" name=\"contactName\"
    id=\"contactName\" class=\"required\" value=\"<?php if(isset($_POST['contactName']))
    echo $_POST['contactName'];?>\" &#47;>\r\n                    <?php if($nameError
    != '') { ?>\r\n                        <span class=\"error\"><?=$nameError;?><&#47;span>\r\n
    \                   <?php } ?>\r\n                <&#47;p>\r\n\r\n                <p>Ваш
    E-Mail (обязательно):<br &#47;>\r\n                    <input type=\"text\" name=\"email\"
    id=\"email\" class=\"required email\" value=\"<?php if(isset($_POST['email']))
    echo $_POST['email'];?>\" &#47;>\r\n                    <?php if($emailError !=
    '') { ?>\r\n                        <span class=\"error\"><?=$emailError;?><&#47;span>\r\n
    \                   <?php } ?>\r\n                <&#47;p>\r\n\r\n                <p>Тема:<br
    &#47;>\r\n                    <input type=\"text\" name=\"subject\" id=\"subject\"
    value=\"<?php if(isset($_POST['subject'])) echo $_POST['subject'];?>\" &#47;>\r\n
    \               <&#47;p>\r\n\r\n                <p>Сообщение (обязательно):<br
    &#47;>\r\n                    <textarea name=\"comments1\" id=\"commentsText1\"
    rows=\"20\" cols=\"30\" class=\"required\"><&#47;textarea>\r\n                    <script>\r\n
    \                       window.onload = function(){\r\n                            document.getElementById('commentsText1').style.display
    ='none';\r\n                        }\r\n                    <&#47;script>\r\n
    \                   <textarea name=\"comments\" id=\"commentsText\" rows=\"20\"
    cols=\"30\" class=\"required\"><?php if(isset($_POST['comments'])) { if(function_exists('stripslashes'))
    { echo stripslashes($_POST['comments']); } else { echo $_POST['comments']; } }
    ?><&#47;textarea>\r\n                    <?php if($commentError != '') { ?>\r\n
    \                       <span class=\"error\"><?=$commentError;?><&#47;span>\r\n
    \                   <?php } ?>\r\n                <&#47;p>\r\n                <input
    type=\"submit\" class=\"button\" value=\"Отправить сообщение\"&#47;>\r\n                <input
    type=\"hidden\" name=\"submitted\" id=\"submitted\" value=\"true\" &#47;>\r\n
    \           <&#47;form>\r\n        <&#47;div>\r\n    <&#47;div>\r\n<?php endwhile;
    endif; ?>\r\n<&#47;div>\r\n<&#47;div>\r\n<&#47;div><!--end:col1-->\r\n\r\n<?php
    get_sidebar(); ?>\r\n<?php get_footer(); ?><&#47;code>"
- id: 133871
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-18 00:17:19 +0400'
  date_gmt: '2013-01-17 20:17:19 +0400'
  content: |-
    Конечно же с помощью CSS-стилей. В ваш файл style.css нужно добавить примерно следующее:

    <code>#contactForm {text-align: center;}<&#47;code>

    Тогда вся форма встанет по центру страницы, но это не всегда пригодно. В вашем случае, наверно, будет достаточно сделать отступ слева на пару десятков пикселей:

    <code>#contactForm {margin: 0 0 0 20px;}<&#47;code>

    Плюс то что я сейчас вижу у вас на сайте не очень красиво. Дизайн поломался из-за того что почему-то форма находится не в контейнере #col1, а в отдельном #container, хотя нужно второе запихать в первое, если вы понимаете о чем я. И в принципе, в коде сверху всё так и есть, но у вас на сайте что-то не так =)
- id: 133872
  author: Роман
  author_email: casio11@yandex.ru
  author_url: http://fishingway.ru/
  date: '2013-01-18 00:20:28 +0400'
  date_gmt: '2013-01-17 20:20:28 +0400'
  content: Спасибо большое, все поправил, все работает)
- id: 134137
  author: Антон
  author_email: anton@dyachenko.pp.ua
  author_url: http://youpk.ru/
  date: '2013-01-21 00:10:29 +0400'
  date_gmt: '2013-01-20 20:10:29 +0400'
  content: "Здравствуйте! Помогите пожалуйста у меня не получается\r\n\r\nвот что
    у меня в файле feedback.php\r\n\r\n<code><?php\r\n&#47;*\r\nTemplate Name: Feedback\r\n*&#47;\r\n?>\r\n\r\n<?php\r\nif(isset($_POST['submitted']))
    {\r\n    if($_POST['comments1'] != '') {\r\n        die(\"Get out!\");\r\n    }\r\n\r\n
    \   if(trim($_POST['contactName']) === '') {\r\n        $nameError = 'Пожалуйста,
    введите ваше имя.';\r\n        $hasError = true;\r\n    } else {\r\n        $name
    = trim($_POST['contactName']);\r\n    }\r\n\r\n    if(trim($_POST['email']) ===
    '')  {\r\n        $emailError = 'Пожалуйста, введите адрес вашей электронной почты.';\r\n
    \       $hasError = true;\r\n    } else if (!preg_match(\"&#47;^[[:alnum:]][a-z0-9_.-]*@[a-z0-9.-]+\\.[a-z]{2,4}$&#47;i\",
    trim($_POST['email']))) {\r\n        $emailError = 'Адрес электронной почты некорректный.';\r\n
    \       $hasError = true;\r\n    } else {\r\n        $email = trim($_POST['email']);\r\n
    \   }\r\n\r\n    if(trim($_POST['subject']) === '') {\r\n        $subject = 'Сообщение
    с сайта';\r\n    } else {\r\n        $subject = stripslashes(trim($_POST['subject']));\r\n
    \   }\r\n\r\n    if(trim($_POST['comments']) === '') {\r\n        $commentError
    = 'Пожалуйста, введите ваше сообщение.';\r\n        $hasError = true;\r\n    }
    else {\r\n        $comments = stripslashes(trim($_POST['comments']));\r\n    }\r\n\r\n
    \   if(!isset($hasError)) {\r\n        $emailTo = get_option('tz_email');\r\n
    \       if (!isset($emailTo) || ($emailTo == '') ){\r\n            $emailTo =
    get_option('admin_email');\r\n        }\r\n        &#47;&#47; тут можно железно
    установить почту для отправки письма, например так:\r\n        &#47;&#47; $emailTo
    = 'admin@site.ru';\r\n        $body = \"Имя: $name \\n\\nEmail: $email \\n\\nСообщение:
    $comments\";\r\n        $headers = 'From: '.$name.' <'.$emailTo.'>' . \"\\r\\n\"
    . 'Reply-To: ' . $email;\r\n\r\n        wp_mail($emailTo, $subject, $body, $headers);\r\n
    \       $emailSent = true;\r\n        unset($_POST);\r\n    }\r\n\r\n} ?>\r\n\r\n<?php
    get_header(); ?>\r\n\r\n\r\n\r\n<?php if (function_exists('dimox_breadcrumbs'))
    dimox_breadcrumbs(); ?>\r\n\r\n\r\n\r\n\t<div id=\"primary\" class=\"site-content\">\r\n\r\n\t\t<div
    id=\"content\" role=\"main\">\r\n\r\n\r\n<div id=\"container\">\r\n    <div id=\"content\">\r\n
    \       <?php if (have_posts()) : while (have_posts()) : the_post(); ?>\r\n        <div
    <?php post_class() ?> id=\"post-<?php the_ID(); ?>\">\r\n            <h1 class=\"entry-title\"><?php
    the_title(); ?><&#47;h1>\r\n            <div class=\"entry-content\">\r\n            <?php
    if(isset($emailSent) && $emailSent == true) { ?>\r\n                <div class=\"thanks\">\r\n
    \                   <p>Спасибо за ваше письмо. Я постараюсь как можно скорее на
    него ответить.<&#47;p>\r\n                <&#47;div>\r\n            <?php } else
    { ?>\r\n                <?php the_content(); ?>\r\n                <?php if(isset($hasError))
    { ?>\r\n                    <p class=\"error\">Извините, но отправить письмо не
    удалось. Возможно вы допустили ошибки при заполнении формы.<p>\r\n                <?php
    } ?>\r\n            <?php } ?>\r\n\r\n            <form action=\"<?php the_permalink();
    ?>\" id=\"contactForm\" method=\"post\">\r\n                <p>Ваше имя (обязательно):<br
    &#47;>\r\n                    <input type=\"text\" name=\"contactName\" id=\"contactName\"
    class=\"required\" value=\"<?php if(isset($_POST['contactName'])) echo $_POST['contactName'];?>\"
    &#47;>\r\n                    <?php if($nameError != '') { ?>\r\n                        <span
    class=\"error\"><?=$nameError;?><&#47;span>\r\n                    <?php } ?>\r\n
    \               <&#47;p>\r\n\r\n                <p>Ваш E-Mail (обязательно):<br
    &#47;>\r\n                    <input type=\"text\" name=\"email\" id=\"email\"
    class=\"required email\" value=\"<?php if(isset($_POST['email'])) echo $_POST['email'];?>\"
    &#47;>\r\n                    <?php if($emailError != '') { ?>\r\n                        <span
    class=\"error\"><?=$emailError;?><&#47;span>\r\n                    <?php } ?>\r\n
    \               <&#47;p>\r\n\r\n                <p>Тема:<br &#47;>\r\n                    <input
    type=\"text\" name=\"subject\" id=\"subject\" value=\"<?php if(isset($_POST['subject']))
    echo $_POST['subject'];?>\" &#47;>\r\n                <&#47;p>\r\n\r\n                <p>Сообщение
    (обязательно):<br &#47;>\r\n                    <textarea name=\"comments1\" id=\"commentsText1\"
    rows=\"20\" cols=\"30\" class=\"required\"><&#47;textarea>\r\n                    <script>\r\n
    \                       window.onload = function(){\r\n                            document.getElementById('commentsText1').style.display
    ='none';\r\n                        }\r\n                    <&#47;script>\r\n
    \                   <textarea name=\"comments\" id=\"commentsText\" rows=\"20\"
    cols=\"30\" class=\"required\"><?php if(isset($_POST['comments'])) { if(function_exists('stripslashes'))
    { echo stripslashes($_POST['comments']); } else { echo $_POST['comments']; } }
    ?><&#47;textarea>\r\n                    <?php if($commentError != '') { ?>\r\n
    \                       <span class=\"error\"><?=$commentError;?><&#47;span>\r\n
    \                   <?php } ?>\r\n                <&#47;p>\r\n                <input
    type=\"submit\" class=\"button\" value=\"Отправить сообщение\"&#47;>\r\n                <input
    type=\"hidden\" name=\"submitted\" id=\"submitted\" value=\"true\" &#47;>\r\n
    \           <&#47;form>\r\n        <&#47;div>\r\n    <&#47;div>\r\n<?php endwhile;
    endif; ?>\r\n<&#47;div>\r\n<&#47;div>\r\n\t\t\t\r\n\r\n\r\n\r\n\t\t<&#47;div><!--
    #content -->\r\n\r\n\t<&#47;div><!-- #primary -->\r\n\r\n\r\n\r\n\r\n\r\n<?php
    get_sidebar(); ?>\r\n\r\n<?php get_footer(); ?><&#47;code>\r\n\r\nне получается
    именно когда вставляю кусок кода после \r\n<code><?php\r\n&#47;*\r\nTemplate Name:
    Feedback\r\n*&#47;\r\n?><&#47;code>\r\n\r\nи до \r\n<code><?php get_header();
    ?><&#47;code>"
- id: 134171
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-21 07:43:13 +0400'
  date_gmt: '2013-01-21 03:43:13 +0400'
  content: "Что значит не получается? Слишком абстрактно слово <em>не получается<&#47;em>.
    Симптомы какие? Не появляется индивидуальный шаблон? Или Форма кривая? Или она
    не отсылает ничего? Или какие-то конкретные моменты не работают в алгоритме?\r\n\r\nА
    вообще всё работает. Я взял предоставленный вами код, создал индивидуальный шаблон,
    создал страницу, назначил ей этот шаблон и всё заработало и даже письмо администратору
    (мне) пришло через форму. Так что есть предположение, что вы что-то неверно делаете
    сами. Или с вашей темой что не так =)"
- id: 134193
  author: Антон Дьяченко
  author_email: anton@dyachenko.pp.ua
  author_url: http://youpk.ru/
  date: '2013-01-21 10:57:24 +0400'
  date_gmt: '2013-01-21 06:57:24 +0400'
  content: "пишет Ошибка сервера и невозможно отобразить страницу.\r\nТема стандартная
    2012 от Wordpress\r\nесли вставляю код без этого куска о проверке формы\r\n<code><?php\r\nif(isset($_POST['submitted']))
    {\r\n    if($_POST['comments1'] != '') {\r\n        die(\"Get out!\");\r\n    }\r\n\r\n
    \   if(trim($_POST['contactName']) === '') {\r\n        $nameError = 'Пожалуйста,
    введите ваше имя.';\r\n        $hasError = true;\r\n    } else {\r\n        $name
    = trim($_POST['contactName']);\r\n    }\r\n\r\n    if(trim($_POST['email']) ===
    '')  {\r\n        $emailError = 'Пожалуйста, введите адрес вашей электронной почты.';\r\n
    \       $hasError = true;\r\n    } else if (!preg_match(\"&#47;^[[:alnum:]][a-z0-9_.-]*@[a-z0-9.-]+\\.[a-z]{2,4}$&#47;i\",
    trim($_POST['email']))) {\r\n        $emailError = 'Адрес электронной почты некорректный.';\r\n
    \       $hasError = true;\r\n    } else {\r\n        $email = trim($_POST['email']);\r\n
    \   }\r\n\r\n    if(trim($_POST['subject']) === '') {\r\n        $subject = 'Сообщение
    с сайта';\r\n    } else {\r\n        $subject = stripslashes(trim($_POST['subject']));\r\n
    \   }\r\n\r\n    if(trim($_POST['comments']) === '') {\r\n        $commentError
    = 'Пожалуйста, введите ваше сообщение.';\r\n        $hasError = true;\r\n    }
    else {\r\n        $comments = stripslashes(trim($_POST['comments']));\r\n    }\r\n\r\n
    \   if(!isset($hasError)) {\r\n        $emailTo = get_option('tz_email');\r\n
    \       if (!isset($emailTo) || ($emailTo == '') ){\r\n            $emailTo =
    get_option('admin_email');\r\n        }\r\n        &#47;&#47; тут можно железно
    установить почту для отправки письма, например так:\r\n        &#47;&#47; $emailTo
    = 'admin@site.ru';\r\n        $body = \"Имя: $name \\n\\nEmail: $email \\n\\nСообщение:
    $comments\";\r\n        $headers = 'From: '.$name.' <'.$emailTo.'>' . \"\\r\\n\"
    . 'Reply-To: ' . $email;\r\n\r\n        wp_mail($emailTo, $subject, $body, $headers);\r\n
    \       $emailSent = true;\r\n        unset($_POST);\r\n    }\r\n\r\n} ?><&#47;code>\r\nто
    все нормально форма показывается"
- id: 134194
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-21 11:04:12 +0400'
  date_gmt: '2013-01-21 07:04:12 +0400'
  content: |-
    Я так понимаю вы не туда вставляете или что-то вроде того. Куда вы этот код располагаете? В редактировании страницы в окно, куда контент пихают? Или как? Опишите вкратце последовательность своих действие.

    Прост без этого заголовка нельзя создать индивидуальный шаблон, а значит его и не выбрать, а значит никакой формы отображаться не будет.
- id: 134195
  author: Антон Дьяченко
  author_email: anton@dyachenko.pp.ua
  author_url: http://youpk.ru/
  date: '2013-01-21 11:10:23 +0400'
  date_gmt: '2013-01-21 07:10:23 +0400'
  content: "если создаю шаблон и вставляю туда следующий код\r\n<code><?php\r\n&#47;*\r\nTemplate
    Name: Feedback\r\n*&#47;\r\n?>\r\n\r\n\r\n\r\n<?php get_header(); ?>\r\n\r\n\r\n\r\n<?php
    if (function_exists('dimox_breadcrumbs')) dimox_breadcrumbs(); ?>\r\n\r\n\r\n\r\n\t\t<div
    id=\"primary\" class=\"site-content\">\r\n\r\n\t\t<div id=\"content\" role=\"main\">\r\n\t\t\r\n\r\n\r\n<div
    id=\"container\">\r\n        <div id=\"content\">\r\n            <?php the_post()
    ?>\r\n            <div id=\"post-<?php the_ID() ?>\" class=\"post\">\r\n                <div
    class=\"entry-content\">\r\n\t\t\t\t\r\n\t\r\n\r\n\r\n<?php if(isset($emailSent)
    && $emailSent == true) { ?>\r\n    <div class=\"thanks\">\r\n        <p>Спасибо
    за ваше письмо. Я постараюсь, как можно скорее на него ответить.<&#47;p>\r\n    <&#47;div>\r\n<?php
    } else { ?>\r\n    <?php the_content(); ?>\r\n    <?php if(isset($hasError)) {
    ?>\r\n        <p class=\"error\">Извините, но отправить письмо не удалось. Возможно
    вы допустили ошибки при заполнении формы.<p>\r\n    <?php } ?>\r\n<?php } ?>\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n\t\t\t\t\r\n<form
    action=\"<?php the_permalink(); ?>\" id=\"contactForm\" method=\"post\">\r\n\r\n\r\n\r\n<textarea
    name=\"comments1\" id=\"commentsText1\" rows=\"20\" cols=\"30\" class=\"required\"><&#47;textarea>\r\n<script>\r\n
    \   window.onload = function(){\r\n        document.getElementById('commentsText1').style.display
    ='none';\r\n    }\r\n<&#47;script>\r\n\r\n\r\n\r\n\r\n    <p>Ваше имя (обязательно):<br
    &#47;>\r\n        <input type=\"text\" name=\"contactName\" id=\"contactName\"
    class=\"required\" value=\"<?php if(isset($_POST['contactName'])) echo $_POST['contactName'];?>\"
    &#47;>\r\n        <?php if($nameError != '') { ?>\r\n            <span class=\"error\"><?=$nameError;?><&#47;span>\r\n
    \       <?php } ?>\r\n    <&#47;p>\r\n\r\n    <p>Ваш E-Mail (обязательно):<br
    &#47;>\r\n        <input type=\"text\" name=\"email\" id=\"email\" class=\"required
    email\" value=\"<?php if(isset($_POST['email']))  echo $_POST['email'];?>\" &#47;>\r\n
    \       <?php if($emailError != '') { ?>\r\n            <span class=\"error\"><?=$emailError;?><&#47;span>\r\n
    \       <?php } ?>\r\n    <&#47;p>\r\n\r\n    <p>Тема:<br &#47;>\r\n        <input
    type=\"text\" name=\"subject\" id=\"subject\" value=\"<?php if(isset($_POST['subject']))
    \ echo $_POST['subject'];?>\" &#47;>\r\n    <&#47;p>\r\n\r\n    <p>Сообщение (обязательно):<br
    &#47;>\r\n        <textarea name=\"comments\" id=\"commentsText\" rows=\"20\"
    cols=\"30\" class=\"required\"><?php if(isset($_POST['comments'])) { if(function_exists('stripslashes'))
    { echo stripslashes($_POST['comments']); } else { echo $_POST['comments']; } }
    ?><&#47;textarea>\r\n        <?php if($commentError != '') { ?>\r\n            <span
    class=\"error\"><?=$commentError;?><&#47;span>\r\n        <?php } ?>\r\n    <&#47;p>\r\n
    \   <input type=\"submit\" class=\"button\" value=\"Отправить сообщение\"&#47;>\r\n
    \   <input type=\"hidden\" name=\"submitted\" id=\"submitted\" value=\"true\"
    &#47;>\r\n<&#47;form>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n                <&#47;div>\r\n
    \           <&#47;div>\r\n        <&#47;div>\r\n    <&#47;div>\r\n\r\n\r\n\r\n\t\t\r\n\t\t<&#47;div><!--
    #content -->\r\n\r\n\t<&#47;div><!-- #primary -->\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n<?php
    get_sidebar(); ?>\r\n\r\n<?php get_footer(); ?><&#47;code>\r\nто форма показывается.\r\nТо
    есть страница загружается и можно вводить сообщение.\r\nдобавляю код для проверки
    формы и все - невозможно отобразить страницу"
- id: 135749
  author: Татьяна
  author_email: 16stat@gmail.com
  author_url: http://posidelky-s-chaem.ru
  date: '2013-02-03 19:55:59 +0400'
  date_gmt: '2013-02-03 15:55:59 +0400'
  content: Все замечательно работает! Не обошлось сначала без съехавших вниз сайтбаров,
    затем сайтбары переместила влево, а шапка съехала вниз, в футер.:)) Зато тема
    получилась уникальная))) немного поменяла местами строчки кодов,  и через три
    часа усе на месте!   Так что пробуйте, господа!  Темы у всех разные, и не обязательно
    какие то атрибуты будут присутствовать. Если не пытаться, то чему научитесь?
- id: 135969
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-04 18:18:00 +0400'
  date_gmt: '2013-02-04 14:18:00 +0400'
  content: Так и есть! Терпение и труд к чему-нибудь да приведут! Молодец =)
- id: 137933
  author: svetka4
  author_email: svetka4@mail.ru
  author_url: ''
  date: '2013-02-19 15:28:50 +0400'
  date_gmt: '2013-02-19 11:28:50 +0400'
  content: "Здравствуйте! \r\nподскажите пожалуйста, как сделать некоторые поля необязательными
    к заполнению (поля удалить на фиг не вариант), а то все мои усилия только удаляют
    вывод сообщений об ошибке =)\r\nспасибо"
- id: 137951
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-19 17:02:35 +0400'
  date_gmt: '2013-02-19 13:02:35 +0400'
  content: "Переменная $hasError отвечает за обнаружение ошибки. Если она ровна true
    то ошибка произошла, если false то всё норм. Рассмотрим нижеследующий код проверки
    контактного имени:\n<code>if(trim($_POST['contactName']) === '') {\n\t$nameError
    = 'Пожалуйста, введите ваше имя.';\n\t$hasError = true;\n} else {\n\t$name = trim($_POST['contactName']);\n}<&#47;code>\nВидите,
    когда не заполнено поле имени, то переменная встаёт в true, ну и текст ошибки
    еще прописывается. А мы можем просто убрать эти две строки и вместо них запихать,
    например, просто присваивание некой константы или пустой строки. Ну например,
    если кто-то не подписался, то мы его просто обозначи как АНОНИМ и не будем инициировать
    ошибку:\n<code>if(trim($_POST['contactName']) === '') {\n\t$name = 'Аноним';\n}
    else {\n\t$name = trim($_POST['contactName']);\n}<&#47;code>\nПо аналогии действуйте
    и с остальными полями."
- id: 138132
  author: svetka4
  author_email: svetka4@mail.ru
  author_url: ''
  date: '2013-02-20 11:29:27 +0400'
  date_gmt: '2013-02-20 07:29:27 +0400'
  content: большое спасибо!
- id: 139209
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru
  date: '2013-03-02 17:57:23 +0400'
  date_gmt: '2013-03-02 13:57:23 +0400'
  content: "Пытаюсь въехать в <code><?php if(isset($emailSent) && $emailSent == true)
    { ?>\r\n    <div class=\"thanks\">\r\n        <p>Спасибо за ваше письмо. Я постараюсь,
    как можно скорее на него ответить.<&#47;p>\r\n    <&#47;div>\r\n<?php } else {
    ?>\r\n    <?php the_content(); ?>\r\n    <?php if(isset($hasError)) { ?>\r\n        <p
    class=\"error\">Извините, но отправить письмо не удалось. Возможно вы допустили
    ошибки при заполнении формы.<p>\r\n    <?php } ?>\r\n<?php } ?><&#47;code>\r\n\r\nНо
    это, в принципе, несущественно, без этого вполне можно обойтись. Вопрос: код хороший,
    рабочий. Может, стОит добавить в него вывод через шорткод - чтобы люди сильно
    не заморачивались?"
- id: 139214
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-02 18:59:06 +0400'
  date_gmt: '2013-03-02 14:59:06 +0400'
  content: Я не понял идею. Вывод через шорткод?? Это как и вывод чего? Я сегодня
    уже устал и могу плох соображать. Но так или иначе, прямо в файле индивидуального
    шаблона вряд ли шорткоды могут быть применены. Они работают только в редактировании
    контента страницы через админку, наверно.
- id: 139218
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru
  date: '2013-03-02 19:27:10 +0400'
  date_gmt: '2013-03-02 15:27:10 +0400'
  content: Вывод формы обратной связи не через индивидуальный шаблон, а через function.php
    )) То есть можно встроить в любую страницу не меняя её шаблон. Ну это так, мыслЯ
    просто меня посетила. ))
- id: 139224
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-02 20:42:13 +0400'
  date_gmt: '2013-03-02 16:42:13 +0400'
  content: Хм, теперь понятно. Сделать и правда можно. Но пока на очереди другие вопросы.
    Хотя индивидуальный шаблон сделать плёвое дело, должен каждый уметь кто WordPress
    юзает. Денёк пострадают и сделают xDDDD Но идею я к сведению приму и даже черновик
    создам! ПасибА!
- id: 139225
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru
  date: '2013-03-02 21:21:50 +0400'
  date_gmt: '2013-03-02 17:21:50 +0400'
  content: 'Да не за что. Я генерирую идеи и дарю их. Со стороны это действие слегка
    напоминает понос. :idea: :arrow: :mrgreen: Примерно в такой последовательности.
    )))'
- id: 142656
  author: V_Koktebel
  author_email: admin77@bigmir.net
  author_url: http://v-koktebel.ru
  date: '2013-03-30 11:26:07 +0400'
  date_gmt: '2013-03-30 07:26:07 +0400'
  content: "SlowProg, спасибо за подробное объяснение. \r\nЗадумался себе поставить
    и возник вопрос. Еще не силен в подобных премудростях. \r\nВ какую папку на хостинге
    необходимо залить файл  feedback.php и вид ссылки будет :\r\nдомен&#47; feedback.php
    \ или я не прав. У меня все время ошибку 404 выдает. Спасибо."
- id: 142659
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-30 11:57:47 +0400'
  date_gmt: '2013-03-30 07:57:47 +0400'
  content: Нет, вы не верно думаете. Залить нужно в свою папку с активной темой <em>&#47;wp-content&#47;themes&#47;Noble<&#47;em>.
    А ссылка будет той которую вы укажите при создании страницы.
- id: 142672
  author: V_Koktebel
  author_email: admin77@bigmir.net
  author_url: http://v-koktebel.ru
  date: '2013-03-30 15:46:24 +0400'
  date_gmt: '2013-03-30 11:46:24 +0400'
  content: Благодарю за пояснения, всё так и делаю, а 404 выскакивает.
- id: 142733
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-31 11:02:44 +0400'
  date_gmt: '2013-03-31 07:02:44 +0400'
  content: Значит вы наверно чего-то не понимаете. Скорее всего что такое и как создавать
    индивидуальные шаблоны для страниц. Почитайте про них отдельно. Вы создали саму
    страницу в WordPress? Назначили ей индивидуальный шаблон в выпадающем списке?
- id: 142752
  author: V_Koktebel
  author_email: admin77@bigmir.net
  author_url: http://v-koktebel.ru
  date: '2013-03-31 14:54:49 +0400'
  date_gmt: '2013-03-31 10:54:49 +0400'
  content: SlowProg, я действительно в первый раз столкнулся с индивидуальными шаблонами
    для страницы. Спасибо за ответы, у меня все получилось. Удачи и хорошо отдохнуть
    в выходные! Я ваш подписчик!
- id: 143398
  author: Юрий
  author_email: boluiv@gmail.com
  author_url: ''
  date: '2013-04-05 09:35:08 +0400'
  date_gmt: '2013-04-05 05:35:08 +0400'
  content: "Здравствуйте!\r\nПо материалам Вашей статьи сделал форму обратной связи,
    всё получилось.\r\nСпасибо.\r\nА можно ли сделать так, чтобы цвет шрифта сообщений
    типа \"Адрес электронной почты некорректный\", \"Пожалуйста, введите ваше имя\"
    был, например, красного цвета?\r\nЕсли можно, объясните, пожалуйста, как это сделать."
- id: 143412
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-04-05 12:17:13 +0400'
  date_gmt: '2013-04-05 08:17:13 +0400'
  content: |-
    Ещё как можно. Все ошибки выводятся в контейнерах с классом error. Вот в CSS и добавьте нечто подобное:
    .error{color:red;}
- id: 150491
  author: WPixel
  author_email: info@wpixel.ru
  author_url: http://wpixel.ru
  date: '2013-04-27 08:13:39 +0400'
  date_gmt: '2013-04-27 04:13:39 +0400'
  content: А как бы к этой форме капчу прикрутить? например с captcha.ru , чтоб тоже
    была проверка на предмет введенных данных с капчи?
- id: 150562
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-04-27 15:27:09 +0400'
  date_gmt: '2013-04-27 11:27:09 +0400'
  content: Капча??? Ооооо НЕТ!!! Какая капча? Зачем капча? Если нужно для портала
    в 100 000 посещаемости, то я скажу как. В противном случае не надо вешать где
    непоподя ужасные и противные капчи, которые снижают всё что только можно на свете.
    Тут есть невидимое поле, которое снижает количество спама в разы. Вот почитайте
    <a target="_blank" href="http:&#47;&#47;habrahabr.ru&#47;post&#47;151084&#47;"
    rel="nofollow">статью<&#47;a> для убедительности.
- id: 154569
  author: Poly
  author_email: muza-666@mail.ru
  author_url: ''
  date: '2013-05-08 13:54:13 +0400'
  date_gmt: '2013-05-08 09:54:13 +0400'
  content: "Добрый день. \r\nВозникла необходимость максимально снизить нагрузку на
    сайт и повезло найти Ваш сайт. очень полезные статьи. Попробовала сделать форму
    обратной связи по Вашему коду, все в общем получилось, но сообщения не отправляются.
    ошибок никаких не выдает, просто страница перезагружается и никаких записей типа
    сообщение отправлено или не отправлено, ничего нет.\r\nШаблон сама делала с нуля.
    Может быть, в этом проблема? Подкажите, если не трудно:)\r\nС Уважением, Poly."
- id: 154574
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-05-08 14:15:12 +0400'
  date_gmt: '2013-05-08 10:15:12 +0400'
  content: |-
    Вот пару намёков в какую сторону копать:

    1) Ранее письма вообще отправлялись другими способами с сайта? Может быть у вас хостинг не включил SMTP-сервер. Проверьте отправляются ли вообще письма WordPress или нет. <a href="http:&#47;&#47;wordpress.org&#47;extend&#47;plugins&#47;check-email&#47;" target="_blank" rel="nofollow">Этот плагин<&#47;a> можете использовать для этого.

    2) Если письма не отсылаются то может функция mail() у вашего PHP отключена, можете об этом спросить у своей поддержки хостинга. Может они пойдут на встречу и включат.

    3) Найдите и покопайтесь в логах с ошибками, может быть это натолкнёт на решение, если нет то связанные с этим ошибки (если они будут) скидывайте сюда - глянем. Логи должны быть у вас на хостинге, но в каком месте не могу точно сказать всё зависит от конкретного хостинга, но обычно они лежат по иерархии файловой системы немного ниже самого сайта (если глядеть по FTP). Если их нет, то скорее всего их надо включить в панели управления хостингом. И об этом должно быть написано в FAQ вашего хостинга.

    4) Поищите плагины решающие данный вопрос. Например можно вообще все письма направить через любой другой SMTP-сервер. Вот для этого <a href="http:&#47;&#47;wordpress.org&#47;extend&#47;plugins&#47;easy-wp-smtp&#47;" target="_blank" rel="nofollow">плагина<&#47;a>.
- id: 154788
  author: Poly
  author_email: muza-666@mail.ru
  author_url: ''
  date: '2013-05-09 12:51:16 +0400'
  date_gmt: '2013-05-09 08:51:16 +0400'
  content: "Здравствуйте. Спасибо, что ответили.\r\nЛоги проверила, ошибок нет.\r\nРаньше
    стоял плагин contact-form7 Работал хорошо, письма отправлялись моментально. Другие
    письма wordpress тоже отправляются исправно, а вот форма без плагина не хочет."
- id: 154810
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-05-09 15:23:40 +0400'
  date_gmt: '2013-05-09 11:23:40 +0400'
  content: "Я , честно, так, основываясь не на чём, диагностировать не могу. \r\n\r\nМожет
    быть у вас вывод ошибок выключен.\r\n\r\nЕщё рекомендуют, когда не работает отправка,
    поменять в файле <em>wp-includes&#47;pluggable.php<&#47;em> это:\r\n<code>&#47;&#47;
    Set to use PHP's mail()\r\n$phpmailer->IsMail();<&#47;code>\r\nна это:\r\n<code>&#47;&#47;
    Set to use PHP's mail()\r\n$phpmailer->IsSendmail();<&#47;code>\r\nВ последней
    версии WordPress эта 405 строка кода. В других может отличаться, но думаю найдёте.
    \r\n\r\nУ меня работает и так и так, но в случае с вами я не знаю поможет или
    нет. Попробуйте. единственное данный способ не универсален т.к. изменения в коде
    сбросятся после обновления WordPress"
- id: 171464
  author: Форма обратной связи Wordpress без плагинов
  author_email: ''
  author_url: http://tech-bussines.ru/sozdanie-sajta-na-wordpress/forma-obratnoj-svyazi-wordpress-bez-plaginov.html
  date: '2013-07-05 20:41:05 +0400'
  date_gmt: '2013-07-05 16:41:05 +0400'
  content: "[...] которые я предоставлял, то рекомендую вам перейти на вот этот сайт.
    Его автор в достаточной мере все [...]"
- id: 177821
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-08-02 17:05:19 +0400'
  date_gmt: '2013-08-02 13:05:19 +0400'
  content: "Спасибо за статьи, которые пишите для нас.\r\nК сожалению, у меня не работает
    код: при открытии страницы на сайте все вверх дном... До этого как-то тоже делала
    на сайте форму обратной связи без плагина, внешне выглядело красиво, а на почту
    приходило пустое сообщение, в результате пришлось поставить плагин. Видимо, сам
    шаблон сайта не пропускает некоторые изменения..."
- id: 177869
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-02 23:08:02 +0400'
  date_gmt: '2013-08-02 19:08:02 +0400'
  content: Я так понимаю вы взяли просто мой код всей формы? Без каких либо изменений
    и адаптаций под свою вёрстку? Если так, то да, всё будет вверх дном и вы сделали
    не верно. Я показал на примере одного конкретного шаблона, а у вас нужно код вписывать
    в свой шаблон. Именно потому я и показал всё по шагам, в противном случае я бы
    мог просто вывалить код и ничего не объяснять.
- id: 177892
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-08-03 00:34:40 +0400'
  date_gmt: '2013-08-02 20:34:40 +0400'
  content: "Попробовала еще раз по шагам, если правильно поняла, нужно вписать свой
    емейл - вписала в трех местах (по одному) - все равно никак...Как-то сложно дается.\r\nПосле
    Вашего ответа возник вопрос: вписывать код нужно в чистый лист или в дополнение
    к какому-то шаблону? - вот это не поняла..."
- id: 177901
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-03 01:04:36 +0400'
  date_gmt: '2013-08-02 21:04:36 +0400'
  content: "Не в чистый лист. У меня написано следующее в статье:\r\n\r\n<blockquote>Для
    создания шаблона скопируйте файл page.php из вашей темы и переименуйте его в feedback.php.<&#47;blockquote>\r\n\r\nЭтим
    самым я преследую цель сохранения структуры вашего шаблона. Т.е. вы берёте за
    основу свой шаблон и его видоизменяете."
- id: 177904
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2013-08-03 01:21:01 +0400'
  date_gmt: '2013-08-02 21:21:01 +0400'
  content: В этом файле менять практически нечего, там всего несколько строк.. Завтра
    попробую еще раз. Спасибо.
- id: 177906
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-03 01:33:54 +0400'
  date_gmt: '2013-08-02 21:33:54 +0400'
  content: Окей, бывают разные шаблоны. Но так или иначе свой шаблон надо знать и
    надо знать где конкретно формируется HTML-код страницы. В каком это файле происходит.
    Можете index.php взять за основу. В общем, любой файл что отвечает за формирование
    ваших страниц.
- id: 180350
  author: Артем
  author_email: artikus.sol@gmail.com
  author_url: http://artabr.ru
  date: '2013-08-17 14:58:35 +0400'
  date_gmt: '2013-08-17 10:58:35 +0400'
  content: "Приветствую! Все поставил все работает, отличное и изящное решение. Спасибо.\r\nНо
    столкнулся с такой проблемкой. В старом шаблоне все работало как часы, но после
    смены шаблона появляется двойное поле Сообщение, я так понимаю у меня не включен
    JS. Так вот вопрос, может и не в тему так что извиняюсь за офтоп, как включить
    JS?"
- id: 180629
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-19 21:45:00 +0400'
  date_gmt: '2013-08-19 17:45:00 +0400'
  content: JS включается и выключается только в клиентском браузере. Если вы используете
    для скрытия jQuery, а не чистый JS, то поглядите подключается ли в вашем шаблоне
    jQuery.
- id: 180638
  author: Артем
  author_email: artikus.sol@gmail.com
  author_url: http://artabr.ru
  date: '2013-08-19 23:24:01 +0400'
  date_gmt: '2013-08-19 19:24:01 +0400'
  content: Спасибо, помогло. Подключил jQuery и все заработало.
- id: 198176
  author: Миха
  author_email: 9067648801@mail.ru
  author_url: ''
  date: '2013-11-24 16:16:26 +0400'
  date_gmt: '2013-11-24 12:16:26 +0400'
  content: Здравствуйте! Простите как сделать так чтоб поле сообщения не растягивалось,  точнее
    чтобы можно было в CSS не только указать ширину в % но и высоту - без всякого
    растягивания? спс
- id: 198189
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-11-24 16:49:17 +0400'
  date_gmt: '2013-11-24 12:49:17 +0400'
  content: |-
    Не очень понимаю термин "растягивание", но так или иначе у <em>textarea<&#47;em> есть атрибут <em>rows<&#47;em> отвечающий за высоту в строчках (читаем <a href="http:&#47;&#47;htmlbook.ru&#47;html&#47;textarea" rel="nofollow">мат. часть<&#47;a>). Или если хочется через CSS, то можно использовать свойство <em>height<&#47;em>. Например, в данном случае так:
    <code>#commentsText{
    width:100%;
    height: 200px;
    }<&#47;code>
    Или вы имеете в виду, что не задаётся высота именно в %? Если так, то опять в мат. часть. Проценты всегда задаются относительно родителя. Обратите внимание какую высоту имеет родитель и именно от неё задаётся и высота поля-потомка. Если высота родителя явно не прописана, то надо это сделать.
- id: 198193
  author: WPixel
  author_email: info@wpixel.ru
  author_url: http://wpixel.ru
  date: '2013-11-24 16:58:24 +0400'
  date_gmt: '2013-11-24 12:58:24 +0400'
  content: 'Есть такое свойство resize: параметр; указав параметр свойство не дает
    растягиваться полю по вертикали или горизонтали. Я обычно указываю resize: vertical
    чтоб поле не растягивалось в сторону сайдбара.'
- id: 198194
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-11-24 17:01:50 +0400'
  date_gmt: '2013-11-24 13:01:50 +0400'
  content: ААААА! Вот что имелось в виду под "растягиванием"!!! Какой же я глупый
    =) Хорошо есть умные люди на свете, а то я какие-то глупости понаписал xDDD
- id: 198203
  author: Миха
  author_email: 9067648801@mail.ru
  author_url: ''
  date: '2013-11-24 17:41:48 +0400'
  date_gmt: '2013-11-24 13:41:48 +0400'
  content: "Спасибо!\r\nкуда прописать resize: vertical ?\r\nОбраз и подобия соответствует
    описанию автора SlowProg. (у меня идентично  полный код формы обратной связи Template
    Name: Feedback)"
- id: 198518
  author: WPixel
  author_email: info@wpixel.ru
  author_url: http://wpixel.ru
  date: '2013-11-25 09:07:48 +0400'
  date_gmt: '2013-11-25 05:07:48 +0400'
  content: "для поля сообщения есть  id #commentsText  вот ему и пропишите это свойство,
    а ширину можно поставить width: 90% это оптимально в большинстве случаев.\r\nДля
    полей имя емейл и тема я ставил ширину width: 290px.При данных параметрах форма
    выглядит как эта форма для комментирования."
- id: 198709
  author: Миха
  author_email: 9067648801@mail.ru
  author_url: ''
  date: '2013-11-25 19:42:44 +0400'
  date_gmt: '2013-11-25 15:42:44 +0400'
  content: "Спасибо!! Побольше бы таких инструкций сделай сам... не профессионалу\r\nВсего
    Вам лучшего."
- id: 206561
  author: Юрий
  author_email: boluiv@gmail.com
  author_url: ''
  date: '2013-12-05 20:11:08 +0400'
  date_gmt: '2013-12-05 16:11:08 +0400'
  content: "Здравствуйте!\r\nПоставил Вашу форму обратной связи.\r\nНа локальном Open
    Servere работает без замечаний.\r\n\r\nПоставил на действующий блог, появились
    замечания:\r\nNotice: Undefined variable: nameError in - далее идет адрес файла
    и номер строки.\r\nNotice: Undefined variable: emailError in - ...\r\nNotice:
    Undefined variable: commentError in -...\r\nПрименительно к Вашему полному коду
    - это строки 81, 88, 105.\r\n\r\nТестовое письмо на почтовый ящик (...@gmail.com)
    не пришло, хотя запись, что сообщение отправлено, появилась.\r\n\r\nПомогите,
    пожалуйста, устранить эти замечания.\r\nСпасибо.\r\nС уважением, Юрий"
- id: 206589
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-12-05 21:07:05 +0400'
  date_gmt: '2013-12-05 17:07:05 +0400'
  content: "Добрый.\r\n\r\nТо что на разных серверах по разному оно понятно. На боевом
    у вас не подавляются нотисы, хотя обычно наоборот, на боевом все ошибки подавляются,
    а на тестовом нет. ну да не важно. не в этом проблема, а в моём коде. Сейчас я
    поправил и нотисы не должны выскакивать. \r\n\r\nА вот то что не отправляется
    с этим вовсе может быть и не связано. Может и заработает, но вряд ли. Бывает на
    разных хостингах адекватно не работает отсылка почты. А так вообще, почта самого
    WP нормально ходит?"
- id: 206643
  author: Юрий
  author_email: boluiv@gmail.com
  author_url: ''
  date: '2013-12-05 23:04:02 +0400'
  date_gmt: '2013-12-05 19:04:02 +0400'
  content: "Внес Ваши корректировки в код, сейчас ошибок нет и почта заработала.\r\n\r\nСпасибо.\r\nВсего
    доброго."
- id: 217266
  author: Андрей
  author_email: a-a-u@mail.ru
  author_url: http://model.cp583120.cpanel.tech-logol.ru/
  date: '2013-12-25 23:48:40 +0400'
  date_gmt: '2013-12-25 19:48:40 +0400'
  content: Привет ! Проблема с формой, при отправке перекидывает на страницу записей.
    В чём может быть проблема ?
- id: 217267
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-12-25 23:56:26 +0400'
  date_gmt: '2013-12-25 19:56:26 +0400'
  content: Если имеется в виду форма на сайте, что вы указали, то там в action формы
    указана (наверно) не та страница. А вообще сложно судить не имея перед глазами
    ничего. Приведите хотя бы код и адрес страницы, где эту форму можно поглядеть.
- id: 217291
  author: Андрей
  author_email: a-a-u@mail.ru
  author_url: ''
  date: '2013-12-26 10:40:01 +0400'
  date_gmt: '2013-12-26 06:40:01 +0400'
  content: "<blockquote>\r\n<?php\r\nif(isset($_POST[&#039;submitted&#039;])) {\r\n
    \   if($_POST[&#039;comments1&#039;] != &#039;&#039;) {\r\n        die(\"Get out!\");\r\n
    \   }\r\n\r\n    if(trim($_POST[&#039;contactName&#039;]) === &#039;&#039;) {\r\n
    \       $nameError = &#039;Пожалуйста, введите ваше имя.&#039;;\r\n        $hasError
    = true;\r\n    } else {\r\n        $name = trim($_POST[&#039;contactName&#039;]);\r\n
    \   }\r\n\r\n    if(trim($_POST[&#039;email&#039;]) === &#039;&#039;)  {\r\n        $emailError
    = &#039;Пожалуйста, введите адрес вашей электронной почты.&#039;;\r\n        $hasError
    = true;\r\n    } else if (!preg_match(\"&#47;^[[:alnum:]][a-z0-9_.-]*@[a-z0-9.-]+\\.[a-z]{2,4}$&#47;i\",
    trim($_POST[&#039;email&#039;]))) {\r\n        $emailError = &#039;Адрес электронной
    почты некорректный.&#039;;\r\n        $hasError = true;\r\n    } else {\r\n        $email
    = trim($_POST[&#039;email&#039;]);\r\n    }\r\n\r\n    if(trim($_POST[&#039;subject&#039;])
    === &#039;&#039;) {\r\n        $subject = &#039;Сообщение с сайта&#039;;\r\n    }
    else {\r\n        $subject = stripslashes(trim($_POST[&#039;subject&#039;]));\r\n
    \   }\r\n\r\n    if(trim($_POST[&#039;comments&#039;]) === &#039;&#039;) {\r\n
    \       $commentError = &#039;Пожалуйста, введите ваше сообщение.&#039;;\r\n        $hasError
    = true;\r\n    } else {\r\n        $comments = stripslashes(trim($_POST[&#039;comments&#039;]));\r\n
    \   }\r\n\r\n    if(!isset($hasError)) {\r\n        $emailTo = get_option(&#039;tz_email&#039;);\r\n
    \       if (!isset($emailTo) || ($emailTo == &#039;&#039;) ){\r\n            $emailTo
    = get_option(&#039;admin_email&#039;);\r\n        }\r\n        &#47;&#47; тут
    можно железно установить почту для отправки письма, например так:\r\n        &#47;&#47;
    $emailTo = &#039;admin@site.ru&#039;;\r\n        $body = \"Имя: $name \\n\\nEmail:
    $email \\n\\nСообщение: $comments\";\r\n        $headers = &#039;From: &#039;.$name.&#039;
    ' . \"\\r\\n\" . 'Reply-To: ' . $email;\r\n\r\n        wp_mail($emailTo, $subject,
    $body, $headers);\r\n        $emailSent = true;\r\n        unset($_POST);\r\n
    \   }\r\n\r\n} ?>\r\n\r\n              \r\n            \r\n                \r\n
    \                   Спасибо за ваше письмо. Я постараюсь как можно скорее на него
    ответить.\r\n                \r\n            \r\n              \r\n                \r\n
    \                   Извините, но отправить письмо не удалось. Возможно вы допустили
    ошибки при заполнении формы.\r\n                \r\n            \r\n\r\n            <form
    action=\"\" id=\"contactForm\" method=\"post\">\r\n                <input type=\"text\"
    name=\"contactName\" id=\"contactName\" placeholder=\"Имя\" required  value=\"\"
    &#47;>\r\n                    \r\n                        \r\n                    \r\n
    \               \r\n\r\n                <input type=\"text\" name=\"email\" id=\"email\"
    placeholder=\"email\" required  value=\"\" &#47;>\r\n                    \r\n
    \                       \r\n                    \r\n                \r\n\r\n                \r\n
    \                   <input type=\"text\" name=\"subject\" id=\"subject\" value=\"\"
    &#47;>\r\n                \r\n\r\n                \r\n                    \r\n
    \                   \r\n                        window.onload = function(){\r\n
    \                           document.getElementById('commentsText1').style.display
    ='none';\r\n                        }\r\n                    \r\n                    \r\n
    \                   \r\n                        \r\n                    \r\n                \r\n
    \               \r\n                \r\n            \r\n\r\n\r\n<&#47;blockquote>\r\n\r\nКод
    находится в отдельном файле, по месту вызывается "
- id: 217292
  author: Андрей
  author_email: a-a-u@mail.ru
  author_url: ''
  date: '2013-12-26 10:41:31 +0400'
  date_gmt: '2013-12-26 06:41:31 +0400'
  content: ''
- id: 217293
  author: Андрей
  author_email: a-a-u@mail.ru
  author_url: ''
  date: '2013-12-26 10:41:57 +0400'
  date_gmt: '2013-12-26 06:41:57 +0400'
  content: include (TEMPLATEPATH . '&#47;form_contakt.php');
- id: 217295
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-12-26 10:57:21 +0400'
  date_gmt: '2013-12-26 06:57:21 +0400'
  content: |-
    я так понимаю код побился? Если да, то это моя вина, а если нет, то такой код будет плохо работать xDDDD

    Если код побился, то скиньте мне лучше на почту весь код. через форму обратной связи. у себя протестирую.
- id: 218796
  author: Артем
  author_email: artikus.sol@gmail.com
  author_url: http://artabr.ru
  date: '2014-01-10 22:45:41 +0400'
  date_gmt: '2014-01-10 18:45:41 +0400'
  content: 'Приветствую! Возник такой вопрос: А можно ли данную форму привязать к
    кнопке? То есть, сделать так, чтобы была, например, страница, на странице расположена
    кнопка, допустим, называется сия кнопка "Написать письмо". По нажатию на такую
    кнопку появлялась бы данная форма. И это все в вордпрессе. Такое вообще возможно?
    Заранее благодарю за ответ.'
- id: 218815
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-01-11 01:32:04 +0400'
  date_gmt: '2014-01-10 21:32:04 +0400'
  content: Если речь идёт о модальном окне, то, конечно, это возможно. И в WordPress
    тоже. Но уже как вы реализуете и какие у вас требования это другой вопрос. Если
    вы хотите полную динамику без перегрузки страницы, то код будет совсем другой.
    Хотя это будет полностью костыльно, мне кажется лучше отдельную страницу.
- id: 218819
  author: Артем
  author_email: artikus.sol@gmail.com
  author_url: http://artabr.ru
  date: '2014-01-11 01:47:09 +0400'
  date_gmt: '2014-01-10 21:47:09 +0400'
  content: Согласен, костыль конкретный получается. Придется jQuery прикручивать и
    тд... В обще проще ссылку на почтовый адрес поставить. У меня не магазин, пойдет
    и так. Спасибо...
- id: 223638
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2014-02-09 20:04:47 +0400'
  date_gmt: '2014-02-09 16:04:47 +0400'
  content: Андрей, у Вас в форме обратной связи три поля разного размера для сообщения.
    Для чего они все?
- id: 223646
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-02-09 21:40:29 +0400'
  date_gmt: '2014-02-09 17:40:29 +0400'
  content: Они для обмана ботов, которые спамят. И по идеи, они не видны обычным пользователям
    (если только мигнут быстренько), потому что скрываются с помощью JavaScript. Если
    они видны, то в браузере не работает JS или отключен или ещё что с JS.
- id: 223794
  author: Светлана
  author_email: mir_rebenka@inbox.ru
  author_url: http://ncuxolog.astrakraft.ru/
  date: '2014-02-10 09:54:01 +0400'
  date_gmt: '2014-02-10 05:54:01 +0400'
  content: Понятно. Спасибо.
- id: 224294
  author: Олег
  author_email: alekspervik@mail.ru
  author_url: http://alcoformer.ru/karta-sayta
  date: '2014-02-13 20:35:42 +0400'
  date_gmt: '2014-02-13 16:35:42 +0400'
  content: Вы просто гений!!! Сегодня поставил форму обратной связи, делал все так,
    как у Вас написано... взял готовый код, вставил, переименовал файл, залил на сервер...
    о майн гот!  все получилось и я избавился от ненужного плагина. Подпишусь на обновления
    вашего блога, однозначно, и занесу в избранное!
- id: 225566
  author: Андрей
  author_email: jokefither@gmail.com
  author_url: ''
  date: '2014-02-27 16:02:05 +0400'
  date_gmt: '2014-02-27 12:02:05 +0400'
  content: "Не приходят сообщения на почту, я раскомментил и вбил свой мэил \r\n        $emailTo
    = '*****@gmail.com';"
- id: 225580
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-02-27 21:10:06 +0400'
  date_gmt: '2014-02-27 17:10:06 +0400'
  content: Почитайте <a href="http:&#47;&#47;paperplane.su&#47;feedback-wordpress&#47;#div-comment-154574"
    rel="nofollow">этот комментарий<&#47;a>. Может быть помогут рекомендации.
- id: 227980
  author: Андрей
  author_email: andro1990@mail.ru
  author_url: ''
  date: '2014-03-28 14:17:06 +0400'
  date_gmt: '2014-03-28 10:17:06 +0400'
  content: Добрый день, Подскажите пожалуйста, как можно на главной странице, в верхнем
    меню сайта сделать кнопку, при нажатии по которой откроется модальное окно с данной
    формой(форма будет поверх страницы, а фон прозрачный и затемненный)? Спасибо.
- id: 227983
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-03-28 16:07:02 +0400'
  date_gmt: '2014-03-28 12:07:02 +0400'
  content: Хм, данная задача может быть реализованна различными способами. Но так
    или иначе для полноценной работы потребуются существенные изменения. Поскольку
    я так понял вы хотите, чтобы форма работала динамически, а в нынешнем варианте
    она работает с перегрузкой страницы. Для помещения формы в модальное окно по url
    можно воспользоваться любой из <a href="https:&#47;&#47;www.google.ru&#47;#newwindow=1&amp;q=jquery+модальное+окно"
    rel="nofollow">многочисленных jQuery-библиотек<&#47;a>, в другом случае можно
    сделать скрытый контейнер, на главной странице который и будет пихаться в модальное
    окно. Подобных примеров хватает в каждой документации к каждой библиотеке, что
    вы найдёте. Но есть проблема будет в ответах пользователю. Если не вносить никаких
    изменений, то при отправке из модального окна письмо может и отправится, но пользователь
    ничего не узнает и даже ошибки ему не покажутся. Так что в принципе тут нужено
    фактически весь код переработать и сделать его динамически работающим на основе
    одной из найденных вами библиотек. =)
- id: 231406
  author: Иван
  author_email: ishamshur@yandex.ru
  author_url: http://biznesguide.ru
  date: '2014-05-19 11:35:10 +0400'
  date_gmt: '2014-05-19 07:35:10 +0400'
  content: А не смотрели в сторону онлайн сервисов для генерации веб-форм? Я например,
    у себя на блоге поставил форму от http:&#47;&#47;formdesigner.ru. Доволен, есть
    и смс-уведомления.
- id: 231407
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-05-19 11:49:14 +0400'
  date_gmt: '2014-05-19 07:49:14 +0400'
  content: |-
    Альтернатива, но платная. Для формы обратной связи пробника конечно хватит, но дальше уже платить придётся. Плюс зачем простые решения заменять такими вот костылями через фреймы. Для меня такое неприемлемо конечно. Но многие с вами согласятся.

    PS: долго мучился оставить ссылку или нет, поскольку саморекламу не люблю, но в конце подумал: почему бы и нет.
- id: 231409
  author: Иван
  author_email: ishamshur@yandex.ru
  author_url: http://biznesguide.ru
  date: '2014-05-19 11:59:21 +0400'
  date_gmt: '2014-05-19 07:59:21 +0400'
  content: Ну для простых форм хватит и бесплатной версии, плюс не каждый сможет и
    захочет разбираться в этом php и html коде, некоторым проще создать форму в визуальном
    редакторе, получить готовый код и вставить его к себе на сайт. Для того, кто знаком
    с php конечно не составит труда создать и самому любую форму. Еще плюсом использования
    подобных конструкторов является то, что данные, кроме отсылки на почту, еще и
    хранятся на сайте, т.е. можно быстро отфильтровать нужные данные. Иногда это очень
    удобно.
- id: 231412
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-05-19 12:09:28 +0400'
  date_gmt: '2014-05-19 08:09:28 +0400'
  content: "Те кто не хочет разбираться в этом php и html стремительно уходят с этой
    статьи. Не для них писано. А те кто хочет будут разбираться, и в конце окажется,
    что и разбирать собственно нечего. Просто код вставить куда нужно и готово. А
    скилл прокачается. Может быть он на шаг ближе станет к умению программировать.
    Полезно же.\r\n\r\nНо в общем и целом, ваше поделие имеет право на жизнь. Я не
    против него. Есть целевая аудитория."
- id: 240248
  author: Наталия
  author_email: zavyalova-nataliya@yandex.ru
  author_url: ''
  date: '2014-10-21 09:06:56 +0400'
  date_gmt: '2014-10-21 05:06:56 +0400'
  content: "Большое спасибо за статью. Можно даже сказать огромное. Пришлось перебрать
    и перепробовать целую кучу всякого web-мусора с кривыми-косыми кодами и бестолковыми
    инструкциями, прежде, чем добралась до Вашего блога. Но зато, как говорится, \"почувствуйте
    разницу\" :))\r\n\r\nЕсть три вопроса.\r\n1. Какую функцию выполняют значения
    атрибута value в полях имя и E-mail? \r\n<code>value=\"<?php if(isset($_POST['contactName']))
    echo $_POST['contactName'];?>\r\nи\r\nvalue=\"<?php if(isset($_POST['email']))
    \ echo $_POST['email'];?>\"<&#47;code>\r\n\r\n2. Как можно вставить в форму блок
    с чекбоксом \"Отправить мне копию\"? Т.е. как их прописать в HTML-структуре я
    знаю, вопрос какой кусок кода вставить в обработчик, чтобы копия отправлялась
    отправителю.\r\n\r\n3. Как сделать так, чтобы после отправки сообщения на странице
    присутствовал только блок с извещением об успешной отправке (div class=\"thanks\")
    и не было самой формы?"
- id: 240350
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-10-23 22:12:13 +0400'
  date_gmt: '2014-10-23 18:12:13 +0400'
  content: |-
    Добрый день. Извините за задержку в ответе. Нет мне оправдания.

    1. Атрибут value содержит дефолтное значения поля после перегрузки страницы.

    2. и 3. я помогу решить в отдельном порядке за соответствующую плату. Если что пишите через форму обратной связи. Но если можете сами, то лучше сами, а то мои цены кусаются =))))
- id: 240417
  author: Наталия
  author_email: zavyalova-nataliya@yandex.ru
  author_url: ''
  date: '2014-10-24 23:05:00 +0400'
  date_gmt: '2014-10-24 19:05:00 +0400'
  content: "С третьим справилась, со вторым подумаю настолько ли оно мне надо, с первым
    разобралась, но есть вопрос. Я хочу, чтобы для залогиненных пользователей поля
    имя и адрес заполнялись автоматически. Соорудила вот такое условие (пример поля
    \"имя\", с адресом аналогично):\r\n<code>\r\n<input type=\"text\" name=\"contactName\"
    id=\"contactName\" class=\"required\" value=\"<?php \r\n    if ( is_user_logged_in()
    ) { \r\n    global $user_identity; \r\n    get_currentuserinfo(); \r\n    echo
    $user_identity;\r\n}\r\nif ( isset( $_POST['contactName'] ) ) \r\n    echo $_POST['contactName'];
    ?>\" &#47;>\r\n<&#47;code>\r\nИзначально всё заполняется правильно. Но при обновлении
    формы удваивается.Т.е. печатается два раза (Вася ИвановВася Иванов). Не подскажете
    где ошибка?"
- id: 240448
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-10-25 16:23:32 +0400'
  date_gmt: '2014-10-25 12:23:32 +0400'
  content: "Думаю второе не очень нужно. такое я почти нигде не видел. Да оно в общем-то
    и бесполезно.\r\n\r\nА на счёт бага, то поведение в вашем коде следующее: при
    первой загрузке помещается в поле имя из профиля, а при последующей помещаете
    имя из профиля и ещё из массива $_POST который содержит посланные на обработку
    данные. Собственно я бы рекомендовал делать так:\r\n\r\n<code><input type=\"text\"
    name=\"contactName\" id=\"contactName\" class=\"required\" value=\"<?php \r\nif
    ( isset( $_POST['contactName'] ) ) \r\n    echo $_POST['contactName']; \r\nelse
    if ( is_user_logged_in() ) { \r\n    global $user_identity; \r\n    get_currentuserinfo();
    \r\n    echo $user_identity;\r\n}\r\n?>\" &#47;><&#47;code>\r\n\r\nКод не проверял,
    но должен работать. Смысл такой, что если не было POST-запроса, то размещаем имя
    из профиля, а если запрос был, то размещаем пришедшие данные. Хотя и этот код
    не идеален =)"
- id: 248538
  author: Антон
  author_email: chehonte12061@mail.ru
  author_url: ''
  date: '2015-03-29 01:35:27 +0300'
  date_gmt: '2015-03-28 21:35:27 +0300'
  content: а этот код куда прописывать надо?
- id: 248539
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-03-29 01:41:32 +0300'
  date_gmt: '2015-03-28 21:41:32 +0300'
  content: Нужно создать индивидуальный шаблон для страницы. Собственно всю статью
    и рассказывается про то как сделать этот шаблон, но если что можете отдельно про
    это погуглить.
- id: 248555
  author: Антон
  author_email: chehonte12061@mail.ru
  author_url: ''
  date: '2015-03-29 11:23:47 +0300'
  date_gmt: '2015-03-29 07:23:47 +0300'
  content: У меня в шаблоне уже вшитая форма обратки. Работает нормально. Вот только
    решил ее "модернизировать". Поэтому и спрашиваю куда это надо вписывать
- id: 248558
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-03-29 14:34:51 +0300'
  date_gmt: '2015-03-29 10:34:51 +0300'
  content: Не знаю. Я без понятия как реализованна ваша вшитая форма, потому ничего
    путного сказат не могу. В принципе, можно просто вторую форму сделать и её показывать.
- id: 248599
  author: антон
  author_email: chehonte12061@mail.ru
  author_url: ''
  date: '2015-03-30 19:14:36 +0300'
  date_gmt: '2015-03-30 15:14:36 +0300'
  content: Разобрался. Форму вписал. Автоматически подставляет данные. Но!!!! Когда
    нажимаешь на кнопку отправить, пишет введите имя! Не в курсе почему?
- id: 248603
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-03-30 20:29:48 +0300'
  date_gmt: '2015-03-30 16:29:48 +0300'
  content: Я не очень представляю что у вас там происходит. Если вы в одну форму впиали
    другую, то может быть конфлик по посылаемым данным. Возможно на стороне сервера
    ожидаются одни данные, а вы отправляете другие. Проверьте чтобы на сервере ожидали
    именно то что вы посылаете
- id: 248655
  author: Антон
  author_email: chehonte12061@mail.ru
  author_url: ''
  date: '2015-03-31 20:58:10 +0300'
  date_gmt: '2015-03-31 16:58:10 +0300'
  content: Разобрался в чем была причина! Починил, теперь все равботает
- id: 270338
  author: Mir-On
  author_email: 1@1.ru
  author_url: ''
  date: '2016-02-28 20:47:14 +0300'
  date_gmt: '2016-02-28 16:47:14 +0300'
  content: "Спасибо за статью!\r\n\r\nРебят, попробуйте сервис от pozvonim.com\r\nПростая
    установка на любую cms, хорошая поддержка. Не сочтите за рекламу, ссылка не реферальная,
    просто можно взять и попробовать на тестовый период. А потом уже решить подходит
    или нет. Цены как у всех, можно пакеты брать, а можно количество клиентов или
    минут. Лидогенерация очень высокая, а окупаемость быстрая. Может кому пригодится
    мой комментарий"
- id: 276596
  author: артем
  author_email: lodka1972@mail.ru
  author_url: ''
  date: '2016-06-04 09:00:20 +0300'
  date_gmt: '2016-06-04 05:00:20 +0300'
  content: здравствуйте. данная форма ос отлично работала на php-5.3. при переходе
    на последнюю версию php-7.0 письма не приходят на рабочий адрес. подскажите, пожалуйста,
    как подружить данный код с php-7. спасибо.
---
<p><a href="http:&#47;&#47;image.paperplane.su&#47;2012&#47;06&#47;feedback.png"><img class="alignleft size-medium wp-image-2533" title="Форма обратной связи в WordPress" src="http:&#47;&#47;image.paperplane.su&#47;2012&#47;06&#47;feedback-300x300.png" alt="Форма обратной связи в WordPress" width="300" height="300" &#47;><&#47;a>В WordPress есть кучи плагинов, которые позволяют добавить <strong>форму обратной связи<&#47;strong> в блог, но использовать плагины - это не тру. Почему плагины - это плохо я рассказывать не буду, об этом можете почитать подробнее в статье про <a title="WordPress - удаление лишних плагинов" href="http:&#47;&#47;paperplane.su&#47;wordpress-udalenie-lishnix-plaginov&#47;" target="_blank">удаление лишних плагинов<&#47;a>.&nbsp;А в этой статье я постараюсь донести до вас то, как можно сделать контактную форму для вашей темы WordPress без плагина. Притом форма будет содержать 4 поля: имя, мыло, тема и сообщение. Будет использована валидация данных, как на сервере, так и на клиенте динамически с помощью библиотеки jQuery. Ну что же, приступим!</p>
<h2>Создание индивидуального шаблона<&#47;h2><br />
Для начало создадим индивидуальный шаблон для страницы, на которой будет находится наша форма обратной связи. В дальнейшем этот индивидуальный шаблон вы должны применить для нужной страницы (установить в атрибутах страницы этот шаблон), чтобы отобразить форму в нужном месте. Для создания шаблона скопируйте файл <em>page.php<&#47;em> из вашей темы и переименуйте его в <em>feedback.php<&#47;em>. Далее, для обозначения, что это индивидуальный шаблон в начало нужно добавить комментарий:<br />
[cce lang="php"]<?php<br />
&#47;*<br />
Template Name: Feedback<br />
*&#47;<br />
?>[&#47;cce]<br />
В зависимости от вашей темы остальной исходный код страницы может выглядеть по-разному, но минимально необходимый для <em>feedback.php<&#47;em> должен быть примерно следующим:<br />
[cce lang="php"]<?php<br />
&#47;*<br />
Template Name: Feedback<br />
*&#47;<br />
?></p>
<p><?php get_header() ?></p>
<div id="container">
<div id="content">
			<?php the_post() ?></p>
<div id="post-<?php the_ID() ?>" class="post"></p>
<div class="entry-content">
				<&#47;div><br />
			<&#47;div><br />
		<&#47;div><br />
	<&#47;div></p>
<p><?php get_sidebar() ?><br />
<?php get_footer() ?>[&#47;cce]<br />
Всё, теперь индивидуальный шаблон под названием <em>Feedback<&#47;em> готов.</p>
<h2>Создание формы обратной связи<&#47;h2><br />
Теперь необходимо создать HTML-код самой формы обратной связи. Для этого просто вставьте следующий код в контейнер <em>entry-content<&#47;em>:<br />
[cce lang="php"]<br />
<form action="<?php the_permalink(); ?>" id="contactForm" method="post"></p>
<p>Ваше имя (обязательно):<br &#47;><br />
		<input type="text" name="contactName" id="contactName"&nbsp;class="required" value="<?php if(isset($_POST['contactName'])) echo $_POST['contactName'];?>" &#47;><br />
		<?php if(isset($nameError) && $nameError != '') { ?><br />
			<span class="error"><?=$nameError;?><&#47;span><br />
		<?php } ?><br />
	<&#47;p></p>
<p>Ваш E-Mail (обязательно):<br &#47;><br />
		<input type="text" name="email" id="email"&nbsp;class="required email" value="<?php if(isset($_POST['email']))  echo $_POST['email'];?>" &#47;><br />
		<?php if(isset($emailError) && $emailError != '') { ?><br />
			<span class="error"><?=$emailError;?><&#47;span><br />
		<?php } ?><br />
	<&#47;p></p>
<p>Тема:<br &#47;><br />
		<input type="text" name="subject" id="subject" value="<?php if(isset($_POST['subject']))  echo $_POST['subject'];?>" &#47;><br />
	<&#47;p></p>
<p>Сообщение (обязательно):<br &#47;><br />
		<textarea name="comments" id="commentsText" rows="20" cols="30"&nbsp;class="required"><?php if(isset($_POST['comments'])) { if(function_exists('stripslashes')) { echo stripslashes($_POST['comments']); } else { echo $_POST['comments']; } } ?><&#47;textarea><br />
		<?php if(isset($commentError) && $commentError != '') { ?><br />
			<span class="error"><?=$commentError;?><&#47;span><br />
		<?php } ?><br />
	<&#47;p><br />
	<input type="submit" class="button" value="Отправить сообщение"&#47;><br />
	<input type="hidden" name="submitted" id="submitted" value="true" &#47;><br />
<&#47;form>[&#47;cce]<br />
Ничего сложного в этом коде нет. Тут выводятся 4 поля: имя, мыло, тема письма и текст письма. Плюсь одно скрытое поле <em>hidden<&#47;em> для того, чтобы в дальнейшем определить отсылалась форма или нет. Так же вы можете видеть PHP-код, который я приготовил заранее для восстановление внесенных данных в поля после неудачной отсылки и вывод ошибок.</p>
<h2>Обработка данных и ошибок<&#47;h2><br />
Наша форма выглядит довольно неплохо, но, правда, она совсем бесполезна, потому что пока не умеет отправлять сообщение на почту. Чтобы форма стала полноценной, необходимо написать PHP-код, который проверит входные данные и если поля были заполнены правильно, то отправит письмо администратору блога, в противном случаи выдаст ошибку.</p>
<p>На счет адреса отправления сообщения. Он будет браться из профайла администратора блога. Если вам нужно указать другую почту, то можете поменять у себя в админском профайле свою почту или ручками железно вбить в коде (ниже в коде я обозначил где).</p>
<p>Для реализации обработки данных необходимо вставить следующий код после комментариев объявляющих шаблон и до функции <em>get_header()<&#47;em>:<br />
[cce lang="php"]<?php<br />
if(isset($_POST['submitted'])) {<br />
	if(trim($_POST['contactName']) === '') {<br />
		$nameError = 'Пожалуйста, введите ваше имя.';<br />
		$hasError = true;<br />
	} else {<br />
		$name = trim($_POST['contactName']);<br />
	}</p>
<p>	if(trim($_POST['email']) === '')  {<br />
		$emailError = 'Пожалуйста, введите адрес вашей электронной почты.';<br />
		$hasError = true;<br />
	} else if (!preg_match("&#47;^[[:alnum:]][a-z0-9_.-]*@[a-z0-9.-]+\.[a-z]{2,4}$&#47;i", trim($_POST['email']))) {<br />
		$emailError = 'Адрес электронной почты некорректный.';<br />
		$hasError = true;<br />
	} else {<br />
		$email = trim($_POST['email']);<br />
	}</p>
<p>	if(trim($_POST['subject']) === '') {<br />
		$subject = 'Сообщение с сайта';<br />
	} else {<br />
		$subject = stripslashes(trim($_POST['subject']));<br />
	}</p>
<p>	if(trim($_POST['comments']) === '') {<br />
		$commentError = 'Пожалуйста, введите ваше сообщение.';<br />
		$hasError = true;<br />
	} else {<br />
		$comments = stripslashes(trim($_POST['comments']));<br />
	}</p>
<p>	if(!isset($hasError)) {<br />
		$emailTo = get_option('tz_email');<br />
		if (!isset($emailTo) || ($emailTo == '') ){<br />
			$emailTo = get_option('admin_email');<br />
		}<br />
		&#47;&#47; тут можно железно установить почту для отправки письма, например так:<br />
		&#47;&#47; $emailTo = 'admin@site.ru';<br />
		$body = "Имя: $name \n\nEmail: $email \n\nСообщение: $comments";<br />
		$headers = 'From: '.$name.' <'.$emailTo.'>' . "\r\n" . 'Reply-To: ' . $email;</p>
<p>		wp_mail($emailTo, $subject, $body, $headers);<br />
		$emailSent = true;<br />
		unset($_POST);<br />
	}</p>
<p>} ?>[&#47;cce]<br />
Это место расположение кода обоснованно тем, что если поставить его после <em>get_header()<&#47;em>, то весь глобальный массив <em>_POST<&#47;em>&nbsp;будет отчищен, что нам не на руку.</p>
<p>Тут все так же просто, вначале проверяем отсылалась ли форма и правильно ли она заполнена. В случае ошибки (пустое поле или неправильный электронной адрес почты), то будет возвращена ошибка, которая отобразится на форме.</p>
<p>Для полной наглядности можно в случаи ошибки или удачной отсылки письма выдать соответствующее сообщение пользователю. Для этого необходимо перед началом формы (перед тегом <em><br />
<form><&#47;em>) вставить следующий код:<br />
[cce lang="php"]<?php if(isset($emailSent) &amp;&amp; $emailSent == true) { ?></p>
<div class="thanks">
<p>Спасибо за ваше письмо. Я постараюсь, как можно скорее на него ответить.<&#47;p><br />
	<&#47;div><br />
<?php } else { ?><br />
	<?php the_content(); ?><br />
	<?php if(isset($hasError)) { ?></p>
<p class="error">Извините, но отправить письмо не удалось. Возможно вы допустили ошибки при заполнении формы.
<p>
	<?php } ?><br />
<?php } ?>[&#47;cce]<br />
Теперь форма обратной связи полностью рабочая и может принимать от ваших клиентов&#47;читателей&#47;поклонников сообщения. Но есть одни существенный недочет, она будет принимать сообщения и от всех спам-машин, который забредают на ваш сайт, что я считаю крайне плохо.</p>
<h2>Боремся со спамом<&#47;h2><br />
Чтобы исключить спам сообщения, которые отсылают боты пачками, нужно вставить чуть-чуть дополнительного кода. Этот код должен их обманывать ботов. Этот метод не является новинкой, он довольно давно и с успехом борется со спамом. Мы создадим дополнительное поле, которое будет видит робот, а нормальный пользователь видеть не будет, т.е. робот будет его заполнять, а пользователь не будет. И тогда при проверке и отсылки письма, если это поле будет заполнено, то мы сразу поймем, что это спам.</p>
<p>Давайте попробуем это реализовать. Сперва установим это новое поле и сделаем его невидимым для пользователей. Поле у нас будет <em>textarea<&#47;em>, чтобы сделать вид, что сюда нужно вписывать основной текст сообщения. А невидимым мы его сделаем с помощью JavaScript. Да, если у пользователя будет отключен JS, то ему будут видны оба поля, что будет не очень красиво, но сейчас в большей степени у всех JS включен. Вставим поле перед нашим основным полем для сообщения:<br />
[cce lang="php"]<textarea name="comments1" id="commentsText1" rows="20" cols="30" class="required"><&#47;textarea><br />
<script><br />
	window.onload = function(){<br />
		document.getElementById('commentsText1').style.display ='none';<br />
	}<br />
<&#47;script>[&#47;cce]<br />
Тут ничего сложного, просто обратите внимание, что атрибуты поля <em>name<&#47;em> и <em>id<&#47;em>&nbsp;являются уникальными и не повторяют атрибуты ваших других полей. В JS мы просто прописываем этому полю CSS-стиль <em>display: none<&#47;em>. Теперь вы это поле не увидите при загрузке страницы, а бот увидит, поскольку боты не умеют интерпретировать JS код и не видят, как будет выглядеть страница преобразованная JS.</p>
<p>Как видите тут использован голый JS, если кто очень хочет, то он может его заменить на код jQuery библиотеки. Хотя это является более тяжелым для машины клиента (не забудьте только проконтролировать подключена ли эта библиотека), но зато более удобным для некоторых:<br />
[cce lang="php"]<script type="text&#47;javascript"><br />
	$(document).ready(function(){<br />
		$('#commentsText1').hide();<br />
	});<br />
<&#47;script>[&#47;cce]<br />
Ну в общем, так или иначе, у вас в данный момент должно быть готово&nbsp;невидимое&nbsp;для пользователя дополнительное поле. Теперь надо его обработать в PHP, т.е. просто проверить, если оно заполнено, то это бот и мы ему сделаем внушение, в противном случаи пропустим дальше и отправим письмо. Для этого вставим следующий код в самом начале обработки данных формы (после проверки отправленности письма):<br />
[cce lang="php"]if($_POST['comments1'] != '') {<br />
	die("Get out!");<br />
}[&#47;cce]<br />
Тут всё просто, если поле <em>comments1<&#47;em> не пустое, то бот попался и мы ему просто вываливаем сообщение, чтобы он убирался отсюда и более ничего не делаем. </p>
<p>И еще один момент. Чтобы боты не "обучались" я рекомендую сделать другими атрибуты <em>name<&#47;em> и <em>id<&#47;em> этого нового поля, т.е. не <em>comments1<&#47;em> и <em>commentsText1<&#47;em>, а что-нибудь другое. А то вдруг кто-то сообразит и добавить такие поля в исключения. Так же не рекомендую в именах использовать намеки на то, что это поля специальна для спама (типа <em>comments-spam<&#47;em>), они должны максимально походить на настоящие поля, которые заполняет пользователь.</p>
<h2>Полный код формы обратной связи<&#47;h2><br />
Чтобы у вас не возникло никаких проблем я предоставлю конечный получившийся код формы обратной связи с борьбой против спама:<br />
[cce lang="php"]<?php<br />
&#47;*<br />
Template Name: Feedback<br />
*&#47;<br />
?></p>
<p><?php<br />
if(isset($_POST['submitted'])) {<br />
	if($_POST['comments1'] != '') {<br />
		die("Get out!");<br />
	}</p>
<p>	if(trim($_POST['contactName']) === '') {<br />
		$nameError = 'Пожалуйста, введите ваше имя.';<br />
		$hasError = true;<br />
	} else {<br />
		$name = trim($_POST['contactName']);<br />
	}</p>
<p>	if(trim($_POST['email']) === '')  {<br />
		$emailError = 'Пожалуйста, введите адрес вашей электронной почты.';<br />
		$hasError = true;<br />
	} else if (!preg_match("&#47;^[[:alnum:]][a-z0-9_.-]*@[a-z0-9.-]+\.[a-z]{2,4}$&#47;i", trim($_POST['email']))) {<br />
		$emailError = 'Адрес электронной почты некорректный.';<br />
		$hasError = true;<br />
	} else {<br />
		$email = trim($_POST['email']);<br />
	}</p>
<p>	if(trim($_POST['subject']) === '') {<br />
		$subject = 'Сообщение с сайта';<br />
	} else {<br />
		$subject = stripslashes(trim($_POST['subject']));<br />
	}</p>
<p>	if(trim($_POST['comments']) === '') {<br />
		$commentError = 'Пожалуйста, введите ваше сообщение.';<br />
		$hasError = true;<br />
	} else {<br />
		$comments = stripslashes(trim($_POST['comments']));<br />
	}</p>
<p>	if(!isset($hasError)) {<br />
		$emailTo = get_option('tz_email');<br />
		if (!isset($emailTo) || ($emailTo == '') ){<br />
			$emailTo = get_option('admin_email');<br />
		}<br />
		&#47;&#47; тут можно железно установить почту для отправки письма, например так:<br />
		&#47;&#47; $emailTo = 'admin@site.ru';<br />
		$body = "Имя: $name \n\nEmail: $email \n\nСообщение: $comments";<br />
		$headers = 'From: '.$name.' <'.$emailTo.'>' . "\r\n" . 'Reply-To: ' . $email;</p>
<p>		wp_mail($emailTo, $subject, $body, $headers);<br />
		$emailSent = true;<br />
		unset($_POST);<br />
	}</p>
<p>} ?></p>
<p><?php get_header(); ?></p>
<div id="container">
<div id="content">
		<?php if (have_posts()) : while (have_posts()) : the_post(); ?></p>
<div <?php post_class() ?> id="post-<?php the_ID(); ?>"></p>
<h1 class="entry-title"><?php the_title(); ?><&#47;h1></p>
<div class="entry-content">
			<?php if(isset($emailSent) &amp;&amp; $emailSent == true) { ?></p>
<div class="thanks">
<p>Спасибо за ваше письмо. Я постараюсь как можно скорее на него ответить.<&#47;p><br />
				<&#47;div><br />
			<?php } else { ?><br />
				<?php the_content(); ?><br />
				<?php if(isset($hasError)) { ?></p>
<p class="error">Извините, но отправить письмо не удалось. Возможно вы допустили ошибки при заполнении формы.
<p>
				<?php } ?><br />
			<?php } ?></p>
<form action="<?php the_permalink(); ?>" id="contactForm" method="post"></p>
<p>Ваше имя (обязательно):<br &#47;><br />
					<input type="text" name="contactName" id="contactName"&nbsp;class="required" value="<?php if(isset($_POST['contactName'])) echo $_POST['contactName'];?>" &#47;><br />
					<?php if(isset($nameError) && $nameError != '') { ?><br />
						<span class="error"><?=$nameError;?><&#47;span><br />
					<?php } ?><br />
				<&#47;p></p>
<p>Ваш E-Mail (обязательно):<br &#47;><br />
					<input type="text" name="email" id="email"&nbsp;class="required email" value="<?php if(isset($_POST['email'])) echo $_POST['email'];?>" &#47;><br />
					<?php if(isset($emailError) && $emailError != '') { ?><br />
						<span class="error"><?=$emailError;?><&#47;span><br />
					<?php } ?><br />
				<&#47;p></p>
<p>Тема:<br &#47;><br />
					<input type="text" name="subject" id="subject" value="<?php if(isset($_POST['subject'])) echo $_POST['subject'];?>" &#47;><br />
				<&#47;p></p>
<p>Сообщение (обязательно):<br &#47;><br />
					<textarea name="comments1" id="commentsText1" rows="20" cols="30" class="required"><&#47;textarea><br />
					<script><br />
						window.onload = function(){<br />
							document.getElementById('commentsText1').style.display ='none';<br />
						}<br />
					<&#47;script><br />
					<textarea name="comments" id="commentsText" rows="20" cols="30"&nbsp;class="required"><?php if(isset($_POST['comments'])) { if(function_exists('stripslashes')) { echo stripslashes($_POST['comments']); } else { echo $_POST['comments']; } } ?><&#47;textarea><br />
					<?php if(isset($commentError) && $commentError != '') { ?><br />
						<span class="error"><?=$commentError;?><&#47;span><br />
					<?php } ?><br />
				<&#47;p><br />
				<input type="submit" class="button" value="Отправить сообщение"&#47;><br />
				<input type="hidden" name="submitted" id="submitted" value="true" &#47;><br />
			<&#47;form><br />
		<&#47;div><br />
	<&#47;div><br />
<?php endwhile; endif; ?><br />
<&#47;div><br />
<&#47;div></p>
<p><?php get_sidebar(); ?><br />
<?php get_footer(); ?>[&#47;cce]<br />
Как видите, тут вставлен основной цикл WordPress и вывод текста страницы. Потому вы можете написать любой текст при создании страницы и он будет отображаться перед самой формой. Удобно.</p>
<h2>Улучшаем вид<&#47;h2><br />
Для того чтобы форма выглядела чуток получше можно добавить немного стилей. Все классы уже прописаны осталось только описать их в CSS-стилях. Тут я приведу только небольшой пример, который растянет все поля на всю ширину контента, а то так поля маленькие и неказистые. В файл <em>style.css<&#47;em>&nbsp;вашей темы добавьте следующий код:<br />
[cce lang="css"]#contactName{<br />
width:100%;<br />
}<br />
#email{<br />
width:100%;<br />
}<br />
#subject{<br />
width:100%;<br />
}<br />
#commentsText{<br />
width:100%;<br />
}<br />
span.error{<br />
color:red;<br />
}[&#47;cce]<br />
Вот теперь все поля растянулись. На свое усмотрение можете сделать стили под свой дизайн, чтобы форма не казалась посторонним элементом.</p>
<h2>Проверка формы<&#47;h2><br />
Сейчас контактная форма работает отлично, в том числе и проверка введенных данных, но она происходит на сервере, что требует перезагрузки страницы. Можно сделать дополнительную проверку введенных данных на стороне клиента с помощью JavaScript. <strong>Но если вам этого не нужно, то можете не читать дальше, форма и без этого работает.<&#47;strong> Точнее с помощью jQuery и специального плагина <a title="jQuery Validation Plugin" href="http:&#47;&#47;docs.jquery.com&#47;Plugins&#47;Validation" target="_blank">jQuery Validation Plugin<&#47;a>. Этот плагин является довольно мощным и позволяет быстро и легко проверить введенные данные на корректность.</p>
<p>Для начала, необходимо скачать плагин и загрузить его в свою тему в каталог <em>&#47;js<&#47;em>. После этого создать файл <em>verification.js<&#47;em> со следующим содержимым:<br />
[cce lang="js"]$(document).ready(function(){<br />
	$("#contactForm").validate();<br />
});[&#47;cce]<br />
Этот файл необходимо так же разместить в папке <em>&#47;js<&#47;em> вашей темы.</p>
<p>Теперь необходимо связать JavaScript файлы с темой. Для этого откройте файл темы <em>header.php<&#47;em> и вставьте следующий код между тегов <em><head><&#47;em>&nbsp;и <em><&#47;head><&#47;em>:<br />
[cce lang="js"]<?php if( is_page('contact') ){ ?><br />
	<script type="text&#47;javascript" src="<?php bloginfo('template_directory'); ?>&#47;js&#47;jquery.validate.min.js"><&#47;script><br />
	<script type="text&#47;javascript" src="<?php bloginfo('template_directory'); ?>&#47;js&#47;verif.js"><&#47;script><br />
<?php }?>[&#47;cce]<br />
При условии, что страница с формой имеет URL <em>contact<&#47;em>. На крайний случай этот код можно вставить в индивидуальный шаблон, сделанный выше, без условия конечно же.</p>
<p>После этого, ваша форма будет проверяться на стороне клиента с помощью jQuery. Плагин работает очень просто. Он выбирает элемент формы, который обозначен определенным классом, и проверяет его. Если элемент формы заполнен не правильно, то выдается сообщение об ошибке. Плагин является очень мощным и с ним можно много полезного сделать, однако это уже выходит за рамки данной статьи.</p>
<blockquote><p>
Любая помощь по данному коду (вопросы, установка, доработка и т.д.)<strong> являются платными услугами<&#47;strong>. Пишите через форму обратной связи, если готовы оплатить мою работу. Если вопрос нет, то берём и устанавливаем &ndash; благо, я всё дал и разжевал.<br />
<&#47;blockquote></p>
<p>На этом у меня все. Надеюсь этот пост поможет вам сделать форму обратной связи без плагина для WordPress. Ваше мнение о коде и предложения жду в комментариях. Всем удачи!</p>

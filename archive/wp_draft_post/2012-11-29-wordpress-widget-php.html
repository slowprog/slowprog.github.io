---
layout: post
status: publish
published: true
title: PHP в виджете WordPress
author:
  display_name: SlowProg
  login: seoadmin
  email: paperplanesu@rambler.ru
  url: http://paperplane.su
author_login: seoadmin
author_email: paperplanesu@rambler.ru
author_url: http://paperplane.su
wordpress_id: 2700
wordpress_url: http://paperplane.su/?p=2700
date: '2012-11-29 13:56:27 +0400'
date_gmt: '2012-11-29 09:56:27 +0400'
categories:
- Без плагина
tags:
- PHP
- виджет
comments:
- id: 125516
  author: Мухаммад
  author_email: aknada_maga@mail.ru
  author_url: http://compusers.ru/
  date: '2012-11-29 21:30:10 +0400'
  date_gmt: '2012-11-29 17:30:10 +0400'
  content: Круто, опробую и отпишусь. Правильно сделал что объяснения поставил, но
    что такое хук?
- id: 125523
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-29 21:36:52 +0400'
  date_gmt: '2012-11-29 17:36:52 +0400'
  content: "<strong>Хук<&#47;strong> (hook) - это перехват выполнения основного кода
    WordPress и внедрение туда своей функции, что тут и продемонстрировано. Другими
    словами, при каждом выполнении определенных своих функций WordPress будет проверять
    &ndash; не привязана ли к этой функции какая-нибудь пользовательская, и, если
    таковая находится, то после выполнения функции движка запускается пользовательская."
- id: 125525
  author: Мухаммад
  author_email: aknada_maga@mail.ru
  author_url: http://compusers.ru/
  date: '2012-11-29 21:39:23 +0400'
  date_gmt: '2012-11-29 17:39:23 +0400'
  content: "добавил код в functions.php в конец - сайт не рухнул.\r\n\r\nубрал виджет
    PHP Widget с вызовом \"топа комм-ов\", поставил текстовый виджет и в него вызов
    \"топа комм-ов\", обновил страницу - топ пропал.\r\n\r\nдеактивировал плагин PHP
    Widget, обновил страницу - топа все еще нет\r\n\r\nЧто же не так?"
- id: 125556
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-29 22:32:20 +0400'
  date_gmt: '2012-11-29 18:32:20 +0400'
  content: Я проблему понял, сейчас модернизирую код. Обождите чуток =) Это все капризная
    функция eval
- id: 125565
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-29 22:43:59 +0400'
  date_gmt: '2012-11-29 18:43:59 +0400'
  content: Так, в конце концов я понял что не так =) Вроде поправил, попробуйте =)
- id: 125573
  author: Мухаммад
  author_email: aknada_maga@mail.ru
  author_url: http://compusers.ru/
  date: '2012-11-29 22:50:20 +0400'
  date_gmt: '2012-11-29 18:50:20 +0400'
  content: "Все еще не работает!\r\nшутка :-) все работает. Благодарствую. \"равно
    истине\" поменял на \"неравно лжи\"?"
- id: 125576
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-29 22:55:41 +0400'
  date_gmt: '2012-11-29 18:55:41 +0400'
  content: "Да! Я ваще ступил, забыл что функция <em>strpos<&#47;em> возвращает FALSE,
    если искомая строка не найдена, а если найдена, то возвращает позицию, в которой
    находится искомая строка, относительно начала, т.е. циферку! TRUE она ваще не
    возвращает \r\n\r\nИдиот >_<\r\n\r\nЭто даже следует из наименования функции.
    ну бывает. Я сегодня болею немного, потому мне позволительно тупить =)"
- id: 125578
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-29 22:56:58 +0400'
  date_gmt: '2012-11-29 18:56:58 +0400'
  content: И там даже не "неравно лжи", а "неэквивалентно лжи". Это разные немного
    операторы. "!= " не равно "!==" =))))))))
- id: 126431
  author: Вера
  author_email: vera.veralog@yandex.ru
  author_url: http://www.caticat.ru
  date: '2012-11-30 19:49:43 +0400'
  date_gmt: '2012-11-30 15:49:43 +0400'
  content: Класс! Супер! Легко и просто! СПАСИБО от благадарных юзеров!
- id: 126453
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-30 20:25:27 +0400'
  date_gmt: '2012-11-30 16:25:27 +0400'
  content: Не за что!! Подписывайтесь и будет больше вкусняшек =)
- id: 126538
  author: Сергей
  author_email: antoshkin_80@mail.ru
  author_url: ''
  date: '2012-11-30 23:13:29 +0400'
  date_gmt: '2012-11-30 19:13:29 +0400'
  content: Все работает. <strong>Спасибо большое<&#47;strong>!
- id: 126551
  author: Сергей
  author_email: antoshkin_80@mail.ru
  author_url: ''
  date: '2012-11-30 23:38:28 +0400'
  date_gmt: '2012-11-30 19:38:28 +0400'
  content: Классный блог, ещё раз спасибо автору. Ваши хуки все работают, в отличие
    хуков с других блогов, хорошо когда человек разбирается в том,что пишет. Другие
    в основном копируют хуки,  а потом добавляют своё описание, совершенно не понимая
    как это все работает. Подписался на ваш блог, кстати совершенно случайно вас нашел
    и очень рад этому.
- id: 126560
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-11-30 23:50:52 +0400'
  date_gmt: '2012-11-30 19:50:52 +0400'
  content: Стараюсь =) А на счет копипасты, то это ваще беда. Я уже пару раз ругался
    с блоггерами занимающимися тупой копипастой. Пытался до них донести, что ладно
    они скопировали код, дык они должны заниматься еще и его поддержкой, у читателей
    постоянно возникают вопросы по коду, нужно их консультировать, что-то править.
    А то я видал такие блоги, где автор отвечает только на благодарственные комментарии,а
    на технические молчит. Просто смешно. Мне бы было стыдно =)
- id: 126569
  author: Сергей
  author_email: antoshkin_80@mail.ru
  author_url: ''
  date: '2012-12-01 00:06:15 +0400'
  date_gmt: '2012-11-30 20:06:15 +0400'
  content: Ваша правда! Задаешь вопрос - "почему у меня там то не работает, а тут
    выводится с ошибкой....",   в ответ тишина. Стоит только написать "Спасибо за
    статью" и сразу ответ. К вам с такими вопросами я ещё не обращался, потому что
    пока тьфу.. тьфу.., все работает. По переписки видно, что вы в случае возникновения
    проблем, отвечаете и стараетесь помочь таким чайникам как я, и это здорово. Ещё
    раз спасибо, буду следить за выходом новых статей.
- id: 126625
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-12-01 01:58:24 +0400'
  date_gmt: '2012-11-30 21:58:24 +0400'
  content: И правда тьфу... тьфу... =)) И у меня бывают заминки, иногда испытываю
    затруднения, но обычно все равно находим выход из ситуации =)
- id: 129565
  author: Людмила
  author_email: bychevaj@yandex.ru
  author_url: http://ludmilca.ru/
  date: '2012-12-15 21:10:54 +0400'
  date_gmt: '2012-12-15 17:10:54 +0400'
  content: Я не поняла. Код , который вы привели в статье я вставила  в functions.php.  А
    какой код вставлять в виджет? Объясните чайнику.
- id: 129566
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-12-15 21:16:23 +0400'
  date_gmt: '2012-12-15 17:16:23 +0400'
  content: В <em>function.php<&#47;em> добавили код из статьи и всё. Теперь в виджет
    можно писать любой PHP-код, который будет отрабатывать.
- id: 129584
  author: Людмила
  author_email: bychevaj@yandex.ru
  author_url: http://ludmilca.ru/
  date: '2012-12-15 23:51:45 +0400'
  date_gmt: '2012-12-15 19:51:45 +0400'
  content: Опять не поняла. А какой код для вывода комментариев нужно в веси в виджет.
    Чего я только не перепробовала., не получается.
- id: 129585
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-12-16 00:02:02 +0400'
  date_gmt: '2012-12-15 20:02:02 +0400'
  content: Каких комментариев? ТОПа комментаторов или чего именно? Вообще, тема этой
    статьи о том, как заставить работать PHP-код в виджетах, а дальше всё что вставляется
    в виджеты уже выходит за рамки статьи. Дальше что вы считаете нужным, то и вставляете,
    этой статьи это уже не касается.
- id: 129880
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-12-18 16:07:35 +0400'
  date_gmt: '2012-12-18 12:07:35 +0400'
  content: "Вот вы установили этот код и теперь у вас работает PHP в виджетах. Чтобы
    вставить тот же ТОП комментаторов в виджет, необходимо код функции (ТОПа) разместить
    в файле <em>functions.php<&#47;em> (собственно, как и обычно), а саму функцию
    вызвать уже из просто из виджета, а не из файла, но вызов совершенно такой же:\r\n<code><?php
    sp_top_commentator(); ?><&#47;code>"
- id: 129882
  author: Людмила
  author_email: bychevaj@yandex.ru
  author_url: http://ludmilca.ru/
  date: '2012-12-18 16:13:52 +0400'
  date_gmt: '2012-12-18 12:13:52 +0400'
  content: Спасибо. Теперь поняла.
- id: 130005
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2012-12-19 22:38:16 +0400'
  date_gmt: '2012-12-19 18:38:16 +0400'
  content: Оченно полезная штука. Спасиб. Блинн, я топ комментов уже по старой схеме
    сделал, перед тем как этот пост прочёл, теперь переделывать неохота. :-D
- id: 130006
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2012-12-19 22:39:25 +0400'
  date_gmt: '2012-12-19 18:39:25 +0400'
  content: И не надо же! По старой схеме это круче! это ТРУ! Для крутых парней xDDDD
- id: 130008
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2012-12-19 22:44:05 +0400'
  date_gmt: '2012-12-19 18:44:05 +0400'
  content: Жесть. :)))) Как написано на сайте моей девушки - "<strong>СДЕЛАНО РУКАМИ<&#47;strong>".
    :)))
- id: 130067
  author: Лариса
  author_email: larisa2228@gmail.com
  author_url: http://kylinarik.ru
  date: '2012-12-20 10:07:00 +0400'
  date_gmt: '2012-12-20 06:07:00 +0400'
  content: Спасибо за код. Давно этот вопрос у меня возникал, и вот ответ. Еще раз,
    спасибо!
- id: 130601
  author: Абдикарим
  author_email: ucheba6162@gmail.com
  author_url: http://stabdengi.ru
  date: '2012-12-24 18:37:56 +0400'
  date_gmt: '2012-12-24 14:37:56 +0400'
  content: Возьму на заметку...пока не сталкивался с такой проблемой. Главное просто
    и понятно...
- id: 132004
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-01-03 21:03:48 +0400'
  date_gmt: '2013-01-03 17:03:48 +0400'
  content: Есть предложение, точнее тема для новой статьи из рубрики "без плагина".
    Слайдшоу на WP без плагина, врукопашную. :)
- id: 132030
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-04 01:41:06 +0400'
  date_gmt: '2013-01-03 21:41:06 +0400'
  content: Слайдшоууууу, ну это будет как-то немного коряво, в плане, картинки нужно
    будет ссылками вставлять. И этот список ссылок уже крутить как слайдшоу, т.е.
    картинки придется загружать через сам WP или по FTP, и это не очень красиво, но
    в принципе реализуемо.
- id: 132035
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-01-04 02:50:32 +0400'
  date_gmt: '2013-01-03 22:50:32 +0400'
  content: Я слегка ошибся. Не слайдшоу, а слайдер. Просто слайдер. На jquery, к примеру.
- id: 132045
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-04 04:44:52 +0400'
  date_gmt: '2013-01-04 00:44:52 +0400'
  content: |-
    Хм хм, ну я так и подумал. Типа слайдер с любым содержимым? И содержимое прямо в функции задавать или можно выдирать из специального файла? Как-то каряво получается. Я даже не знаю =(

    Сейчас у меня на подходе другие "без плагины". Так что об этом пока рано думать =)
- id: 132117
  author: Андрей
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-01-04 20:52:01 +0400'
  date_gmt: '2013-01-04 16:52:01 +0400'
  content: Просто предложение. Нет так нет.
- id: 132118
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-04 20:53:19 +0400'
  date_gmt: '2013-01-04 16:53:19 +0400'
  content: НУ почему сразу нет, я в голове приму к сведению. Будут идеи - реализую
    и напишу =)
- id: 132122
  author: Сергей
  author_email: antoshkin_80@mail.ru
  author_url: ''
  date: '2013-01-04 21:31:06 +0400'
  date_gmt: '2013-01-04 17:31:06 +0400'
  content: Жду с нетерпением, эти вот "без плагины"! :)
- id: 132194
  author: fabervox
  author_email: fabervox@yandex.ru
  author_url: ''
  date: '2013-01-05 12:14:56 +0400'
  date_gmt: '2013-01-05 08:14:56 +0400'
  content: И даже если блоггер не знает решения, он ведь и не старается помочь когда
    не знает. А ведь иногда просто не догадываешься что может быть не так, и достаточно
    лишь получить очевидный ответ, чтобы начать копать в правильном направлении.
- id: 132196
  author: fabervox
  author_email: fabervox@yandex.ru
  author_url: http://seorv.ru
  date: '2013-01-05 12:29:40 +0400'
  date_gmt: '2013-01-05 08:29:40 +0400'
  content: "Но плагин обладает некоторой пользой для разработчика.\r\n\r\nИнтересно
    было бы посмотреть на реализацию одной в функции в разных упаковках:\r\n- на чистом
    листе(не в WP вообще).\r\n- в WP но не в виде плагина.\r\n- в виде плагина для
    WP.\r\n\r\nКонечно это наверно немного не то что обычно пишите. Но для начинающих
    разработчиков было бы весьма полезно.\r\n\r\nУ меня вот в WP пока руки доходят
    только что-то по инструкции сделать, иногда починить, ну и чуток поменять дизайн(тут
    скорее проблема в том что с CSS пока не особо разбирался).\r\n\r\nА вот чисто
    на PHP уже что-то своими руками получается, благо ваш совет не пользоваться книжками,
    а сразу разбираться с API  очень помог."
- id: 132206
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-05 16:16:25 +0400'
  date_gmt: '2013-01-05 12:16:25 +0400'
  content: "Не совсем понял.  Вы хотите поглядеть реализацию любой функции в 3х ипостасях?
    =))) И без разницы какую, главное увидеть разницу. Я так понял?\r\n\r\nНа счет
    PHP и книг. Без книг можно быстро подхватить и начать что-то писать, но в книгах
    тонкости некоторые интересные рассказываются, потому после прохождение определенного
    порога теорию надо почитать. Про различные алгоритмы, изучить их работу, чтобы
    в голове были. Например алгоритмы сортировки, деревья, графы и др. Не обязательно
    по книгам, но мат. часть важна =)"
- id: 132207
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-05 16:23:21 +0400'
  date_gmt: '2013-01-05 12:23:21 +0400'
  content: "Верно, примерно так на форумах программистов действуют. Там не любят давать
    сразу полный ответ, а дают направления в которых капать, ссылоки на теорию или
    еще что. Хотя конечно в конце концов кто-то пишет ответ на вопрос. Но если бы
    вопрошаемый сам докапывался до истины, то знаний и понимания больше оставалось
    бы в его голове, что очень важно.\r\n\r\nТак что, <strong>ТОВАРИЩИ БЛОГГЕРЫ<&#47;strong>,
    не стесняй копать, искать, гуглить, читать уйму текста, разбираться, понимать
    и пить чай в поисках ответа на ваш вопрос, и только если это всё не принесло плодов
    обращаться за помощью (это относится вообще ко всем) =))))"
- id: 133880
  author: Сергей
  author_email: seregadadk@mail.ru
  author_url: http://dayafternight.ru/
  date: '2013-01-18 03:04:49 +0400'
  date_gmt: '2013-01-17 23:04:49 +0400'
  content: Спасибо!) Минус 1 бесполезный плагин)))
- id: 133908
  author: fabervox
  author_email: fabervox@yandex.ru
  author_url: http://seorv.ru
  date: '2013-01-18 12:04:36 +0400'
  date_gmt: '2013-01-18 08:04:36 +0400'
  content: "Да, любой маломальски полезной(т.е. не абстрактной).\r\n\r\nНу а мат.часть
    понятно что нужна."
- id: 133927
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-01-18 17:39:27 +0400'
  date_gmt: '2013-01-18 13:39:27 +0400'
  content: Думаю руки у меня до этого не скоро дойдут =)
- id: 135945
  author: Максим
  author_email: wmnetwork@mail.ru
  author_url: http://www.webdiabet.ru/
  date: '2013-02-04 16:27:17 +0400'
  date_gmt: '2013-02-04 12:27:17 +0400'
  content: "Спасибо SlowProg за хук. Никак не срабатывал в виджетах php код. День
    проковырялся, а потом мысль посетила, что надо сделать чтобы срабатывал php код.
    Забил в яндекс \"сделать PHP в виджете на WP\" и сразу нарвался на вашу статью.
    Через пять минут всё заработало.\r\nСпасибо!!! Сайт в закладки добавил."
- id: 136373
  author: Ярослав
  author_email: jariv@bk.ru
  author_url: http://kuhnyaholostyaka.ru
  date: '2013-02-07 17:33:31 +0400'
  date_gmt: '2013-02-07 13:33:31 +0400'
  content: "День добрый!\r\nХочу поблагодарить за несомненно ценную информацию о PHP
    в виджете WordPress - не знал, как это сделать. А топ комментаторов без плагина
    очень хотелось заиметь на свое блоге - благодаря Вам мне это удалось."
- id: 136376
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-07 17:56:43 +0400'
  date_gmt: '2013-02-07 13:56:43 +0400'
  content: Не за что! Подписывайтесь и может быть я еще чего полезного подброшу =))))
- id: 136383
  author: Ярослав
  author_email: jariv@bk.ru
  author_url: http://jariv@bk.ru
  date: '2013-02-07 18:45:18 +0400'
  date_gmt: '2013-02-07 14:45:18 +0400'
  content: С удовольствием подписываюсь :)
- id: 138556
  author: Нина Жуперина
  author_email: new.nzh@gmail.com
  author_url: http://mojbiznes.ru/
  date: '2013-02-24 02:13:41 +0400'
  date_gmt: '2013-02-23 22:13:41 +0400'
  content: Огромное спасибо за PHP в виджетах! А то тыкала-тыкала этот код PHP в sidebar.php,
    и все получалось не так, как хотелось. Вставила в виджет - красота!!!
- id: 139008
  author: Андрей
  author_email: a.rybolovlev@gmail.com
  author_url: http://masterservis52.ru
  date: '2013-02-28 15:38:04 +0400'
  date_gmt: '2013-02-28 11:38:04 +0400'
  content: Добрый день, не приживается этот код в файле, стоит воткнуть, как сайтбар
    сползает вниз под статью. Что посоветуете?
- id: 139013
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-28 18:03:11 +0400'
  date_gmt: '2013-02-28 14:03:11 +0400'
  content: Т.е. когда в functions.php код вставляете уже тогда всё съезжает? или когда
    сам виджет с PHP начинаете использовать??? Но в любом случае вряд ли сам код виноват,
    может быть не так вставляете, попробуйте в разные места в functions.php. Желательно
    посмотреть в исходном коде страницы почему съезжает сайдбар, тогда решение может
    придти само собой =)
- id: 139022
  author: Сергей
  author_email: antoshkin_80@mail.ru
  author_url: ''
  date: '2013-02-28 18:51:42 +0400'
  date_gmt: '2013-02-28 14:51:42 +0400'
  content: У меня тоже такое было, вам просто нужно уменьшить размер аватарок в самом
    скрипте или вывод количества аватарок в ряд, вместо трех , две например. Просто
    у вас ширина сайдбара слишком маленькая. Надеюсь поможет.
- id: 141899
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 16:42:11 +0400'
  date_gmt: '2013-03-23 12:42:11 +0400'
  content: Вставляю код в функцию и сайт ложится через 5 минут. Это у меня только
    одного так?
- id: 141900
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 16:47:40 +0400'
  date_gmt: '2013-03-23 12:47:40 +0400'
  content: 'И так и сяк вставляю. Пишет: public_html&#47;wp-content&#47;themes&#47;adsimple&#47;functions.php:115
    и всё тут и ничерта не грузится.'
- id: 141901
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-23 16:47:59 +0400'
  date_gmt: '2013-03-23 12:47:59 +0400'
  content: "Нет, не у одного. Но все у кого это было не верно что-то делали. И что
    значит \"Вставляю код в функцию\"? Функция это файл <em>functions.php<&#47;em>?
    \r\n\r\nВ общем, обычно проблемы с самой вставкой, если раньше не имели дело,
    то прочитайте статью о <a href=\"http:&#47;&#47;paperplane.su&#47;insert-functions-wordpress&#47;\"
    rel=\"nofollow\">вставке кода в functions.php<&#47;a>."
- id: 141902
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-23 16:48:48 +0400'
  date_gmt: '2013-03-23 12:48:48 +0400'
  content: Неужели только это пишет? Никаких пояснений к ошибке? И что находится в
    115 строке?
- id: 141903
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 17:01:48 +0400'
  date_gmt: '2013-03-23 13:01:48 +0400'
  content: в 115 строке наодится код, который представлен на сайте. Как может быть
    такое, что сайт работает, а потом ложится из-за этой функции?
- id: 141904
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 17:02:10 +0400'
  date_gmt: '2013-03-23 13:02:10 +0400'
  content: кода то есть)
- id: 141911
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 17:25:47 +0400'
  date_gmt: '2013-03-23 13:25:47 +0400'
  content: "Короче говоря, вот конец моего файла functions:\r\n\"\t\t\t\r\n          'div-comment',
    'depth' => $depth, 'max_depth' => $args['max_depth']))) ?>\r\n\t\t\r\n\t\r\n\"\r\nМежду
    \r\n\" <strong>}\r\n\r\n?><&#47;strong> \"\r\nВставляю код, который Вы написали
    выше и всё перестаёт работать. Что не так делаю?"
- id: 141912
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 17:26:55 +0400'
  date_gmt: '2013-03-23 13:26:55 +0400'
  content: "Чего-то плохо скопировалось. Вот конец файла \"\t\t\t 'div-comment', 'depth'
    => $depth, 'max_depth' => $args['max_depth']))) ?>\r\n\t\t\r\n\t\r\n \""
- id: 141913
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 17:29:44 +0400'
  date_gmt: '2013-03-23 13:29:44 +0400'
  content: Короче говоря, вставляю код который на Вашем сайте в конец своего файла
    functions, между } и ?>. Сохраняю файл и всё ложится. Что не так делаю?
- id: 141916
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 17:56:41 +0400'
  date_gmt: '2013-03-23 13:56:41 +0400'
  content: "Короче слушайте прикол. Захожу на ФТП, копирую себе на комп functions.php.
    Захожу в файл, в самом конце между } и ?> аставляю код который представлен в статье.
    Сохраняю на компе. Захожу на ФТП, удаляю файл functions.php, после чего закидываю
    туда свой, в котором вставлял дополнительный код для php. Сайт, работает 5 минут
    и ложится. Ничего не помагает.\r\nБешусь, прыгаю, скочу, отписываюсь здесь на
    сайте и т.д. После этого, захожу на ФТП, удаляю function.php, который был дополнен
    кодом и тот же самый файл с исправлением по новой закидываю. И что Вы думаете?
    Работает. Я вообще понять не могу ничего. Один и тот же файл, а нормально заработал
    только после перезаливки. Причём, я 100% ничего не перепутал с файлами function.
    Капец блин.\r\nВладельцу сайта спасибо."
- id: 141918
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-23 18:11:10 +0400'
  date_gmt: '2013-03-23 14:11:10 +0400'
  content: Ну вы намучались xDDD Бывает. У вас может какой плагин кэширования стоит?
    Если да, то может быть какой конфликт с ним возникает, сложно сказать. Но хорошо
    что всё заработало по каким то фантастическим причинам xDDD
- id: 141921
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 18:19:19 +0400'
  date_gmt: '2013-03-23 14:19:19 +0400'
  content: Да не говори. Сумашествие какое-то ёлы-палы.
- id: 141929
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 19:21:17 +0400'
  date_gmt: '2013-03-23 15:21:17 +0400'
  content: 'SlowProg, ты вроде шаришь во всех этих фишках. Короче есть небольшая проблемка.
    Куда-то запёр код с сапой, что он ниже футера показывается. Было давно, не помню,
    не судите строго. Вот сайт blogkritik.ru. Вопрос такой: в каком файле висит код
    сапы? Никак допереть не могу. Сразу говорю в футере его нет.'
- id: 141936
  author: Андрей
  author_email: meneger@mail.by
  author_url: ''
  date: '2013-03-23 20:03:45 +0400'
  date_gmt: '2013-03-23 16:03:45 +0400'
  content: Всё. Проблему решил.
- id: 141937
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-03-23 20:08:45 +0400'
  date_gmt: '2013-03-23 16:08:45 +0400'
  content: Я, как всегда, опоздал. За ты свои скиллы прокачал =)))
- id: 143133
  author: Миша
  author_email: mail@mikhailmazel.ru
  author_url: http://blog.mikhailmazel.ru/
  date: '2013-04-03 11:58:40 +0400'
  date_gmt: '2013-04-03 07:58:40 +0400'
  content: Большое спасибо.... Я только начал неделю назад осваивать ВордПресс, и
    столкнувшись с проблемой вставки PHP в тестовый виджет сайдбара, сразу поиском
    попал к Вам - Ваша Функция вставка помогла, за что огромное спасибо.
- id: 143136
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-04-03 12:20:41 +0400'
  date_gmt: '2013-04-03 08:20:41 +0400'
  content: |-
    Не за что! Рад помочь!

    PS:Хорошая у вас памятка получилась, объёмистая =)))
- id: 148826
  author: Алишер
  author_email: alex.otaboev@gmail.com
  author_url: http://worldfinanceblog.ru/
  date: '2013-04-22 20:01:43 +0400'
  date_gmt: '2013-04-22 16:01:43 +0400'
  content: "Спасибо за очередной замечательный хак! \r\nЯ избавился еще от одного
    плагина))\r\nС вами мой сайт совсем станет легким и быстрым!)"
- id: 155471
  author: BUTAMUHbI4
  author_email: musornoevedro@mail.ru
  author_url: http://BUTAMUHbI4.ru
  date: '2013-05-11 16:21:45 +0400'
  date_gmt: '2013-05-11 12:21:45 +0400'
  content: сначала сделал всё, что надо непосредственно в файле сайдбар.пхп, но недавно
    изменились потребности некоторые и воспользовался вашим фильтром. спасибо.
- id: 155494
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-05-11 17:14:13 +0400'
  date_gmt: '2013-05-11 13:14:13 +0400'
  content: Не за что =) Рад что пригодилось. У меня ещё есть разные безплагины, поглядите,
    может чего пригодится =))))
- id: 160664
  author: Дмитрий
  author_email: Skeeve@mail.ru
  author_url: ''
  date: '2013-05-25 15:18:58 +0400'
  date_gmt: '2013-05-25 11:18:58 +0400'
  content: "добавил в конец function.php\r\n\r\nно ошибка\r\nFatal error: Call to
    undefined function add_filter() in &#47;wp-includes&#47;functions.php"
- id: 160736
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-05-25 19:19:14 +0400'
  date_gmt: '2013-05-25 15:19:14 +0400'
  content: 'Под кодом функции есть ссылка <a href="http:&#47;&#47;paperplane.su&#47;insert-functions-wordpress&#47;"
    rel="nofollow">вставка кода в functions.php<&#47;a>. Там про functions.php сказано:
    <strong>Это вспомогательный файл, который есть в каждой теме WordPress.<&#47;strong>
    Ваша тема находится явно не в <em>&#47;wp-includes&#47;<&#47;em> и получается,
    что это не тот functions.php. Ищите нужный functions.php в <em>&#47;wp-content&#47;themes&#47;name_your_theme&#47;<&#47;em>,
    где <em>name_your_theme<&#47;em> это название вашей темы.'
- id: 164629
  author: Сергей
  author_email: serega.penza58@gmail.com
  author_url: http://mobile-dom.ru
  date: '2013-06-05 11:23:05 +0400'
  date_gmt: '2013-06-05 07:23:05 +0400'
  content: Плагин Antivirus ругается на этот код. Ему не нравятся слова eval и ob_get_contents.
    В чём проблема? Не опасно ли использование данного кода?
- id: 164810
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-06-06 23:13:18 +0400'
  date_gmt: '2013-06-06 19:13:18 +0400'
  content: Ну чисто теоретически опасно. В другой вселенной нашёлся бы способ внедрить
    чужой код в ваш виджет и исполнить его. Правда, в нашей вселенной это мало вероятно,
    но это не говорит что невозможно. На ваш страх и риск, так сказать =)
- id: 165842
  author: Поток Сознания
  author_email: hulitolku@gmail.com
  author_url: http://www.ruszud.com
  date: '2013-06-10 23:39:16 +0400'
  date_gmt: '2013-06-10 19:39:16 +0400'
  content: Негативная сторона этого метода какая?
- id: 165848
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-06-10 23:46:39 +0400'
  date_gmt: '2013-06-10 19:46:39 +0400'
  content: В сравнении с чем? С плагином - нужно иметь прямые руки, чтобы не напортачить.
    С отсутствием такой возможности - в виджете исполняется код PHP. Может быть последнее
    делает потенциальную дыру, хотя я точно не могу об этом сказать. Мне кажется скорее
    нет, чем да. Но если кто найдёт возможность как в виджет запихать сторонний код,
    то будет уязвимость.
- id: 169368
  author: Наталья
  author_email: natalia.podlipalina@yandex.ru
  author_url: http://www.tvorchestvaidei.ru/
  date: '2013-06-28 00:42:41 +0400'
  date_gmt: '2013-06-27 20:42:41 +0400'
  content: везде поделилась - очень полезный скрипт)))
- id: 181423
  author: Юрий
  author_email: boluiv@gmail.com
  author_url: ''
  date: '2013-08-26 13:56:31 +0400'
  date_gmt: '2013-08-26 09:56:31 +0400'
  content: Как вставить javascript код в виджет?
- id: 181444
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-08-26 19:33:11 +0400'
  date_gmt: '2013-08-26 15:33:11 +0400'
  content: "А есть сложности? Просто как часть HTML вносите в обычный текстовый виджет
    в тегах соответствующих:\r\n<code><script>\r\n&#47;&#47; JS-код\r\n<&#47;script><&#47;code>"
- id: 183030
  author: Елена Олейникова
  author_email: scorpionsakh@yandex.ru
  author_url: http://olejnikova.ru/
  date: '2013-09-06 02:34:10 +0400'
  date_gmt: '2013-09-05 22:34:10 +0400'
  content: "Стыд не дым, глаза не выест :-)\r\nЯ тоже встречала блогеров, которые
    соловьем разливаются, когда нужно впарить свой инфопродукт сомнительного качества,
    а на какие-то конкретные вопросы технического плана ответ один - обратитесь к
    фрилансерам.\r\nВ своем блоге тоже решила вывести ТОП без плагинов, но столкнулась
    с проблемой вставки кода, которая решилась после установки плагина <strong>PHP
    Code Widget<&#47;strong>. \r\nНо ведь не хочется нагружать блог лишними плагинами.
    С подсказки Артема (автора блога http:&#47;&#47;artabr.ru) вышла на вас. И все
    получилось!!!\r\nПравда, лишь со второй попытки и после того, как блог рухнул.
    Но тут я сама виновата, потому что сначала скопировала код к себе в документ,
    так, про запас, авось еще пригодится, а потом уже с этого документа вставила в
    файл functions.php. \r\nВот хорошо, что экспериментировала на тестовом блоге,
    который завела на Бегете. У них есть отличная штука, как файловый менеджер, который
    высвечивает все ошибки. \r\nВ файле functions.php он прям красными точками показал,
    где ошибка. Я удалила этот код и уже копировала напрямую от вас в файл functions.php.
    В этом случае никаких ошибок не было и ТОП комментаторов стоит, как влитой.\r\nНадеюсь,
    мой печальный опыт кого-то убережет от подобной ошибки. А вам спасибо огромное!
    Пошла дальше осваивать премудрости установки всяких плюшек без плагинов :-)"
- id: 183080
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-09-06 10:09:28 +0400'
  date_gmt: '2013-09-06 06:09:28 +0400'
  content: "Рад, что пользу принёс ещё кому-то =)\r\n\r\nВ следующий раз копируйте
    только в текстовый редактор (и то только по необходимости) он никаких изменений
    не вносит."
- id: 183084
  author: Елена Олейникова
  author_email: scorpionsakh@yandex.ru
  author_url: http://olejnikova.ru/
  date: '2013-09-06 10:40:59 +0400'
  date_gmt: '2013-09-06 06:40:59 +0400'
  content: "Конечно, я этот урок уже усвоила :-)\r\nДумаю, что \"следующих разов\"
    будет немало, тут у вас есть чему поучиться. Жаль только не нашла ничего про древовидные
    комментарии. Вот ведь меня на них просто закоротило, втемяшилось - хочу и точка,
    и уже всю голову сломала, как их сделать в новом блоге. Он почему-то не поддерживает
    эту функцию, и плагины тоже не работают. Не подскажете, в чем тут дело? Мне посоветовали
    скопировать файл comments.php с темы, где есть древовидные комментарии, и вставить
    в свою, но что-то боязно. Это операция не для средних умов, вдруг накосячу :-("
- id: 183086
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-09-06 10:51:24 +0400'
  date_gmt: '2013-09-06 06:51:24 +0400'
  content: Ну делать древовидные комментарии в теме, где они не поддерживаются относительно
    сложно, да. Можно файл этот скопировать, но бывает не достаточно. Вы попробуйте,
    если что откатитесь обратно. Попытка не пытка =)
- id: 183590
  author: Елена Олейникова
  author_email: scorpionsakh@yandex.ru
  author_url: http://olejnikova.ru/
  date: '2013-09-10 02:09:28 +0400'
  date_gmt: '2013-09-09 22:09:28 +0400'
  content: А почему теперь, после вставки вашего кода, ругается антивирус на вот это
    <strong>eval<&#47;strong> и <strong>ob_get_contents<&#47;strong>?
- id: 183592
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-09-10 02:21:02 +0400'
  date_gmt: '2013-09-09 22:21:02 +0400'
  content: Ну он верно делает. Эти функции по сути своей не безопасны. Они ведь исполняют
    код в своём теле. Разные вредоносные скрипты их используют. Ругаться будут.
- id: 183600
  author: Елена Олейникова
  author_email: scorpionsakh@yandex.ru
  author_url: http://olejnikova.ru/
  date: '2013-09-10 03:52:57 +0400'
  date_gmt: '2013-09-09 23:52:57 +0400'
  content: "И что делать? Не обращать внимание?\r\nКстати, сегодня попробовала плагин
    Exploit Scanner и вообще опупела. Как и большинство блогеров, я в этих кодах ни
    ухом ни рылом, но про всякие закодированные штуки слышала. И когда увидела кучу
    желтых строчек, в которых, в частности, был и такой код <strong>base64_decode,
    eval, iframe<&#47;strong>, то задумалась. Все на ту же тему - что делать-то? Дело
    в том, что и TAC, и Антивирус, и сторонние сервисы говорят, что все ОК, а этот
    какой-то дотошный попался. То, что он нашел, из серии \"лучше перебдеть, чем недобдеть\",
    или он на самом деле что-то серьезное нарыл? Вы как к этому плагину относитесь?"
- id: 245133
  author: Иван
  author_email: zarobotook2013@yandex.ru
  author_url: http://web-zarabotok.info/
  date: '2015-01-04 04:12:36 +0300'
  date_gmt: '2015-01-04 00:12:36 +0300'
  content: 'Все сделал! Но php не показываются. Вместо них Fatal error: Call to undefined
    function codbanner() in что мне с этим делать?'
- id: 245136
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-01-04 04:59:26 +0300'
  date_gmt: '2015-01-04 00:59:26 +0300'
  content: php и не должен показываться, а должен исполняться. А codbanner() должен
    быть описан в functions.php активной темы тогда код его исполнится.
- id: 245150
  author: Иван
  author_email: zarobotook2013@yandex.ru
  author_url: http://web-zarabotok.info/
  date: '2015-01-04 12:07:12 +0300'
  date_gmt: '2015-01-04 08:07:12 +0300'
  content: А как эго вписать? Поясните пожалуйста! А то я баран в этом?
- id: 245156
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-01-04 15:12:01 +0300'
  date_gmt: '2015-01-04 11:12:01 +0300'
  content: "Эм. А для чего вообще вы затеяли php в виджетах исполнять? Обычно это
    и является самоцелью. У вас есть какая-то функция или код, которую вы хотели бы
    там исполнить? Обычно эту функцию размещают в файле functions.php вашей активной
    темы, туда же куда вы должны были разместить и код из этой статьи. И после этого
    функцию можно вызывать из виджетов как из обычного php-кода из шаблона. \r\n\r\nЯ
    даже не знаю чего объяснять. Если у вас есть какие-то конкретные вопросы или проблемы,
    то пишите и я постараюсь ответить."
- id: 265053
  author: Евгений
  author_email: evgeniy71rus@yandex.ru
  author_url: ''
  date: '2015-12-08 16:21:16 +0300'
  date_gmt: '2015-12-08 12:21:16 +0300'
  content: 'Не работает! выводит HTML-сущности: <?php echo ''<a href="#">далее<&#47;a>'';
    ?>'
- id: 266238
  author: Светлана
  author_email: admin@ncuxolog.ru
  author_url: ''
  date: '2015-12-15 23:04:23 +0300'
  date_gmt: '2015-12-15 19:04:23 +0300'
  content: "сегодня обнаружила, что перестал работать этот код. Не знаю, что могло
    послужить причиной. Вечером обновила вордпресс, но случилось это до или после
    обновления не знаю. Очень жаль, что придется ставить плагин теперь.\r\nА до этого
    все работало отлично."
---
<p><a href="http:&#47;&#47;image.paperplane.su&#47;2012&#47;11&#47;widget-php.png"><img src="http:&#47;&#47;image.paperplane.su&#47;2012&#47;11&#47;widget-php-300x300.png" alt="PHP в виджете WordPress" title="PHP в виджете WordPress" width="300" height="300" class="alignleft size-medium wp-image-2702" &#47;><&#47;a>Всем пользователям WordPress известно, что такое виджеты и их возможности. И многие рано или поздно сталкиваются с тем, что необходимо разместить <strong>PHP-код в виджете<&#47;strong>, но к сожалению стандартная комплектация WordPress этого не позволяет. По непонятным причинам это запрещено делать. А ведь было бы так удобно всё делать через виджеты и не лезть на прямую в код файла <em>sidebar.php<&#47;em>. Например, это может пригодится при выводе различной дополнительной информации в зависимости от категории, в которой вы находитесь, или вызове самописной функции из <em>functions.php<&#47;em>. Для предоставления данной возможности существуют различные плагины, но это <a href="http:&#47;&#47;paperplane.su&#47;wordpress-udalenie-lishnix-plaginov&#47;" title="WordPress - удаление лишних плагинов" target="_blank">нехороший путь<&#47;a> и мы им не пойдем.</p>
<p>Вообще, данная идея родилась в процессе переписки в комментариях в статье про <a href="http:&#47;&#47;paperplane.su&#47;top-kommentatorov-bez-plagina-v-wordpress&#47;#comment-123724" title="Топ комментаторов без плагина в WordPress" target="_blank">ТОП комментаторов<&#47;a>. Проблема была в том, что многие блогеры используют виджеты для добавления функционала в свои сайдбары. Но совместное применение виджетов WordPress и прямого PHP-кода для вывода информации в <em>sidebar.php<&#47;em> рождает неудобную вещь: невозможность добавить PHP-кода между стандартными виджетами. Получается ТОП комментаторов можно разместить либо до виджетов, либо после них, что является не очень удобным. В принципе, решение данной проблемы я быстро нашел на <a rel="nofollow" href="http:&#47;&#47;www.tips4developer.com&#47;wordpress&#47;enable-execution-of-php-code-in-wordpress-text-widget-without-a-plugin&#47;" title="ENABLE PHP CODE EXECUTION IN WORDPRESS TEXT WIDGET WITHOUT A PLUGIN" target="_blank">забугорном блоге<&#47;a> и сейчас я вам его покажу и разжую.</p>
<p>И так, для того, чтобы вставлять PHP-код в виджет (чтобы он исполнялся) необходимо всего лишь в файл <em>functions.php<&#47;em> вашей темы вставить следующий код:<br />
[cce lang="text"]<br />
add_filter('widget_text','sp_widget_execute_php',100);<br />
function sp_widget_execute_php($text) {<br />
	if(strpos($text,'<?') !== false) {<br />
		ob_start();<br />
		eval('?>'.$text);<br />
		$text = ob_get_contents();<br />
		ob_end_clean();<br />
	}<br />
	return $text;<br />
}<br />
[&#47;cce]<br />
Если вы не знаете как вставлять код или у вас возникли проблемы с этим, то читайте статью <a href="http:&#47;&#47;paperplane.su&#47;insert-functions-wordpress&#47;" title="Вставка кода в functions.php" target="_blank">вставка кода в functions.php<&#47;a>.</p>
<p>C этим кодом обычный текстовый виджет по умолчанию будет исполнять любой PHP-код. Т.е. чтобы запихать код в сайдбар нужно пройти в админке WordPress во <em>Внешний вид<&#47;em> -> <em>Виджеты<&#47;em>, перетащить текстовый виджет (который просто называется <em>Текст<&#47;em>) в нужный сайдбар, заполнить его PHP-кодом и сохранить.</p>
<p>На этом, в принципе всё, но для особо любознательных давайте разберем, как работает эта функция:</p>
<ul>
<li><strong>Строка 1<&#47;strong>: функция <em>add_filter<&#47;em> устанавливает хук на вывод виджетов, тем самым перехватывая выводы всех виджетов. Т.е. теперь при каждом выводе виджета будет вызываться наша самописная функция <em>sp_widget_execute_php<&#47;em>. Третьим аргументом этой функции идет приоритет исполнения функции (в данном случаи 100), чем ниже приоритет тем раньше будет исполнятся функция (по умолчанию он равен 10). Это сделано, чтобы в нашу функцию поступал уже полностью измененный текст виджета, если его буду еще какие другие функции перехватывать.<br />
<&#47;li></p>
<li><strong>Строка 2<&#47;strong>: начало описания функции <em>sp_widget_execute_php<&#47;em>. Обратите внимание, что она принимает один аргумент, который и будет содержать текст виджета.<&#47;li>
<li><strong>Строка 3<&#47;strong>: ищем подстроку <em><?<&#47;em> внутри строки <em>$text<&#47;em>, и если она там находится, то это значит, что виджет содержит PHP-код т.к. этот тег обозначает начало PHP-кода (либо более длинный вариант <em><?php<&#47;em>, но он так же попадает под это условие).<&#47;li>
<li><strong>Строка 4<&#47;strong>: функция <em>ob_start<&#47;em> включает буферизацию вывода. Т.е. теперь весь генерируемый с помощью PHP HTML-код не будет выводится сразу на экран, а будет временно храниться во внутреннем буфере.<&#47;li>
<li><strong>Строка 5<&#47;strong>: функция <em>eval<&#47;em> исполняет PHP-код, содержащейся в аргументе. Но в начале аргумента необходимо поставить тег <em>?><&#47;em>, который обозначает окончание PHP-кода, потому что необходимо сообщить функции, что строка, содержащаяся в аргументе, может начинаться и с HTML. Например, если текст виджета содержит:<br />
[cce lang="php"]<?php echo $_SERVER['REMOTE_ADDR']; ?>[&#47;cce]<br />
то всё будет работать нормально, потому что строка начинается сразу с кода PHP. Но в другом случае:<br />
[cce lang="php"]Ваш IP: <?php echo $_SERVER['REMOTE_ADDR']; ?>[&#47;cce]<br />
<em>eval<&#47;em> отработает некорректно, т.к. всё, что идет до <em><?php<&#47;em> анализируется как PHP-код, и соответственно будет возвращаться ошибка. Вот почему текст виджета преобразовывается в следующий:<br />
[cce lang="php"]?>Ваш IP: <?php echo $_SERVER['REMOTE_ADDR']; ?>[&#47;cce]<br />
<&#47;li></p>
<li><strong>Строки 6<&#47;strong>: функция <em>ob_get_contents<&#47;em> возвращает содержимое внутреннего буфера вывода, в который накапливались результаты работы PHP. И эти результаты мы записали в переменную <em>$text<&#47;em>.<&#47;li>
<li><strong>Строка 7<&#47;strong>: функция <em>ob_end_clean<&#47;em> очищает буфер и отключает буферизацию вывода.<&#47;li>
<li><strong>Строка 9<&#47;strong>: В виджет, вместо самого кода PHP, возвращается результат его работы.<&#47;li><br />
<&#47;ul></p>
<p>Вот собственно и всё, теперь любой PHP-код будет исполнятся в ваших виджетах. Надеюсь мои подробные объяснения вам понравились, а то без них статья получалась совсем маленькая. Думаю дополнительные знания пойдут вам на пользу. Если возникли вопросы или предложения, то пишите в комментарии. Удачи!</p>

---
layout: post
status: publish
published: true
title: Вставка кода в functions.php
author:
  display_name: SlowProg
  login: seoadmin
  email: paperplanesu@rambler.ru
  url: http://paperplane.su
author_login: seoadmin
author_email: paperplanesu@rambler.ru
author_url: http://paperplane.su
wordpress_id: 2773
wordpress_url: http://paperplane.su/?p=2773
date: '2013-02-13 17:59:02 +0400'
date_gmt: '2013-02-13 13:59:02 +0400'
categories:
- Без плагина
tags:
- Wordpress
- PHP
- functions.php
- код
comments:
- id: 136974
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-13 19:06:14 +0400'
  date_gmt: '2013-02-13 15:06:14 +0400'
  content: Обязательное, просто необходимое на мой взгляд, замечание. Дополнить пост
    подробной инструкцией по изменению кодировки редактируемого файла в редакторе.
    И обязательной проверке кодировки перед редактированием (чтобы не делать одно
    и то же два раза подряд). Это для того, чтобы никто не делал квадратные глаза,
    глядя на непонятные символы, которые возникают при переводе continue reading...
    и т.п. :)
- id: 136977
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-13 19:13:12 +0400'
  date_gmt: '2013-02-13 15:13:12 +0400'
  content: Верно! Но у меня про это уже есть статья! Щас ссылочку поставлю на неё.
- id: 136982
  author: Алексей
  author_email: a_zurn@mail.ru
  author_url: http://na-kruchok.ru
  date: '2013-02-13 20:06:35 +0400'
  date_gmt: '2013-02-13 16:06:35 +0400'
  content: Я так понял из статьи, что это относится не только к   functions.php, а
    ко всем *.php? Или я заблуждаюсь, так как вы догадались, языка не знаю, а некоторые
    коды вставлять приходится, чтобы снять нагрузку на сайт вместо плагинов.
- id: 136986
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-13 20:21:19 +0400'
  date_gmt: '2013-02-13 16:21:19 +0400'
  content: Нуууу, на самом деле нет. Точнее, на счет не нарушения структуры, то это
    касательно только файлов *.php WordPress (может еще каких CMS). Но вообще делать
    это возможно и можно (например в самописных движках), просто архитектура WordPress
    не позволяет. Лучше особо не загоняться и принять это =)
- id: 136988
  author: Serpent
  author_email: rubtsov-gel@yandex.ru
  author_url: http://rubtsow.ru/
  date: '2013-02-13 20:26:32 +0400'
  date_gmt: '2013-02-13 16:26:32 +0400'
  content: Вот, так намного лучше. ))
- id: 137006
  author: Алексей
  author_email: a_zurn@mail.ru
  author_url: http://na-kruchok.ru
  date: '2013-02-13 23:08:46 +0400'
  date_gmt: '2013-02-13 19:08:46 +0400'
  content: Так далеко я не смотрел пока, мне бы сначала с движком WordPress и надо
    разбираться, так как блог именно на нем. Теперь буду внимательнее, ибо дров наломано
    достаточно. Спс за статью. Хочу выпустить за нее птичку.
- id: 137204
  author: ruskweb
  author_email: kobzic@yandex.ru
  author_url: http://ruskweb.ru
  date: '2013-02-15 14:30:19 +0400'
  date_gmt: '2013-02-15 10:30:19 +0400'
  content: воот, очень в тему :) помню сам по-первой совершал такую ошибку и удивлялся
    почему движок начинал глючить)
- id: 137205
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-02-15 14:53:02 +0400'
  date_gmt: '2013-02-15 10:53:02 +0400'
  content: У всех он был! Я когда WordPress первый раз в руки взял, хоть и прекрасно
    владел PHP, но все равно напоролся на эту граблю! А что уж говорит о людях для
    кого PHP - загадка. Теперь на эту статью буду со всех постов ссылки ставить, чтобы
    не задавали мне больше глупых вопросов xDDDD
- id: 137207
  author: ruskweb
  author_email: kobzic@yandex.ru
  author_url: http://ruskweb.ru
  date: '2013-02-15 14:56:09 +0400'
  date_gmt: '2013-02-15 10:56:09 +0400'
  content: это правильно) думаю пост будет мегапопулярным)
- id: 137494
  author: Игорь
  author_email: mail@s808.ru
  author_url: http://www.s808.ru
  date: '2013-02-17 14:45:43 +0400'
  date_gmt: '2013-02-17 10:45:43 +0400'
  content: Статья хоть и простовата, но нужная, думаю нужна еще не одна статья в которых
    бы описывались разные варианты написания самих function.
- id: 150970
  author: Николай Piligrim
  author_email: sportclan@mail.ru
  author_url: http://pc-polzovatel.ru/
  date: '2013-04-28 20:47:31 +0400'
  date_gmt: '2013-04-28 16:47:31 +0400'
  content: Всё отлично работает! У меня сайдбар в две колонки пришлось немного подкрутить,
    в настройках кода, а в целом очень просто всё и понятно спасибо автор!
- id: 169346
  author: Наталья
  author_email: natalia.podlipalina@yandex.ru
  author_url: http://www.tvorchestvaidei.ru/
  date: '2013-06-27 23:38:50 +0400'
  date_gmt: '2013-06-27 19:38:50 +0400'
  content: "В, g+,t и f ;)\r\nСпасибо,  очень пригодилось)))"
- id: 181680
  author: Галина
  author_email: zemchen@gmail.com
  author_url: http://mir-domohozyaiki.ru
  date: '2013-08-28 14:01:04 +0400'
  date_gmt: '2013-08-28 10:01:04 +0400'
  content: "Спасибо за  пост! После смены шаблона приходится многое переделывать,
    потому вынуждена копаться в кодах. Статья многое объясняет. \r\nИ каюсь, мне гораздо
    легче производить изменения либо в редакторе, либо прямо на хостинге, никак не
    могу научиться пользоваться Total Commander или Filуzilla, туплю по полной. Может
    статью напишите понятным языком?"
- id: 182438
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2013-09-01 22:19:06 +0400'
  date_gmt: '2013-09-01 18:19:06 +0400'
  content: Статью о чём написать? О том как редактировать не использую web-интерфейс,
    а нормально через редактор на компьютере?
- id: 186372
  author: Валерий
  author_email: prohogiy2121@gmail.com
  author_url: http://gold-kyrs.ru
  date: '2013-09-25 17:24:51 +0400'
  date_gmt: '2013-09-25 13:24:51 +0400'
  content: "Убил день :) Но все равно спасибо. Изучил оба сайта но не получилось :)
    Кстати в статье не хватает фразы куда вставлять стили. Просмотрев видео понял.
    Почитаю еще на свежую голову :)\r\nУдачи!"
- id: 222957
  author: Олег
  author_email: oleg_suvorov_73@mail.ru
  author_url: http://suvorov-castom.ru
  date: '2014-02-06 14:42:13 +0400'
  date_gmt: '2014-02-06 10:42:13 +0400'
  content: Здравствуйте. Понял из статьи, что нужно пользоваться только вторым способом,
    но к сожалению уже когда воспользовался первым способом, то есть вставил код в
    этот файл в админке вордпрес и сайт пропал полностью. Подскажите пожалуйста как
    восстановить сайт и исправить ошибку. Заранее большое спасибо.
- id: 222959
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-02-06 14:51:09 +0400'
  date_gmt: '2014-02-06 10:51:09 +0400'
  content: |-
    Если знаете что конкретно нужно откатить чтобы сайт снова заработал, то воспользуйтесь просто вторым вариантом. Зайдите по FTP, найдите functions.php и поправьте всё как было до ошибки. Но есть и другой вариант.

    Если хостинг позволяет, то можно восстановиться из бэкапа за вчерашний день. Это вам надо в админку хостинга, если там не такой функции, то спросите поддержку, может у них делаются бекапы, но восстанавливают они только по запросам.
- id: 222960
  author: Галина
  author_email: zemchen@gmail.com
  author_url: http://mir-domohozyaiki.ru
  date: '2014-02-06 14:51:57 +0400'
  date_gmt: '2014-02-06 10:51:57 +0400'
  content: Чтобы сайт восстановить, пишите на хостинг, они восстановят из резервной
    копии. У меня тоже слетал. А дальше Андрей подскажет. :)
- id: 223038
  author: Олег
  author_email: oleg_suvorov_73@mail.ru
  author_url: http://suvorov-castom.ru
  date: '2014-02-07 00:01:12 +0400'
  date_gmt: '2014-02-06 20:01:12 +0400'
  content: Всем спасибо за советы. На хостинге восстановили из резервной копии.
- id: 224995
  author: Алексей Щукин
  author_email: schalex84@gmail.com
  author_url: http://info-bizznes.ru/
  date: '2014-02-20 01:55:35 +0400'
  date_gmt: '2014-02-19 21:55:35 +0400'
  content: "Кто сталкивался с такой проблемой. Блог работает исправно, все просто
    круто, но не могу попасть в настройки темы, как я понял, не открывается (ну или
    что-то там) файл functions.php\r\nПуть такой, может это поможет мой_сайт&#47;wp-admin&#47;themes.php?page=functions.php"
- id: 225024
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-02-20 10:08:46 +0400'
  date_gmt: '2014-02-20 06:08:46 +0400'
  content: "Настройки темы? Что за настройки имеются в виду? Настройки в самом WordPress,
    которые обычно представляют собой отдельную панель для каждой темы свою, где можно
    логотип подгрузить и др? Если имеется в виду такая панель, и, например, её конфигурация
    находится в файлах, то может просто не хватать прав на редактирование этих файлов.
    Нужно узнать, что за файл в теме отвечает за конфигурацию и дать на него необходимые
    права редактирования.\r\n\r\nИли если речь идёт о редактировании файлов темы встроенным
    редактором WordPress, то я не рекомендую его использовать. Используйте FTP-клиент
    и никаких проблем при редактировании не будет. Плюс в любой момент можно легко
    откатить изменения, что нельзя сделать в принципе встроенным редактором.\r\n\r\nБолее
    ничего не могу сказать. Слишком мало информации и проблема мне просто не понятна
    =)"
- id: 225042
  author: Алексей Щукин
  author_email: schalex84@gmail.com
  author_url: http://info-bizznes.ru/
  date: '2014-02-20 16:04:27 +0400'
  date_gmt: '2014-02-20 12:04:27 +0400'
  content: Я понял, спасибо. Вроде как разобрался. Сейчас перепроверю все. Отпишу
    как будет результат.
- id: 225043
  author: Алексей Щукин
  author_email: schalex84@gmail.com
  author_url: http://info-bizznes.ru/
  date: '2014-02-20 16:19:05 +0400'
  date_gmt: '2014-02-20 12:19:05 +0400'
  content: "Я нашел ошибку. Теперь более подробнее.\r\nКак вы и писали: \"отдельная
    панель для каждой темы свою, где можно логотип подгрузить и др.\"\r\nПроисходит
    ее сбой из-за вот этого кода: (не знаю можно ли в комментах код писать)\r\nfunction
    sp_widget_execute_php($text) {\r\n    if(strpos($text,''.$text);\r\n        $text
    = ob_get_contents();\r\n        ob_end_clean();\r\n    }\r\n    return $text;\r\n}\r\nЕго
    убираю и все работает."
- id: 225045
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-02-20 16:41:48 +0400'
  date_gmt: '2014-02-20 12:41:48 +0400'
  content: "Это мой код (из другой статьи) для исполнения PHP в виджетах. Если он
    вам не нужен, то удалите его. Похоже он просто конфликтует с вашей темой. Она
    наверно сама в виджетах уже исполняет код. Хотя может и нет. Но так или иначе,
    если вам не нужно исполнять в виджетах PHP, то удалите его. Или если даже нужно,
    то всё равно удалите и поглядите может ваша тема сама PHP в виджетах исполняет.
    \r\n\r\nПри этом это ещё не весь код, который нужно удалить, там есть ещё добавление
    фильтра. Примерно такая строка:\r\n\r\n<code>add_filter('widget_text','sp_widget_execute_php',100);<&#47;code>"
- id: 225046
  author: Алексей Щукин
  author_email: schalex84@gmail.com
  author_url: http://info-bizznes.ru/
  date: '2014-02-20 16:46:29 +0400'
  date_gmt: '2014-02-20 12:46:29 +0400'
  content: "Да. Я просто упустил эту строку.\r\nЯ брал ваш код, чтобы вывести топ
    комментаторов в виджете. Если не ошибаюсь, вы еще помогали кое-что доделать.\r\nУбрать
    код не могу, но я уже нашел альтернативу ему). В кодах не силен, поэтому в чем
    разница не знаю, вроде они одинаковые, но все работает.\r\nЕсли нужно, могу сбросить.
    А, чего тянуть :) Вот он. вдруг кому еще пригодится.\r\n\r\nfunction php_in_widgets($widget_content)
    {\r\n    if (strpos($widget_content, '' . $widget_content);\r\n        $widget_content
    = ob_get_contents();\r\n        ob_end_clean();\r\n    }\r\n    return $widget_content;\r\n}\r\n
    \r\nadd_filter('widget_text', 'php_in_widgets', 99);"
- id: 225047
  author: Алексей Щукин
  author_email: schalex84@gmail.com
  author_url: http://info-bizznes.ru/
  date: '2014-02-20 16:47:29 +0400'
  date_gmt: '2014-02-20 12:47:29 +0400'
  content: З.Ы. И спасибо за быстрый отзыв.
- id: 225049
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-02-20 17:30:48 +0400'
  date_gmt: '2014-02-20 13:30:48 +0400'
  content: Совершенно одинаковые функции, только именование переменных отличается.
    И приоритет исполнения фильтра на 1 меньше. Может быть в нём и была соль. Ну да
    ладно, главное работает.
- id: 225050
  author: Алексей Щукин
  author_email: schalex84@gmail.com
  author_url: http://info-bizznes.ru/
  date: '2014-02-20 18:04:57 +0400'
  date_gmt: '2014-02-20 14:04:57 +0400'
  content: "Ну значит я еще не так далек от функций, не все потеряно.\r\nЕще раз спасибо."
- id: 225474
  author: Элина
  author_email: kolozyan-elina@rambler.ru
  author_url: http://18kld.ru
  date: '2014-02-26 13:10:52 +0400'
  date_gmt: '2014-02-26 09:10:52 +0400'
  content: Здравствуйте! Помогите, пожалуйста!!!!!!! Залезла в functions.php , хотела
    сделать всплывающее меню, что то ни то сделала(((((( а теперь не могу зайти не
    на сайт ни в панель управления ((( подскажите как мне устранить ошибку ))))
- id: 225475
  author: Элина
  author_email: kolozyan-elina@rambler.ru
  author_url: http://18kld.ru
  date: '2014-02-26 13:19:08 +0400'
  date_gmt: '2014-02-26 09:19:08 +0400'
  content: Здравствуйте! Помогите, пожалуйста!!!!!!!!!!!! Залезла в functions.php
    хотела всплывающее меню сделать, ну и засунул туда код какой то (((((( а теперь
    не могу зайти ни на сайт ни в панель управления (((  Нужно срочно все исправить,
    а то директор повесит!
- id: 225476
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-02-26 13:19:49 +0400'
  date_gmt: '2014-02-26 09:19:49 +0400'
  content: "Если вы использовали FTP-клиент для редактирования, то просто откатите
    все изменения. Сделайте как было до вашего вмешательства. Обычно люди резервируют
    этот файл перед изменением. Или вы можете просто исправить ошибку, которую вам
    показал интерпретатор. Там же \"по-русски\" написано:\r\n\r\n<blockquote>Parse
    error: syntax error, unexpected '<', expecting ')' in &#47;home&#47;kld&#47;18kld.ru&#47;docs&#47;wp-content&#47;themes&#47;kld&#47;functions.php
    on line 4<&#47;blockquote>\r\n\r\nИдёте в 4ую строку <em>functions.php<&#47;em>
    и смотрите что там за '<' затесалась когда интерпретатор ждал закрывающую скобочку.\r\n\r\nЕсли
    всё плохо и вы редактировали через web-интерфейс WordPress, то либо идите в FTP-клиент
    как я и рекомендую в статье. Или вы можете обратиться к своему хостеру: у всех
    есть услуга восстановления из бекапа, но иногда для этого нужна заявка (просто
    написать в поддержку), а у других это есть прямо в меню хостинга. Но бекап будет
    скорее всего вчерашний, что может не подходить. Лучше исправить ошибку в functions.php
    самим ручками. Действуйте!"
- id: 225477
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-02-26 13:22:54 +0400'
  date_gmt: '2014-02-26 09:22:54 +0400'
  content: Если не получается самостоятельно, то могу предложить свою помощь, если
    вы дадите доступ. С этим уже в почту через форму обратной связи (вверху в меню
    ссылка). Просто гадать на кофейной гуще и предполагать что у вас там не так мне
    сложно, потому лучше чтобы я всё увидил своими глазами.
- id: 229329
  author: артем
  author_email: admin@infoalps.ru
  author_url: http://infoalps.ru/
  date: '2014-04-18 00:56:02 +0400'
  date_gmt: '2014-04-17 20:56:02 +0400'
  content: отличная статья. теперь все понятно. до этого я менял код в functions.php
    без описанных правил, и сайт просто "ложился" сразу.
- id: 238265
  author: Юрий
  author_email: iurii-zhuk@mail.ru
  author_url: http://iurii-zhuk.ru
  date: '2014-09-14 13:53:39 +0400'
  date_gmt: '2014-09-14 09:53:39 +0400'
  content: А у меня ?> вот этого тега в конце файла functions.php нет. Куда вставлять
    код  для топа комментаторов. Пытался в самый конец, но ничего не работало.
- id: 238269
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2014-09-14 17:21:18 +0400'
  date_gmt: '2014-09-14 13:21:18 +0400'
  content: Этот тег не обязательно иметь в конце. Попробуйте вставить перед первым
    тегом <?php или <?
- id: 242741
  author: Алексей
  author_email: Kamekadza@bk.ru
  author_url: http://cs08550-wordpress.tw1.ru/
  date: '2014-11-21 18:11:33 +0300'
  date_gmt: '2014-11-21 14:11:33 +0300'
  content: "Помогите разобраться...\r\nТоли конфликт с темой, толи чего.\r\nНу короче
    эта \"кнопка\" Наверх должна появляться при прокрутки страницы до **\r\nа до этого
    времени НЕ активно это поле (как у вас на сайте)\r\nА у меня сейчас так:\r\nэту
    полосу с надписью \"Наверх\" хоть и не видно, но она работает и титл всплывает
    :("
- id: 242744
  author: Алексей
  author_email: Kamekadza@bk.ru
  author_url: http://cs08550-wordpress.tw1.ru/
  date: '2014-11-21 18:18:23 +0300'
  date_gmt: '2014-11-21 14:18:23 +0300'
  content: Блин комент. не туда написал, открыто несколько вкладок с данным сайтом
    - перепутал :(
- id: 246846
  author: Дмитрий
  author_email: leonov.do72@gmail.com
  author_url: http://leonov-do.ru
  date: '2015-02-08 12:32:45 +0300'
  date_gmt: '2015-02-08 08:32:45 +0300'
  content: "Добрый день, а как найти правильный закрывающий \"?>\" у меня их 6 шт.
    в моем functions.php\r\n\r\n\r\n  Z:\\home\\localhost\\www\\dol\\wp-content\\themes\\time\\functions.php
    (6 hits)\r\n\tLine 1578: \t\treturn preg_replace('#()?()()?#i', '\\2', $content);\r\n\tLine
    1815: \t\t\tif ($attachment->post_content &amp;&amp; preg_match('#\\s*#i', $attachment->post_content,
    $matches)) {\r\n\tLine 2139: \t\treturn \"\".preg_replace('#^(.+?)$#i', '\\1',
    $html).'';\r\n\tLine 2214: \t\treturn preg_replace('##i', '', $breadcrumb);\r\n\tLine
    2227: \t\t$captcha = preg_replace('##', '', $captcha);\r\n\tLine 4406: \t\t\t\t\t'<a[^]*?href=\"([^\"]*)\"[^]*?>\\s*(<img[^]*>)([^]*)<&#47;a>\\s*'.\r\nSearch
    \"?>\" (6 hits in 1 file)"
- id: 246851
  author: SlowProg
  author_email: paperplanesu@rambler.ru
  author_url: http://paperplane.su
  date: '2015-02-08 14:45:23 +0300'
  date_gmt: '2015-02-08 10:45:23 +0300'
  content: Правильный &ndash; любой, что не заходится в теле функции.
---
<p><a href="http:&#47;&#47;image.paperplane.su&#47;2013&#47;02&#47;functions-wordpress.png"><img src="http:&#47;&#47;image.paperplane.su&#47;2013&#47;02&#47;functions-wordpress-300x300.png" alt="Добавить код в functions.php" title="Добавить код в functions.php" width="300" height="300" class="alignleft size-medium wp-image-2777" &#47;><&#47;a>Пост про <strong>вставку кода в functions.php<&#47;strong> инициирован тем, что начинающие блоггеры и пользователи CMS WordPress (особенно те кто не знаком с PHP) часто совершают одни и те же ошибки при добавлении своего и чужого кода. Особенно это видно по комментариям в постах <a href="http:&#47;&#47;paperplane.su&#47;blog&#47;wordpress&#47;bez-plagina-wordpress&#47;" title="WordPress - без плагина" target="_blank">без плагина для WordPress<&#47;a>, в которых постоянно так или иначе всплывает этот вопрос. И мне это уже немного надоело. Да, есть некоторые нюансы, о которых начинающие и не подозревают. Потому я решил посвятить этот пост этим нюансам, но вначале немного теории, надо ведь знать врага в лицо!</p>
<h2>Файл functions.php<&#47;h2><br />
Это вспомогательный файл, который есть в каждой теме WordPress. Этот файл может ничего и не содержать, но как правило там куча кода. Сразу скажу, что никаких ограничений в размерах нет, там может быть много тысяч строк кода. Фактически, когда весь код в одном файле, то это даже лучше, т.к. нет переключений между разными файлами - выигрыш в несколько наносекунд (если весь файл поместится в оперативку, но с этим обычно всё нормально). </p>
<p>Этот файл может содержать код, который влияет на всё, что угодно в WordPress. Фактически, это соль этой CMS, с помощью написания своих (чужих) функций можно перехватывать выполнение совершенно любых операций (добавление поста, открытие страницы, закачка файла и др.) и вносить свои изменения в этот процесс. Это может быть внесение изменений в административную часть, фронтэнд, оформление, поведение и др. Так же тут регистрируются все другие компоненты и модули темы, которые были написаны разработчиком, как отдельные (не стандартные) подключаемые файлы.</p>
<p>Этот файл можно редактировать двумя способами:</p>
<ul>
<li><strong>Встроенный редактор WordPress<&#47;strong> - стандартный web-редактор встроенный в WordPress. Найти его можно в админке <em>Внешний вид<&#47;em> -> <em>Редактор<&#47;em>. У этого способа всего одно преимущество: оперативность. Основные минусы это то, что нет подсветки кода, и в случае, если правка кода вызвала ошибку работы WordPress, то редактор перестанет быть доступным и исправить ошибку уже будет не возможно. Последнее - это самая частая ошибка у новичков, которая вызывает, как правило, панику т.к. сайт падает, а сделать они ничего не могут. Не рекомендую использовать этот метод, точнее нет, запрещаю использовать этот метод.<&#47;li>
<li><strong>Сторонние программы<&#47;strong> - подойдет любой редактор текста (блокнот) в вашей операционной системе. Рекомендую в Windows такие как Notepad++, в MacOS - Coda, в Linux - vim. Ну и вообще,есть много разных поделий, <a rel="nofollow" href="https:&#47;&#47;www.google.ru&#47;search?q=%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80+%D0%BA%D0%BE%D0%B4%D0%B0&aq=f&oq=%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80+%D0%BA%D0%BE%D0%B4%D0%B0&aqs=chrome.0.57j0l3j62l2.2988&sourceid=chrome&ie=UTF-8" target="_blank">погуглите и найдете<&#47;a>. Плюсы в этом подходе очевидны: подсветка кода, независимость от сайта, дополнительные функции (разные плагины поиск, сравнения, вставки, замены и т.д.). Но нужно уметь открыть файл через этот сторонний редактор. Для этого нужно по протоколу FTP скачать нужный файл, открыть его в этом редакторе, исправить, сохранить, и закачать на сервер. И желательно, сохранять исходный файл у себя на компьютере, чтобы в случае критической ошибки откатить все изменения обратно. Для этого рекомендую использовать <a rel="nofollow" href="http:&#47;&#47;filezilla.ru&#47;" title="Бесплатный FTP-менеджер" target="_blank">FileZilla<&#47;a>.<&#47;li><br />
<&#47;ul></p>
<p>Настоятельно рекомендую использовать только второй вариант! Потребуется время, чтобы въехать в него и обучить себя так редактировать файлы, но оно того стоит. Так же хочу обратить внимание на то что все файлы WordPress должны быть в кодировке UTF-8. В том числе и <em>functions.php<&#47;em>. Это очень важно! Однако стандартный блокнот Windows при сохранении в кодировке UTF-8 добавляет в PHP-файлы невидимые символы, называемые BOM, которые в дальнейшем приводят к проблемам. Чтобы правильно сохранять файлы в кодировке UTF-8 без BOM читайте статью об <a href="http:&#47;&#47;paperplane.su&#47;ispravlenie-karakul-na-wordpress-pri-pomoshhi-utf8-bez-bom&#47;" title="UTF-8 without BOM" target="_blank">исправлении кодировки<&#47;a>.</p>
<h2>Вставка кода<&#47;h2><br />
А вот и суть поста. На самом деле всё просто, есть всего одно правило, которое нужно соблюдать при вставке кода: <strong>не нарушать целостность и структуру кода<&#47;strong>. Под этой нехитрой фразой скрывается, то что нельзя ничего выводить в поток вывода PHP раньше вывода основных заголовков. Всё еще не понятно? Проще говоря, в <em>functions.php<&#47;em> не должно быть вне функций конструкций вида [cci lang="php"]?> ... <?php[&#47;cci]. Плюс не должно быть ничего до начального [cci lang="php"]<?php[&#47;cci] и после финального [cci lang="php"]?>[&#47;cci]. Т.е. если подобная конструкция будет <strong>вне функции<&#47;strong>, тогда то что находится между [cci lang="php"]?>[&#47;cci] и [cci lang="php"]<?php[&#47;cci] будет сразу поступать в поток вывода, что делать нельзя. И кстати, функция это то что начинается со слова <em>function<&#47;em> и кончается закрывающей фигурной скобкой, например:<br />
[cce lang="php"]<br />
function foo() {<br />
	&#47;&#47; тело функции, в нем может содержаться различный код<br />
}<br />
[&#47;cce]<br />
Надеюсь это понятно. Если нет, то перечитывайте предыдущий абзац до наступления озарения. Также прошу взять во внимание, что тег [cci lang="php"]<?php[&#47;cci] и [cci lang="php"]<?[&#47;cci] это один и тот же тег, просто второй краткое его написание и на некоторых хостингах он запрещен, потому рекомендую использовать всегда первый вариант.</p>
<p>Исходя из выше написанного должно быть понятно, как выставлять код в <em>functions.php<&#47;em>, но все же я поясню. Весь новый код можно добавлять в любое место, но для удобства давайте будем это делать в конце файла. Откройте <em>functions.php<&#47;em>, опуститесь в конец файла и вставьте код перед закрывающим тегом [cci lang="php"]?>[&#47;cci] (если он там есть, иначе просто в конец). Если код, который вы вставляете, начинается открывающим тегом  [cci lang="php"]<?php[&#47;cci], то лучше его просто удалить, т.к. вы уже будете вставлять код в место обозначенное таким же тегом выше. Тоже самое касается и закрывающего тега - удалить если он в самом конце вашего кода. Покажу несколько сокращенных примеров для ясности. Вот наш маленький <em>functions.php<&#47;em> и заметьте, что вне функций запрещенных конструкций нет (только в самой функции, но это разрешено):<br />
[cce lang="php"]<?php<br />
&#47;&#47; начало файла functions.php<br />
function foo() {<br />
	<? <span>просто текст<&#47;span> ?><br />
}</p>
<p>&#47;&#47; конец файла functions.php<br />
?><br />
[&#47;cce]<br />
Нам необходимо вставить следующий код, который мы нашли где-то на просторах интернета:<br />
[cce lang="php"]<?php<br />
function boo() {<br />
	echo 'http:&#47;&#47;booo.ru'<br />
}<br />
?><br />
[&#47;cce]<br />
Если мы его пихнем как есть, то получится следующее:<br />
[cce lang="php"]<?php<br />
&#47;&#47; начало файла functions.php<br />
function foo() {<br />
	<? <span>просто текст<&#47;span> ?><br />
}</p>
<p><?php<br />
function boo() {<br />
	echo 'http:&#47;&#47;booo.ru'<br />
}<br />
?></p>
<p>&#47;&#47; конец файла functions.php<br />
?><br />
[&#47;cce]<br />
Этот код вообще отработает не верно, т.к. идут два подряд открывающих тега, а потом два закрывающих. Вроде бы можно перед вторым открывающим поставить один закрывающий и перед вторым зарывающим один открывающий, если вы понимаете о чем я. Но тогда будет нарушена целостность файла и появятся вне функций конструкций вида [cci lang="php"]?> ... <?php[&#47;cci], что делать непозволительно! Потому просто удалим лишние теги во вставляемом коде и вставим только сам PHP-код (без тегов [cci lang="php"]<?php ... ?>[&#47;cci]):<br />
[cce lang="php"]<?php<br />
&#47;&#47; начало файла functions.php<br />
function foo() {<br />
	<? <span>просто текст<&#47;span> ?><br />
}</p>
<p>function boo() {<br />
	echo 'http:&#47;&#47;booo.ru'<br />
}</p>
<p>&#47;&#47; конец файла functions.php<br />
?><br />
[&#47;cce]<br />
Надеюсь, я вас не запутал и теперь вы не будете совершать ошибок при вставке кода. На этом у меня все, если есть вопросы, предложения или пожелания, то прошу в комментарии. Удачи!</p>

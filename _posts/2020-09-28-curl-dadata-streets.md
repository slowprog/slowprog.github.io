---
layout: post
title: Получить типы улиц ФИАС (DaData)
date: 2020-09-28T17:11:20+03:00
categories: Мастерская
tags: [curl, bash, dadata]
---

Для удаления типа улицы из адреса нужен был список этих типов, которые используются в [ФИАС](https://fias.nalog.ru/). Их можно найти в таблице SOCRBASE, но DaData любезно собрала все используемые типы в репу [hflabs/socrbase](https://github.com/hflabs/socrbase). Осталось написать несложный скрипт, который извлечёт все возможные варианты написания улицы (не только сокращения, но полные варианты):

```
$ curl https://raw.githubusercontent.com/hflabs/socrbase/master/socrbase.csv | gawk -F "\"*,\"*" '{if ($2 == 7 || $2 == 75) print "\047" $3 "\047, \n\047" tolower($4) "\047, "}' | sort -nr | uniq | tr -d '\n'
```

Если требуется не только улицы, то можно заменить `$2 == 7 || $2 == 75` на требуемые типы или даже вообще убрать проверку.